<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>面试准备 | 李阳的秘密小屋</title><meta name="keywords" content="面试"><meta name="author" content="李阳"><meta name="copyright" content="李阳"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="面试准备"><meta name="application-name" content="面试准备"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="面试准备"><meta property="og:url" content="https://blog.baskly.fun/posts/1918/index.html"><meta property="og:site_name" content="李阳的秘密小屋"><meta property="og:description" content="面试考题"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://bu.dusays.com/2024/11/24/674340e56737a.png?_r_=da26521f-cbd4-914e-9f3d-7e1dcc562c51"><meta property="article:author" content="李阳"><meta property="article:tag" content="bask,李阳"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://bu.dusays.com/2024/11/24/674340e56737a.png?_r_=da26521f-cbd4-914e-9f3d-7e1dcc562c51"><meta name="description" content="面试考题"><link rel="shortcut icon" href="/img/flow-32x32.ico"><link rel="canonical" href="https://blog.baskly.fun/posts/1918/"><link rel="preconnect" href="//cdn.cbd.int"><meta name="google-site-verification" content="xxx"><meta name="baidu-site-verification" content="code-xxx"><meta name="msvalidate.01" content="xxx"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="var(--anzhiyu-main)"><link rel="mask-icon" href="/img/siteicon/yang180.png" color="#5bbad5"><link rel="apple-touch-icon" sizes="180x180" href="/img/siteicon/yang180.png"><link rel="apple-touch-icon-precomposed" sizes="180x180" href="/img/siteicon/yang180.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/siteicon/yang32.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/siteicon/yang16.png"><link rel="bookmark" href="/img/siteicon/yang180.png"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2048-2732.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2732-2048.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1668-2388.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2388-1668.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1536-2048.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2048-1536.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1668-2224.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2224-1668.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1620-2160.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2160-1620.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1290-2796.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2796-1290.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1179-2556.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2556-1179.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1284-2778.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2778-1284.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1170-2532.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2532-1170.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1125-2436.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2436-1125.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1242-2688.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2688-1242.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-828-1792.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1792-828.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1242-2208.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2208-1242.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-750-1334.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1334-750.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-640-1136.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1136-640.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={linkPageTop:void 0,peoplecanvas:void 0,postHeadAiDescription:{enable:!0,gptName:"Liyang",mode:"local",switchBtn:!1,btnLink:"https://afdian.net/item/886a79d4db6711eda42a52540025c377",randomNum:3,basicWordCount:1e3,key:"xxxx",Referer:"https://xx.xx/"},diytitle:{enable:!0,leaveTitle:"不要走",backTitle:"不要离开我     -"},LA51:void 0,greetingBox:{enable:!0,default:"晚上好👋",list:[{greeting:"晚安😴",startTime:0,endTime:5},{greeting:"早上好鸭👋, 祝你一天好心情！",startTime:6,endTime:9},{greeting:"上午好👋, 状态很好，鼓励一下～",startTime:10,endTime:10},{greeting:"11点多啦, 在坚持一下就吃饭啦～",startTime:11,endTime:11},{greeting:"午安👋, 要睡觉喽",startTime:12,endTime:14},{greeting:"🌈充实的一天辛苦啦！",startTime:14,endTime:18},{greeting:"19点喽, 奖励一顿丰盛的大餐吧🍔。",startTime:19,endTime:19},{greeting:"晚上好👋, 在属于自己的时间好好放松😌~",startTime:20,endTime:24}]},twikooEnvId:"https://twikoo.baskly.fun",commentBarrageConfig:void 0,music_page_default:"nav_music",root:"/",preloader:{source:3},friends_vue_info:void 0,navMusic:!0,mainTone:{mode:"both",api:null,cover_change:!0},authorStatus:{skills:["东隅已逝 桑榆非晚","集中精神 攻克难关"]},algolia:void 0,localSearch:{path:"/search.xml",preload:!0,languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"简",rightMenuMsgToTraditionalChinese:"转为繁体",rightMenuMsgToSimplifiedChinese:"转为简体"},noticeOutdate:void 0,highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:330},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,simplehomepage:!0,post:!1},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:{copy:!0,copyrightEbable:!1,limitCount:50,languages:{author:"作者: 李阳",link:"链接: ",source:"来源: 李阳的秘密小屋",info:"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。",copySuccess:"复制成功，复制和转载请标注本文地址"}},lightbox:"fancybox",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#425AEF",bgDark:"#1f1f1f",position:"top-center"},source:{justifiedGallery:{js:"https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js",css:"https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css"}},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1,shortcutKey:void 0,autoDarkmode:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={configTitle:"李阳的秘密小屋",title:"面试准备",postAI:"",pageFillDescription:"一、 自我介绍, 二、介绍一下你的项目, 三、八股部分, 1. 我看你在项目中使用了Redis你最近在哪些场景中使用了Redis呢？, Redis的缓存在项目中的使用？, 为什么使用Redisson分布式锁？, 2. 那么你是怎么解决缓存穿透的问题呢？, 4. 什么是缓存击穿？怎么解决, 5. 什么是缓存雪崩怎么解决？, 6. Redis作为缓存Mysql与Redis数据如何进行同步呢（双写一致）, 7. Redis作为缓存数据持久化是怎么做的, 8. 这两种持久化方式有什么区别呢？, 9. 这两种方式哪种恢复的比较快呢？, 14. Redis的分布式锁是如何实现的呢, 15. Redis实现分布式锁如何合理控制锁的时长, 16. Redisson实现分布式锁是可重用的吗, 17. Redisson可以解决主从一致的问题吗, 19. Redis集群有哪些方案知道吗？, 20. 那你来介绍一下主从同步, 22. 怎么保证Redis的高并发高可用？, 23. 你们使用Redis是单点还是集群哪种集群？, 27. Redis是单线程的但是为什么还那么快？, 1. 在MySQL中如何定位慢查询呢？, 2. 那这个SQL语句执行很慢如何分析呢？, 3. 那你了解过索引吗？什么是索引, 4. 索引的底层数据结构了解过吗？, 8. 知道什么是覆盖索引吗？, 9. MySQL超大分页怎么处理, 12. 谈一谈你对SQL优化的经验？（面试常见）, 14. 在使用索引的时候是如何优化呢？, 15. 你平时对SQL语句做了哪些优化呢？, 16. 事务的特征是什么可以详细说一下吗, 20. 事务中的隔离性是如何保障的呢？（请你解释一下MVCC）[面试常考], 2. 什么是AOP？, 3. 你们项目中有没有使用到AOP, 4. Spring的事务是如何实现的, 6. Spring的bean的生命周期（易考）, 11. SpringBoot的自动装配原理（易考）, 16. 请你描述一下Spring的DI和IOC、, 18.拦截器和过滤器有什么区别, 7. 说一下HashMap的实现原理（易考）, 8. 面试题-HashMap的put方法的具体流程, 9. 讲一讲HashMap的扩容机制, 13. HashSet与HashMap的区别, 15. 说一说Java提供的常见集合？, 3. 创建线程的方式有哪些（易考）, 6. 线程包括了哪些状态状态之间是如何变化的, 7. 新建 T1、T2、T3 三个线程如何保证它们按顺序执行？, 14. 谈谈你对CAS的理解, 15. 谈谈你对volatile的理解, 16. 什么是AQS, 18. synchronized和Lock有什么区别 ? （易考）, 19. 死锁产生的条件是什么？, 20. 如何进行死锁诊断？, 22. 导致并发程序出现问题的根本原因是什么, 23. 项目中有没有用到线程池以及线程数是怎么设置的和拒绝策略是怎么设置的, 24. 说一下线程池的核心参数（线程池的执行原理知道嘛）（易考）, 1.谈谈你对ThreadLocal的理解（易考）, 32. 好的那你知道ThreadLocal的底层原理实现吗？, 34. 我看你的项目中有使用ThreadLocal谈谈你对他的理解, 1. JVM由那些部分组成运行流程是什么？（易考）, 2. 什么是程序计数器？（易考）, 9. 栈和堆的区别呢, 18. 简述Java垃圾回收机制？（GC是什么？为什么要GC）, 9. 对象什么时候可以被垃圾器回收（易考）, 20. JVM的垃圾清除算法有哪些（易考）, 21. 说一下JVM的分代回收, 22. 说一说讲一下新生代、老年代、永久代 区别相关, 23. 说一下JVM有哪些垃圾回收器（易考）, 1. 你的单点登录模块怎么实现的呢（什么是SSO）, 2. 你的项目中权限认证如何实现的, 3. 你负责的项目中遇到哪些棘手的问题？怎么解决的一自我介绍各位面试官好我是李阳目前是武汉纺织大学外经贸学院软件工程专业的一名应届本科生虽然暂未拥有正式职场的开发经验但通过年专业学习和多段实践项目已构建起相对完整的技术体系和开发思维今天特别希望能向各位展示我的学习成果与潜力我比较擅长熟悉等主流框架能独立搭建后端项目架构熟悉数据库熟悉索引优化性能分析了解缓存相关知识点我希望能够加入贵公司在领域发挥我的技术能力同时学习更先进的技术和业务知识实现个人和公司的共同发展二介绍一下你的项目我在校内是主要参与和主导了一个一套功能完备的医院信息管理系统这个系统有管理员挂号员医生检察员等角色实现从患者挂号医生诊疗检查申请结果回传到费用结算的完整业务流程具备实际医院管理系统的功能完整性我们项目团队由名成员组成我担任项目组长负责整体架构设计技术选型核心功能开发团队协调等工作其他成员分别负责前端开发数据库设计和测试工作这个项目开发过程中也遇到了一些挑战比如需要处理复杂的医院业务流程涉及多角色权限管理大量并发挂号操作智能辅助诊断等技术创新点同时需要保证系统的稳定性安全性和用户体验我在项目中设计并实现前后端分离架构集成阿里云百炼大模型实现辅助诊断使用缓存优化系统性能实现分布式锁解决挂号并发问题主要解决挂号并发导致的号源超卖问题优化药品分页查询性能实现智能病历分析确保多角色权限控制的安全性提升系统整体性能和用户体验我们项目采用前后端分离架构使用进行数据持久化集成阿里云存储检查影像使用缓存热点数据通过分布式锁解决并发问题集成阿里云百炼大模型实现辅助诊断当然我们在开发中也遇到一些问题比如说药品分页查询性能问题通过基于主键的分页优化和复合索引解决挂号并发问题通过分布式锁解决我们也克服了这些问题药品分页查询响应时间从几秒钟优化到几十毫秒改好也不会出现超卖的问题了用户体验得到显著改善通过项目实践我深入掌握了锁大模型集成等核心技术提升了系统架构设计能力问题解决能力和团队协作能力三八股部分我看你在项目中使用了你最近在哪些场景中使用了呢我在项目中使用缓存医生排班药品库存等热点数据通过分布式锁解决挂号并发问题确保号源分配的原子性操作的缓存在项目中的使用医生排班信息缓存将医生的排班表可预约时间段剩余号源数量等数据缓存到中设置合理的过期时间如小时当挂号员查询医生排班时优先从获取数据避免频繁查询数据库提升响应速度用户登录状态管理使用存储用户的和会话信息设置过期时间与保持一致当用户访问需要认证的接口时从中验证有效性实现快速的身份验证药品库存信息缓存将常用药品的库存数量价格规格等信息缓存到挂号员和医生查询药品信息时直接从缓存获取减少数据库压力患者挂号记录缓存将当天的挂号记录已预约号源等信息缓存到方便快速查询和更新挂号状态为什么使用分布式锁挂号并发问题当多个挂号员同时为同一医生同一时间段挂号时可能出现超卖问题比如某医生上午点只有个号源但个挂号员同时操作可能导致个患者都成功挂号造成号源超卖分布式锁的必要性使用分布式锁在挂号操作前先获取锁确保同一时间只有一个挂号员能操作该医生的号源操作完成后释放锁保证号源分配的原子性那么你是怎么解决缓存穿透的问题呢嗯我想一下缓存穿透是指查询一个一定不存在的数据由于存储层查不到数据因此不写入缓存这将导致这个不存在的数据每次请求都要到数据库去查询可能导致数据库挂掉这种情况大概率是遭到了攻击解决方案的话一般有两种方式方案一呢是采用缓存空数据的方式方案二就是采用布隆过滤器我们项目比较简单我使用的是缓存空数据的方式什么是缓存击穿怎么解决嗯缓存击穿的意思是对于设置了过期时间的缓存在某个时间点过期的时候恰好这个时间点对这个有大量的并发请求过来这些请求发现缓存过期一般都会从后端加载数据并回设到缓存这个时候大并发的请求可能会瞬间把压垮解决方案有两种方式第一可以使用互斥锁当缓存失效时不立即去先使用如的去设置一个互斥锁当操作成功返回时再进行的操作并回设缓存否则重试缓存的方法第二种方案是设置当前逻辑过期大概思路如下在设置的时候设置一个过期时间字段一块存入缓存中不给当前设置过期时间当查询的时候从取出数据后判断时间是否过期如果过期则开通另外一个线程进行数据同步当前线程正常返回数据这个数据可能不是最新的两种方案各有利弊如果选择数据的强一致性建议使用分布式锁的方案但性能上可能没那么高且有可能产生死锁的问题如果选择的逻辑删除则优先考虑高可用性性能比较高但数据同步这块做不到强一致什么是缓存雪崩怎么解决嗯缓存雪崩意思是设置缓存时采用了相同的过期时间导致缓存在某一时刻同时失效请求全部转发到瞬时压力过重而雪崩与缓存击穿的区别是雪崩是很多而击穿是某一个缓存解决方案主要是可以将缓存失效时间分散开比如可以在原有的失效时间基础上增加一个随机值比如分钟随机这样每一个缓存的过期时间的重复率就会降低就很难引发集体失效的事件作为缓存与数据如何进行同步呢双写一致我们当时是将医生排班信息用户的一些信息缓存到数据库这些数据实时要求性并没有这么高所以我们当时采用的是异步的方案同步数据我们当时采用的阿里的组件实现数据同步不需要更改业务代码部署一个服务服务把自己伪装成的一个从节点当数据更新以后会读取数据然后在通过的客户端获取到数据更新缓存即可作为缓存数据持久化是怎么做的在中提供了两种数据持久化的方式这两种持久化方式有什么区别呢是一个快照文件它是把内存存储的数据写到磁盘上当实例宕机恢复数据的时候可以从的快照文件中恢复数据的含义是追加文件当执行写命令的时候都会存储到这个文件中当实例宕机恢复数据的时候会从这个文件中再次执行一遍命令来恢复数据这两种方式哪种恢复的比较快呢因为是二进制文件保存时体积也比较小所以它恢复得比较快但它有可能会丢数据我们通常在项目中也会使用来恢复数据虽然恢复的速度慢一些但它丢数据的风险要小很多在文件中可以设置刷盘策略我们当时设置的就是每秒批量写入一次命令的分布式锁是如何实现的呢我们当时使用的是来实现分布式锁在挂号业务中当多个挂号员同时为同一医生同一时间段挂号时可能会出现号源超卖的问题底层使用的是和脚本来保证原子性实现分布式锁如何合理控制锁的时长嗯的确的指令不好控制这个问题我们当时采用的是的一个框架实现的在中需要手动加锁并且可以控制锁的失效时间和等待时间当锁住的一个业务还没有执行完成的时候会引入一个看门狗机制就是说每隔一段时间就检查当前业务是否还持有锁如果持有就增加加锁的持有时间当业务执行完成之后需要使用释放锁就可以了还有一个好处就是在高并发下一个业务有可能会执行很快客户持有锁的时候客户来了以后并不会马上被拒绝它会自旋不断尝试获取锁如果客户释放之后客户就可以马上持有锁性能也得到了提升实现分布式锁是可重用的吗嗯是可以重入的这样做是为了避免死锁的产生这个重入其实在内部就是判断是否是当前线程持有的锁如果是当前线程持有的锁就会计数如果释放锁就会在计数上减一在存储数据的时候采用的结构大可以按照自己的业务进行定制其中小是当前线程的唯一标识是当前线程重入的次数可以解决主从一致的问题吗这个是不能的比如当线程加锁成功后节点数据会异步复制到节点此时如果当前持有锁的节点宕机节点被提升为新的节点假如现在来了一个线程再次加锁会在新的节点上加锁成功这个时候就会出现两个节点同时持有一把锁的问题我们可以利用提供的红锁来解决这个问题它的主要作用是不能只在一个实例上创建锁应该是在多个实例上创建锁并且要求在大多数节点上都成功创建锁红锁中要求是的节点数量要过半这样就能避免线程加锁成功后节点宕机导致线程成功加锁到新的节点上的问题了但是如果使用了红锁因为需要同时在多个节点上都添加锁性能就变得非常低并且运维维护成本也非常高所以我们一般在项目中也不会直接使用红锁并且官方也暂时废弃了这个红锁集群有哪些方案知道吗嗯在中提供的集群方案总共有三种主从复制哨兵模式分片集群那你来介绍一下主从同步嗯是这样的单节点的并发能力是有上限的要进一步提高的并发能力可以搭建主从集群实现读写分离一般都是一主多从主节点负责写数据从节点负责读数据主节点写入数据之后需要把数据同步到从节点中怎么保证的高并发高可用首先可以搭建主从集群再加上使用中的哨兵模式哨兵模式可以实现主从集群的自动故障恢复里面就包含了对主从服务的监控自动故障恢复通知如果故障会将一个提升为当故障实例恢复后也以新的为主同时也充当客户端的服务发现来源当集群发生故障转移时会将最新信息推送给的客户端所以一般项目都会采用哨兵的模式来保证的高并发高可用你们使用是单点还是集群哪种集群嗯我们当时使用的是主从主从加哨兵一般单节点不超过内存如果内存不足则可以给不同服务分配独立的主从节点尽量不做分片集群因为集群维护起来比较麻烦并且集群之间的心跳检测和数据通信会消耗大量的网络带宽也没有办法使用脚本和事务是单线程的但是为什么还那么快嗯这个有几个原因吧完全基于内存的语言编写采用单线程避免不必要的上下文切换和竞争条件使用多路复用模型非阻塞例如和都是在后台执行操作不影响主线程的正常使用不会产生阻塞在中如何定位慢查询呢嗯我们当时在做压力测试时发现有些接口响应时间非常慢压测的结果大概是秒钟我们在中开启了慢日志查询设置的值就是秒一但的执行时间超过秒就会记录到日志中那这个语句执行很慢如何分析呢如果一条执行很慢我们通常会使用的命令来分析这条的执行情况通过和可以检查是否命中了索引如果已经添加了索引也可以判断索引是否有效通过字段可以查看是否有优化空间比如是否存在全索引扫描或全表扫描通过建议可以判断是否出现回表情况如果出现可以尝试添加索引或修改返回字段来优化那你了解过索引吗什么是索引嗯索引在项目中非常常见它是一种帮助高效获取数据的数据结构主要用来提高数据检索效率降低数据库的成本同时索引列可以对数据进行排序降低数据排序的成本也能减少的消耗索引的底层数据结构了解过吗的默认存储引擎使用的是树作为索引的存储结构选择树的原因包括节点可以有更多子节点路径更短磁盘读写代价更低非叶子节点只存储键值和指针叶子节点存储数据树适合范围查询和扫描因为叶子节点形成了一个双向链表知道什么是覆盖索引吗嗯清楚的覆盖索引是指查询语句使用了索引在返回的列必须在索引中全部能够找到如果我们使用查询它会直接走聚集索引查询一次索引扫描直接返回数据性能高如果按照二级索引查询数据的时候返回的列中没有创建索引有可能会触发回表查询尽量避免使用尽量在返回的列中都包含添加索引的字段超大分页怎么处理嗯超大分页通常发生在数据量大的情况下使用分页查询且需要排序时效率较低可以通过覆盖索引和子查询来解决首先查询数据的字段进行分页然后根据列表用子查询来过滤只查询这些的数据因为查询时使用的是覆盖索引所以效率可以提升谈一谈你对优化的经验面试常见候选人嗯这个在项目还是挺常见的当然如果直说优化的话我们会从这几方面考虑比如建表的时候使用索引语句的编写主从复制读写分离还有一个是如果量比较大的话可以考虑分库分表在使用索引的时候是如何优化呢在使用索引时我们遵循索引创建原则确保索引字段是查询频繁的使用复合索引覆盖返回值避免在索引字段上进行运算或类型转换以及控制索引数量你平时对语句做了哪些优化呢嗯这个也有很多比如语句务必指明字段名称不要直接使用还有就是要注意语句避免造成索引失效的写法如果是聚合查询尽量使用代替表关联时优先使用以及在必须使用或时确保小表作为驱动表事务的特征是什么可以详细说一下吗事务的特性是即原子性一致性隔离性持久性例如向转账元这个操作要么都成功要么都失败体现了原子性转账过程中数据要保持一致扣除了元必须增加元隔离性体现在向转账时不受其他事务干扰持久性体现在事务提交后数据要被持久化存储事务中的隔离性是如何保障的呢请你解释一下面试常考事务的隔离性通过锁和多版本并发控制来保证通过维护数据的多个版本来避免读写冲突底层实现包括隐藏字段和隐藏字段包括和记录了不同版本的数据通过形成版本链定义了不同隔离级别下的快照读决定了事务访问哪个版本的数据什么是即面向切面编程在中用于将那些与业务无关但对多个对象产生影响的公共行为和逻辑抽取出来实现公共模块复用降低耦合常见的应用场景包括公共日志保存和事务处理你们项目中有没有使用到我们之前在后台管理系统中使用来记录系统操作日志主要思路是使用的环绕通知和切点表达式找到需要记录日志的方法然后通过环绕通知的参数获取请求方法的参数例如类信息方法信息注解请求方式等并将这些参数保存到数据库的事务是如何实现的实现事务的本质是利用完成的它对方法前后进行拦截在执行方法前开启事务在执行完目标方法后根据执行情况提交或回滚事务的的生命周期易考中的生命周期包括以下步骤通过获取的定义信息调用构造函数实例化进行的依赖注入例如通过方法或注解处理实现了接口的通过接口可以获取到的一些基本信息比如的名称的工厂和执行的前置处理器调用初始化方法如实现了接口或自定义的执行的后置处理器可能在这里产生代理对象最后是销毁的自动装配原理易考的自动配置原理基于注解它封装了和是核心它通过导入配置选择器读取文件中的类名根据条件注解决定是否将配置类中的导入到容器中请你描述一下的和和都是框架中的核心概念它们的区别在于控制反转它是一种思想主要解决程序设计中的对象依赖关系管理问题在思想中对象的创建权反转给第三方容器由容器进行对象的创建及依赖关系的管理依赖注入它是思想的具体实现方式之一用于实现在中依赖注入是指在对象创建时由容器自动将依赖对象注入到需要依赖的对象中简单来说它们的关系是是一种思想理念定义了对象创建和依赖关系处理的方式是思想的具体实现方式之一实际提供对象依赖关系的注入功能例如在框架中体现为容器承担了对象创建及依赖关系管理的控制权体现为容器通过构造方法注入方法注入等方式将依赖对象注入到需要依赖的对象中拦截器和过滤器有什么区别拦截器和过滤器的区别主要体现在以下点出身不同过滤器来自于而拦截器来自于框架触发时机不同请求的执行顺序是请求进入容器进入过滤器进入进入拦截器执行控制器所以过滤器和拦截器的执行时机是过滤器会先执行然后才会执行拦截器最后才会进入真正的要调用的方法底层实现不同过滤器是基于方法回调实现的拦截器是基于动态代理底层是反射实现的支持的项目类型不同过滤器是规范中定义的所以过滤器要依赖容器它只能用在项目中而拦截器是中的一个组件因此拦截器既可以用在项目中同时还可以用在或程序中使用的场景不同因为拦截器更接近业务系统所以拦截器主要用来实现项目中的业务判断的比如登录判断权限判断日志记录等业务而过滤器通常是用来实现通用功能过滤的比如敏感词过滤字符集编码设置响应数据压缩等功能说一下的实现原理易考的数据结构底层使用表数据结构即数组和链表或红黑树当我们往中元素时利用的重新计算出当前对象的元素在数组中的下标存储时如果出现值相同的此时有两种情况如果相同则覆盖原始值如果不同出现冲突则将当前的放入链表或红黑树中获取时直接找到值对应的下标在进一步判断是否相同从而找到对应值面试题的方法的具体流程判断键值对数组是否为空或为否则执行进行扩容初始化根据键值计算值得到数组索引判断条件成立直接新建节点添加如果不成立判断的首个元素是否和一样如果相同直接覆盖判断是否为即是否是红黑树如果是红黑树则直接在树中插入键值对遍历链表的尾部插入数据然后判断链表长度是否大于大于的话把链表转换为红黑树在红黑树中执行插入操作遍历过程中若发现已经存在直接覆盖插入成功后判断实际存在的键值对数量是否超多了最大容量数组长度如果超过进行扩容讲一讲的扩容机制在添加元素或初始化的时候需要调用方法进行扩容第一次添加数据初始化数组长度为以后每次每次扩容都是达到了扩容阈值数组长度每次扩容的时候都是扩容之前容量的倍扩容之后会新创建一个数组需要把老数组中的数据挪动到新的数组中没有冲突的节点则直接使用计算新数组的索引位置如果是红黑树走红黑树的添加如果是链表则需要遍历链表可能需要拆分链表判断是否为该元素的位置要么停留在原始位置要么移动到原始位置增加的数组大小这个位置上与的区别实现了接口仅存储对象实现了接口存储的是键值对底层其实是用实现存储的封装了一系列的方法依靠来存储元素值利用的键进行存储而值默认为对象所以也不允许出现重复值判断标准和判断标准相同两个元素的相等并且通过方法返回说一说提供的常见集合在中提供了两大类的集合框架主要分为两类第一个是属于单列集合第二个是属于双列集合在中有两个子接口和在我们平常开发的过程中用的比较多像接口中的实现类和在接口中有实现类和在接口中有很多的实现类平时比较常见的是还有一个线程安全的创建线程的方式有哪些易考在中一共有四种常见的创建方式分别是继承类实现接口实现接口线程池创建线程通常情况下我们项目中都会采用线程池的方式创建线程线程包括了哪些状态状态之间是如何变化的在中的类中的枚举里面定义了中线程的状态分别是新建可运行终结阻塞等待和有时限等待六种关于线程的状态切换情况比较多我分别介绍一下当一个线程对象被创建但还未调用方法时处于新建状态调用了方法就会由新建进入可运行状态如果线程内代码已经执行完毕由可运行进入终结状态当然这些是一个线程正常执行情况如果线程获取锁失败后由可运行进入的阻塞队列阻塞只有当持锁线程释放锁时会按照一定规则唤醒阻塞队列中的阻塞线程唤醒后的线程进入可运行状态如果线程获取锁成功后但由于条件不满足调用了方法此时从可运行状态释放锁等待状态当其它持锁线程调用或方法会恢复为可运行状态还有一种情况是调用方法也会从可运行状态进入有时限等待状态不需要主动唤醒超时时间到自然恢复为可运行状态新建三个线程如何保证它们按顺序执行嗯我思考一下适当的思考或想一下属于正常情况脱口而出反而太假背诵痕迹可以这么做在多线程中有多种方法让线程按特定顺序执行可以用线程类的方法在一个线程中启动另一个线程另外一个线程完成该线程继续执行比如说使用方法调用调用这样就能确保就会先完成而最后完成谈谈你对的理解的全称是比较再交换它体现的一种乐观锁的思想在无锁状态下保证线程操作数据的原子性使用到的地方很多框架类在操作共享变量的时候使用的自旋锁效率上更高一些的底层是调用的类中的方法都是操作系统提供的其他语言实现谈谈你对的理解是一个关键字可以修饰类的成员变量类的静态成员变量主要有两个功能第一保证了不同线程对这个变量进行操作时的可见性即一个线程修改了某个变量的值这新值对其他线程来说是立即可见的关键字会强制将修改的值立即写入主存第二禁止进行指令重排序可以保证代码执行有序性底层实现原理是添加了一个内存屏障通过插入内存屏障禁止在内存屏障前后的指令执行重排序优化什么是的话其实就一个提供的类是阻塞式锁和相关的同步器工具的框架内部有一个属性属性来表示资源的状态默认等于表示没有获取锁等于的时候才标明获取到了锁通过机制设置状态在它的内部还提供了基于的等待队列是一个双向列表其中指向队列最后一个元素指向队列中最久的一个元素其中我们刚刚聊的底层的实现就是一个和有什么区别易考第一语法层面是关键字源码在中用语言实现退出同步代码块锁会自动释放是接口源码由提供用语言实现需要手动调用方法释放锁第二功能层面二者均属于悲观锁都具备基本的互斥同步锁重入功能提供了许多不具备的功能例如获取等待状态公平锁可打断可超时多条件变量同时可以实现不同的场景如第三性能层面在没有竞争时做了很多优化如偏向锁轻量级锁性能不赖在竞争激烈时的实现通常会提供更好的性能统合来看需要根据不同的场景来选择不同的锁的使用死锁产生的条件是什么嗯是这样的一个线程需要同时获取多把锁这时就容易发生死锁举个例子来说线程获得对象锁接下来想获取对象的锁线程获得对象锁接下来想获取对象的锁这个时候线程和线程都在互相等待对方的锁就产生了死锁如何进行死锁诊断我们只需要通过自动的工具就能搞定我们可以先通过来查看当前程序运行的进程然后通过来查看这个进程就能展示出来死锁的问题并且可以定位代码的具体行号范围我们再去找到对应的代码进行排查就行了导致并发程序出现问题的根本原因是什么并发编程有三大核心特性分别是原子性可见性和有序性首先原子性指的是一个线程在中的操作是不可暂停也不可中断的要么执行完成要么不执行比如一些简单的操作如赋值可能是原子的但复合操作如自增就不是原子的为了保证原子性我们可以使用关键字或里面的来进行加锁其次可见性是指让一个线程对共享变量的修改对另一个线程可见由于线程可能在自己的工作内存中缓存共享变量的副本因此一个线程对共享变量的修改可能不会立即反映在其他线程的工作内存中为了解决这个问题我们可以使用关键字关键字或来确保可见性最后有序性是指处理器为了提高程序运行效率可能会对输入代码进行优化导致程序中各个语句的执行先后顺序与代码中的顺序不一致虽然处理器会保证程序最终执行结果与代码顺序执行的结果一致但在某些情况下我们可能需要确保特定的执行顺序为了解决这个问题我们可以使用关键字来禁止指令重排项目中有没有用到线程池以及线程数是怎么设置的和拒绝策略是怎么设置的线程池的使用场景我们当时在项目中确实使用了线程池主要用于异步处理大模型的请求因为接口的响应时间比较长如果使用同步调用会阻塞主线程所以我们使用线程池来处理这些异步任务线程池配置我们创建了一个自定义的线程池核心线程数设置为最大线程数设置为队列容量设置为这样配置是因为请求不是特别频繁但单个请求耗时较长所以需要足够的线程来处理并发请求线程数设置原则我们按照密集型任务来设置线程数因为请求主要是网络和计算密集型操作考虑到我们的服务器是核我们设置核心线程数为最大线程数为这样可以充分利用资源同时避免创建过多线程导致上下文切换开销拒绝策略设置我们使用了作为拒绝策略当线程池和队列都满了时新任务会由调用线程来执行这样虽然会阻塞调用线程但能保证任务不会丢失对于请求这种重要业务来说是比较合适的选择实际效果使用线程池后接口的响应时间从原来的秒降低到秒用户体验得到了显著提升同时系统的并发处理能力也得到了增强能够支持更多的用户同时使用功能说一下线程池的核心参数线程池的执行原理知道嘛易考在线程池中一共有个核心参数核心线程数目池中会保留的最多线程数最大线程数目核心线程救急线程的最大数目生存时间救急线程的生存时间生存时间内没有新任务此线程资源会释放时间单位救急线程的生存时间单位如秒毫秒等当没有空闲核心线程时新来任务会加入到此队列排队队列满会创建救急线程执行任务线程工厂可以定制线程对象的创建例如设置线程名字是否是守护线程等拒绝策略当所有线程都在繁忙也放满时会触发拒绝策略拒绝策略有种当线程数过多以后第一种是抛异常第二种是由调用者执行任务第三是丢弃当前的任务第四是丢弃最早排队任务默认是直接抛异常谈谈你对的理解易考嗯是这样的主要功能有两个第一个是可以实现资源对象的线程隔离让每个线程各用各的资源对象避免争用引发的线程安全问题第二个是实现了线程内的资源共享好的那你知道的底层原理实现吗嗯知道一些在内部维护了一个一个类型的成员变量用来存储资源对象当我们调用方法就是以自己作为资源对象作为放入当前线程的集合中当调用方法就是以自己作为到当前线程中查找关联的资源值当调用方法就是以自己作为移除当前线程关联的资源值我看你的项目中有使用谈谈你对他的理解是提供的一个线程本地变量每个线程都有自己独立的变量副本线程之间互不干扰它通过来实现线程隔离每个线程都有自己的来存储变量我们当时在项目中主要用来存储当前登录用户的信息当用户登录后我们将用户信息存储到中这样在整个请求处理过程中任何地方都可以通过获取到当前用户信息而不需要每次都传递用户参数使用后我们不需要在每个方法中传递用户参数代码更加简洁同时由于每个线程都有独立的变量副本避免了线程安全问题不需要使用等同步机制由那些部分组成运行流程是什么易考嗯好的在中共有四大部分分别是类加载器运行时数据区内存分区执行引擎本地库接口它们的运行流程是第一类加载器把代码转换为字节码第二运行时数据区把字节码加载到内存中而字节码文件只是的一套指令集规范并不能直接交给底层系统去执行而是有执行引擎运行第三执行引擎将字节码翻译为底层系统指令再交由执行去执行此时需要调用其他语言的本地库接口来实现整个程序的功能什么是程序计数器易考嗯是这样虚拟机对于多线程是通过线程轮流切换并且分配线程执行时间在任何的一个时间点上一个处理器只会处理执行一个线程如果当前被执行的这个线程它所分配的执行时间用完了挂起处理器会切换到另外的一个线程上来进行执行并且这个线程的执行时间用完了接着处理器就会又来执行被挂起的这个线程这时候程序计数器就起到了关键作用程序计数器在来回切换的线程中记录他上一次执行的行号然后接着继续向下执行栈和堆的区别呢嗯好的有这几个区别第一栈内存一般会用来存储局部变量和方法调用但堆内存是用来存储对象和数组的的堆会垃圾回收而栈不会第二栈内存是线程私有的而堆内存是线程共有的第三两者异常错误不同但如果栈内存或者堆内存不足都会抛出异常简述垃圾回收机制是什么为什么要嗯是这样为了让程序员更专注于代码的实现而不用过多的考虑内存释放的问题所以在语言中有了自动的垃圾回收机制也就是我们熟悉的有了垃圾回收机制后程序员只需要关心内存的申请即可内存的释放由系统自动识别完成在进行垃圾回收时不同的对象引用类型会采用不同的回收时机对象什么时候可以被垃圾器回收易考思考一会如果一个或多个对象没有任何的引用指向它了那么这个对象现在就是垃圾如果定位了垃圾则有可能会被垃圾回收器回收如果要定位什么是垃圾有两种方式来确定第一个是引用计数法第二个是可达性分析算法通常都使用可达性分析算法来确定是不是垃圾的垃圾清除算法有哪些易考我记得一共有四种分别是标记清除算法复制算法标记整理算法分代回收说一下的分代回收关于分代回收是这样的在时堆被分为了两份新生代和老年代它们默认空间占用比例是对于新生代内部又被分为了三个区域区区区默认空间占用比例是具体的工作机制是有些情况当创建一个对象的时候那么这个对象会被分配在新生代的区当区要满了时候触发当进行后此时在区存活的对象被移动到区并且当前对象的年龄会加清空区当再一次触发的时候会把区中存活下来的对象和中的对象移动到区中这些对象的年龄会加清空区和区当再一次触发的时候会把区中存活下来的对象和中的对象移动到区中这些对象的年龄会加清空区和区对象的年龄达到了某一个限定的值默认岁那么这个对象就会进入到老年代中当然也有特殊情况如果进入区的是一个大对象在触发的时候会直接存放到老年代当老年代满了之后触发同时回收新生代和老年代当前只会存在一个的线程进行执行其他的线程全部会被挂起我们在程序中要尽量避免的出现说一说讲一下新生代老年代永久代区别相关嗯是这样的简单说就是新生代主要用来存放新生的对象老年代主要存放应用中生命周期长的内存对象永久代指的是永久保存区域主要存放和元数据的信息在中永久代已经被移除取而代之的是一个称之为元数据区元空间的区域元空间和永久代类似不过元空间与永久代之间最大的区别在于元空间并不在虚拟机中而是使用本地内存因此默认情况下元空间的大小仅受本地内存的限制说一下有哪些垃圾回收器易考在中实现了多种垃圾收集器包括串行垃圾收集器并行垃圾收集器默认并发垃圾收集器垃圾收集器默认你的单点登录模块怎么实现的呢什么是我们当时在项目中实现了单点登录功能主要解决了用户在不同系统间切换时需要重复登录的问题我们采用了基于的方案结合缓存来实现单点登录当用户首次登录时系统会生成一个并将存储到中同时设置合理的过期时间用户访问其他系统时会携带这个系统通过验证的有效性来判断用户是否已登录如果无效会返回错误跳转到登录页面不同系统通过统一的认证中心来验证的有效性认证中心会检查的签名过期时间等信息同时查询确认是否仍然有效你的项目中权限认证如何实现的我们当时在项目中采用了基于基于角色的访问控制的权限模型我们设计了用户角色权限三个核心实体用户通过角色来获得权限角色通过权限来控制系统功能比如管理员角色拥有所有权限挂号员角色只能进行挂号相关操作医生角色只能进行诊疗相关操作我们使用作为安全框架通过配置类来实现权限控制我们自定义了来加载用户信息实现了基于数据库的用户认证同时我们配置了不同的路径对应不同的权限要求比如路径需要管理员权限路径需要医生权限我们创建了自定义的权限验证拦截器在用户访问受保护的资源时会检查用户是否具有相应的权限我们使用注解在方法级别进行权限控制来确保只有相对应的权限才能执行挂号操作你负责的项目中遇到哪些棘手的问题怎么解决的我们当时在项目中遇到了药品分页查询性能问题药品表有多万条数据当医生查询药品信息时使用传统的分页查询当查询第页以后的数据时查询时间从原来的几百毫秒飙升到几秒钟严重影响用户体验通过分析发现当使用查询时需要先扫描前条记录然后返回第条记录随着页码增加扫描的数据量呈线性增长导致查询性能急剧下降我们采用了基于主键的分页查询优化方案首先我们为药品表添加了合适的索引包括药品名称分类价格等常用查询字段的复合索引然后我们修改了分页查询逻辑使用主键作为游标进行分页比如查询大于某个值的记录这样避免了大量数据的扫描我们将传统的分页改为基于的分页前端传递上一页最后一条记录的后端查询大于该值的记录同时我们实现了查询条件的优化将常用的查询条件组合成复合索引比如药品名称分类价格的复合索引我们使用缓存了热门药品信息对于访问频率高的药品直接从缓存获取减少数据库查询压力同时我们实现了查询结果的缓存相同查询条件的结果会缓存分钟经过优化后药品分页查询的响应时间从原来的几秒钟降低到几十毫秒用户体验得到了显著提升同时通过缓存机制我们进一步减少了数据库的查询压力提升了系统的整体性能",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2025-09-25 19:33:35",postMainColor:""}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:(e,t,a)=>{if(0===a)return;const o={value:t,expiry:Date.now()+864e5*a};localStorage.setItem(e,JSON.stringify(o))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const a=JSON.parse(t);if(!(Date.now()>a.expiry))return a.value;localStorage.removeItem(e)}},e.getScript=(e,t={})=>new Promise(((a,o)=>{const c=document.createElement("script");c.src=e,c.async=!0,c.onerror=o,c.onload=c.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(c.onload=c.onreadystatechange=null,a())},Object.keys(t).forEach((e=>{c.setAttribute(e,t[e])})),document.head.appendChild(c)})),e.getCSS=(e,t=!1)=>new Promise(((a,o)=>{const c=document.createElement("link");c.rel="stylesheet",c.href=e,t&&(c.id=t),c.onerror=o,c.onload=c.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(c.onload=c.onreadystatechange=null,a())},document.head.appendChild(c)})),e.activateDarkMode=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#18171d")},e.activateLightMode=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#f7f9fe")};const t=saveToLocal.get("theme"),a=window.matchMedia("(prefers-color-scheme: dark)").matches,o=window.matchMedia("(prefers-color-scheme: light)").matches,c=window.matchMedia("(prefers-color-scheme: no-preference)").matches,n=!a&&!o&&!c;if(void 0===t){if(o)activateLightMode();else if(a)activateDarkMode();else if(c||n){const e=(new Date).getHours();e<=6||e>=18?activateDarkMode():activateLightMode()}window.matchMedia("(prefers-color-scheme: dark)").addListener((e=>{void 0===saveToLocal.get("theme")&&(e.matches?activateDarkMode():activateLightMode())}))}else"light"===t?activateLightMode():activateDarkMode();const d=saveToLocal.get("aside-status");void 0!==d&&("hide"===d?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="https://jsd-proxy.ygxz.in/npm/js-heo@1.0.11/poem/poem.min.css"><link rel="stylesheet" href="https://jsd-proxy.ygxz.in/npm/js-heo@1.0.11/mainColor/heoMainColor.min.css"><link rel="stylesheet" href="https://jsd-proxy.ygxz.in/gh/lyay23/blogstatic@v1.0.0/static/essay-style.min.css"><link rel="stylesheet" href="https://jsd-proxy.ygxz.in/gh/lyay23/blogstatic@v1.0.0/static/todolist.min.css"><link rel="stylesheet" href="https://jsd-proxy.ygxz.in/gh/lyay23/blogstatic@v1.0.1/static/custom-me.min.css"><link rel="stylesheet" href="https://jsd-proxy.ygxz.in/gh/lyay23/blogstatic@v1.0.0/static/imgloaded.min.css"><link rel="stylesheet" href="https://jsd-proxy.ygxz.in/gh/lyay23/blogstatic@v1.0.0/static/twikoo.min.css"><script async defer src="https://umami.baskly.fun/script.js" data-website-id="83445f1f-eab2-4423-b52a-d98fcec8638f"></script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://bu.dusays.com/2025/03/01/67c2609b7c10b.jpg"><div class="loading-image-dot"></div></div></div><script>const preloader={endLoading:()=>{document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",(()=>{preloader.endLoading()})),setTimeout((function(){preloader.endLoading()}),1e4),document.addEventListener("pjax:send",(()=>{preloader.initLoading()})),document.addEventListener("pjax:complete",(()=>{preloader.endLoading()}))</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"><script async src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><a id="site-name" href="/" accesskey="h"><div class="title">李阳的秘密小屋</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size:.9em"></i> <span>隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size:.9em"></i> <span>分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size:.9em"></i> <span>标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/charts/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-tongji1"></use></svg> <span>统计</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=12781955100&amp;server=netease"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size:.9em"></i> <span>耳机分你一半</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size:.9em"></i> <span>留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/todolist/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-zuji"></use></svg> <span>脚步</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/essay/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-taiyang"></use></svg> <span>小太阳</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-a-xiaoyangyang_huaban1"></use></svg> <span>了解我</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i> <span>搜索</span></a></div><input id="center-console" type="checkbox"><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole()"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title">最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/408/" style="font-size:1.05rem">408<sup>1</sup></a><a href="/tags/C%E8%AF%AD%E8%A8%80/" style="font-size:1.05rem">C语言<sup>1</sup></a><a href="/tags/java/" style="font-size:1.05rem">java<sup>1</sup></a><a href="/tags/javaweb/" style="font-size:1.05rem">javaweb<sup>9</sup></a><a href="/tags/%E5%8A%9B%E6%89%A3%E5%88%B7%E9%A2%98/" style="font-size:1.05rem">力扣刷题<sup>1</sup></a><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size:1.05rem">操作系统<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size:1.05rem">数据结构<sup>1</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" style="font-size:1.05rem">计算机组成原理<sup>1</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size:1.05rem">计算机网络<sup>2</sup></a><a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" style="font-size:1.05rem">软件工程<sup>1</sup></a><a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size:1.05rem">面试<sup>4</sup></a></div></div><hr></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多"><i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/09/"><span class="card-archive-list-date">九月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">6</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/08/"><span class="card-archive-list-date">八月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/07/"><span class="card-archive-list-date">七月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/05/"><span class="card-archive-list-date">五月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/04/"><span class="card-archive-list-date">四月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/03/"><span class="card-archive-list-date">三月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/02/"><span class="card-archive-list-date">二月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">十二月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>篇</span></div></a></li></ul></div><hr></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url">面试</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/%E9%9D%A2%E8%AF%95/" tabindex="-1" itemprop="url"><span><i class="anzhiyufont anzhiyu-icon-hashtag"></i> 面试</span></a></span></div></div><h1 class="post-title" itemprop="name headline">面试准备</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-09-24T11:34:21.000Z" title="发表于 2025-09-24 19:34:21">2025-09-24</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-09-25T11:33:35.409Z" title="更新于 2025-09-25 19:33:35">2025-09-25</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">12.8k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>38分钟</span></span><span class="post-meta-separator"></span><span data-flag-title="面试准备"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="twikoo_visitors" title="访问量"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator"></span><span class="post-meta-position" title="作者IP属地为武汉"><i class="anzhiyufont anzhiyu-icon-location-dot"></i> 武汉</span><span class="post-meta-separator"></span><span class="post-meta-commentcount"><i class="anzhiyufont anzhiyu-icon-comments post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/posts/1918/#post-comment" tabindex="-1"><span id="twikoo-count"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></a></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s58 18 88 18 58-18 88-18 58 18 88 18v44h-352Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://bu.dusays.com/2024/11/24/674340e56737a.png?_r_=da26521f-cbd4-914e-9f3d-7e1dcc562c51"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://blog.baskly.fun/posts/1918/"><header><a class="post-meta-categories" href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url">面试</a><a href="/tags/%E9%9D%A2%E8%AF%95/" tabindex="-1" itemprop="url">面试</a><h1 id="CrawlerTitle" itemprop="name headline">面试准备</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">李阳</span><time itemprop="dateCreated datePublished" datetime="2025-09-24T11:34:21.000Z" title="发表于 2025-09-24 19:34:21">2025-09-24</time><time itemprop="dateCreated datePublished" datetime="2025-09-25T11:33:35.409Z" title="更新于 2025-09-25 19:33:35">2025-09-25</time></header><h4 id="一、-自我介绍">一、 自我介绍</h4><p>各位面试官好，我是 李阳，目前是 武汉纺织大学外经贸学院软件工程专业的一名应届本科生，虽然暂未拥有正式职场的 Java 开发经验，但通过 4 年专业学习和多段实践项目，已构建起相对完整的 Java 技术体系和开发思维，今天特别希望能向各位展示我的学习成果与潜力。</p><p>我比较擅长 Java，熟悉 Spring Boot、Spring MVC、SpringCloud,MyBatis 等主流框架，能独立搭建后端项目架构；熟悉 MySQL 数据库，熟悉索引优化、SQL 性能分析（Explain）；了解 Redis 缓存相关知识点</p><p>我希望能够加入贵公司，在java领域发挥我的技术能力，同时学习更先进的技术和业务知识，实现个人和公司的共同发展。</p><h4 id="二、介绍一下你的项目">二、介绍一下你的项目</h4><p>我在校内是主要参与和主导了一个一套功能完备的医院信息管理系统。这个系统有管理员，挂号员，医生，检察员等角色。实现从患者挂号、医生诊疗、检查申请、结果回传到费用结算的完整业务流程。具备实际医院管理系统的功能完整性。</p><p>我们项目团队由4名成员组成，我担任项目组长，负责整体架构设计、技术选型、核心功能开发、团队协调等工作。其他成员分别负责前端开发、数据库设计和测试工作</p><p>这个项目开发过程中也遇到了一些挑战，比如需要处理复杂的医院业务流程，涉及多角色权限管理、大量并发挂号操作、AI智能辅助诊断等技术创新点。同时需要保证系统的稳定性、安全性和用户体验。</p><p>我在项目中设计并实现前后端分离架构，集成阿里云百炼大模型实现AI辅助诊断，使用Redis缓存优化系统性能，实现分布式锁解决挂号并发问题。主要解决挂号并发导致的号源超卖问题，优化药品分页查询性能，实现AI智能病历分析，确保多角色权限控制的安全性，提升系统整体性能和用户体验。</p><p>我们项目采用Spring Boot + Vue3前后端分离架构，使用MyBatis Plus进行数据持久化，集成阿里云OSS存储检查影像，使用Redis缓存热点数据，通过Redisson分布式锁解决并发问题，集成阿里云百炼大模型实现AI辅助诊断。</p><p>当然我们在开发中也遇到一些问题比如说药品分页查询性能问题通过基于主键的分页优化和复合索引解决，挂号并发问题通过Redisson分布式锁解决。我们也克服了这些问题，药品分页查询响应时间从几秒钟优化到几十毫秒，改好也不会出现超卖的问题了，用户体验得到显著改善。</p><p>通过项目实践，我深入掌握了Spring Boot、Vue3、Redis、锁、AI大模型集成等核心技术，提升了系统架构设计能力、问题解决能力和团队协作能力。</p><h5 id="三、八股部分">三、八股部分</h5><h5 id="1-我看你在项目中使用了Redis，你最近在哪些场景中使用了Redis呢？">1. 我看你在项目中使用了Redis，你最近在哪些场景中使用了Redis呢？</h5><p>我在项目中使用Redis缓存医生排班、药品库存等热点数据，通过Redisson分布式锁解决挂号并发问题，确保号源分配的原子性操作。</p><h6 id="Redis的缓存在项目中的使用？">Redis的缓存在项目中的使用？</h6><ol><li><p>医生排班信息缓存</p><p>将医生的排班表、可预约时间段、剩余号源数量等数据缓存到Redis中，设置合理的过期时间（如1小时）。当挂号员查询医生排班时，优先从Redis获取数据，避免频繁查询数据库，提升响应速度。</p></li><li><p>用户登录状态管理</p><p>使用Redis存储用户的JWT Token和会话信息，设置Token过期时间与JWT保持一致。当用户访问需要认证的接口时，从Redis中验证Token有效性，实现快速的身份验证。</p></li><li><p>药品库存信息缓存</p><p>将常用药品的库存数量、价格、规格等信息缓存到Redis，挂号员和医生查询药品信息时直接从缓存获取，减少数据库压力。</p></li><li><p>患者挂号记录缓存</p><p>将当天的挂号记录、已预约号源等信息缓存到Redis，方便快速查询和更新挂号状态。</p></li></ol><h6 id="为什么使用Redisson分布式锁？">为什么使用Redisson分布式锁？</h6><ol><li><p>挂号并发问题</p><p>当多个挂号员同时为同一医生同一时间段挂号时，可能出现超卖问题。比如某医生上午10点只有5个号源，但6个挂号员同时操作，可能导致6个患者都成功挂号，造成号源超卖。</p></li><li><p>分布式锁的必要性</p><p>使用Redisson分布式锁，在挂号操作前先获取锁，确保同一时间只有一个挂号员能操作该医生的号源，操作完成后释放锁，保证号源分配的原子性。</p></li></ol><h5 id="2-那么你是怎么解决缓存穿透的问题呢？">2. 那么你是怎么解决缓存穿透的问题呢？</h5><p>嗯，我想一下。缓存穿透是指查询一个一定不存在的数据，由于存储层查不到数据因此不写入缓存，这将导致这个不存在的数据每次请求都要到 数据库去查询，可能导致 数据库 挂掉。这种情况大概率是遭到了攻击。解决方案的话一般有两种方式方案一呢是采用缓存空数据的方式，方案二就是采用布隆过滤器，我们项目比较简单，我使用的是缓存空数据的方式。</p><h5 id="4-什么是缓存击穿？怎么解决">4. 什么是缓存击穿？怎么解决</h5><p>嗯！缓存击穿的意思是，对于设置了过期时间的key，缓存在某个时间点过期的时候，恰好这个时间点对这个Key有大量的并发请求过来。这些请求发现缓存过期，一般都会从后端 DB 加载数据并回设到缓存，这个时候大并发的请求可能会瞬间把 DB 压垮。</p><p>解决方案有两种方式：第一，可以使用互斥锁：当缓存失效时，不立即去load db，先使用如 Redis 的 <code>SETNX</code> 去设置一个互斥锁。当操作成功返回时，再进行 load db的操作并回设缓存，否则重试get缓存的方法。第二种方案是设置当前key逻辑过期，大概思路如下：</p><ol><li>在设置key的时候，设置一个过期时间字段一块存入缓存中，不给当前key设置过期时间；</li><li>当查询的时候，从redis取出数据后判断时间是否过期；</li><li>如果过期，则开通另外一个线程进行数据同步，当前线程正常返回数据，这个数据可能不是最新的。</li></ol><p>两种方案各有利弊：</p><p>如果选择数据的强一致性，建议使用分布式锁的方案，但性能上可能没那么高，且有可能产生死锁的问题。</p><p>如果选择key的逻辑删除，则优先考虑高可用性，性能比较高，但数据同步这块做不到强一致。</p><h5 id="5-什么是缓存雪崩，怎么解决？">5. 什么是缓存雪崩，怎么解决？</h5><p>嗯！缓存雪崩意思是，设置缓存时采用了相同的过期时间，导致缓存在某一时刻同时失效，请求全部转发到DB，DB瞬时压力过重而雪崩。与缓存击穿的区别是：雪崩是很多key，而击穿是某一个key缓存。解决方案主要是，可以将缓存失效时间分散开。比如，可以在原有的失效时间基础上增加一个随机值，比如1-5分钟随机。这样，每一个缓存的过期时间的重复率就会降低，就很难引发集体失效的事件。</p><h5 id="6-Redis作为缓存，Mysql与Redis数据如何进行同步呢（双写一致）">6. Redis作为缓存，Mysql与Redis数据如何进行同步呢（双写一致）</h5><p>我们当时是将医生排班信息，用户的一些信息缓存到数据库，这些数据实时要求性并没有这么高，所以我们当时采用的是异步的方案同步数据<br>我们当时采用的阿里的canal组件实现数据同步:不需要更改业务代码，部署一个canal服务。canal服务把自己伪装成mysql的一个从节点，当mysql数据更新以后，canal会读取binlog数据，然后在通过canal的客户端获取到数据，更新缓存即可。</p><h5 id="7-Redis作为缓存，数据持久化是怎么做的">7. Redis作为缓存，数据持久化是怎么做的</h5><p>在Redis中提供了两种数据持久化的方式：1) RDB；2) AOF。</p><h5 id="8-这两种持久化方式有什么区别呢？">8. 这两种持久化方式有什么区别呢？</h5><p>RDB是一个快照文件。它是把redis内存存储的数据写到磁盘上。当redis实例宕机恢复数据的时候，可以从RDB的快照文件中恢复数据。AOF的含义是追加文件。当redis执行写命令的时候，都会存储到这个文件中。当redis实例宕机恢复数据的时候，会从这个文件中再次执行一遍命令来恢复数据。</p><h5 id="9-这两种方式，哪种恢复的比较快呢？">9. 这两种方式，哪种恢复的比较快呢？</h5><p>RDB因为是二进制文件，保存时体积也比较小，所以它恢复得比较快。但它有可能会丢数据。我们通常在项目中也会使用AOF来恢复数据。虽然AOF恢复的速度慢一些，但它丢数据的风险要小很多。在AOF文件中可以设置刷盘策略。我们当时设置的就是每秒批量写入一次命令</p><h5 id="14-Redis的分布式锁是如何实现的呢">14. Redis的分布式锁是如何实现的呢</h5><p>我们当时使用的是Redisson来实现分布式锁。在挂号业务中，当多个挂号员同时为同一医生同一时间段挂号时，可能会出现号源超卖的问题。底层使用的是setnx和lua脚本来保证原子性</p><h5 id="15-Redis实现分布式锁如何合理控制锁的时长">15. Redis实现分布式锁如何合理控制锁的时长</h5><p>嗯，的确。redis的<code>SETNX</code>指令不好控制这个问题。我们当时采用的是redis的一个框架Redisson实现的。在Redisson中需要手动加锁，并且可以控制锁的失效时间和等待时间。当锁住的一个业务还没有执行完成的时候，Redisson会引入一个看门狗机制。就是说，每隔一段时间就检查当前业务是否还持有锁。如果持有，就增加加锁的持有时间。当业务执行完成之后，需要使用释放锁就可以了。还有一个好处就是，在高并发下，一个业务有可能会执行很快。客户1持有锁的时候，客户2来了以后并不会马上被拒绝。它会自旋不断尝试获取锁。如果客户1释放之后，客户2就可以马上持有锁，性能也得到了提升。</p><h5 id="16-Redisson实现分布式锁是可重用的吗">16. Redisson实现分布式锁是可重用的吗</h5><p>嗯，是可以重入的。这样做是为了避免死锁的产生。这个重入其实在内部就是判断是否是当前线程持有的锁，如果是当前线程持有的锁就会计数，如果释放锁就会在计数上减一。在存储数据的时候采用的hash结构，大key可以按照自己的业务进行定制，其中小key是当前线程的唯一标识，value是当前线程重入的次数。</p><h5 id="17-Redisson可以解决主从一致的问题吗">17. Redisson可以解决主从一致的问题吗</h5><p>这个是不能的。比如，当线程1加锁成功后，master节点数据会异步复制到slave节点，此时如果当前持有Redis锁的master节点宕机，slave节点被提升为新的master节点，假如现在来了一个线程2，再次加锁，会在新的master节点上加锁成功，这个时候就会出现两个节点同时持有一把锁的问题。我们可以利用Redisson提供的红锁来解决这个问题，它的主要作用是，不能只在一个Redis实例上创建锁，应该是在多个Redis实例上创建锁，并且要求在大多数Redis节点上都成功创建锁，红锁中要求是Redis的节点数量要过半。这样就能避免线程1加锁成功后master节点宕机导致线程2成功加锁到新的master节点上的问题了。</p><p>但是，如果使用了红锁，因为需要同时在多个节点上都添加锁，性能就变得非常低，并且运维维护成本也非常高，所以，我们一般在项目中也不会直接使用红锁，并且官方也暂时废弃了这个红锁。</p><h5 id="19-Redis集群有哪些方案，知道吗？">19. Redis集群有哪些方案，知道吗？</h5><p>嗯~~，在Redis中提供的集群方案总共有三种：主从复制、哨兵模式、Redis分片集群。</p><h5 id="20-那你来介绍一下主从同步">20. 那你来介绍一下主从同步</h5><p>嗯，是这样的，单节点Redis的并发能力是有上限的，要进一步提高Redis的并发能力，可以搭建主从集群，实现读写分离。一般都是一主多从，主节点负责写数据，从节点负责读数据，主节点写入数据之后，需要把数据同步到从节点中。</p><h5 id="22-怎么保证Redis的高并发高可用？">22. 怎么保证Redis的高并发高可用？</h5><p>首先可以搭建主从集群，再加上使用Redis中的哨兵模式，哨兵模式可以实现主从集群的自动故障恢复，里面就包含了对主从服务的监控、自动故障恢复、通知；如果master故障，Sentinel会将一个slave提升为master。当故障实例恢复后也以新的master为主；同时Sentinel也充当Redis客户端的服务发现来源，当集群发生故障转移时，会将最新信息推送给Redis的客户端，所以一般项目都会采用哨兵的模式来保证Redis的高并发高可用。</p><h5 id="23-你们使用Redis是单点还是集群，哪种集群？">23. 你们使用Redis是单点还是集群，哪种集群？</h5><p>嗯！我们当时使用的是主从（1主1从）加哨兵。一般单节点不超过10G内存，如果Redis内存不足则可以给不同服务分配独立的Redis主从节点。尽量不做分片集群。因为集群维护起来比较麻烦，并且集群之间的心跳检测和数据通信会消耗大量的网络带宽，也没有办法使用Lua脚本和事务。</p><h5 id="27-Redis是单线程的，但是为什么还那么快？">27. Redis是单线程的，但是为什么还那么快？</h5><p>嗯，这个有几个原因吧~~~</p><ol><li>完全基于内存的，C语言编写。</li><li>采用单线程，避免不必要的上下文切换和竞争条件。</li><li>使用多路I/O复用模型，非阻塞IO。</li></ol><p>例如：<code>BGSAVE</code>和<code>BGREWRITEAOF</code>都是在后台执行操作，不影响主线程的正常使用，不会产生阻塞。</p><h5 id="1-在MySQL中，如何定位慢查询呢？">1. 在MySQL中，如何定位慢查询呢？</h5><p>嗯，我们当时在做压力测试时发现有些接口响应时间非常慢，压测的结果大概是5秒钟，我们在MySQL中开启了，慢日志查询，设置的值就是2秒，一但SQL的执行时间超过2秒就会记录到日志中</p><h5 id="2-那这个SQL语句执行很慢，如何分析呢？">2. 那这个SQL语句执行很慢，如何分析呢？</h5><p>如果一条SQL执行很慢，我们通常会使用MySQL的<code>EXPLAIN</code>命令来分析这条SQL的执行情况。通过<code>key</code>和<code>key_len</code>可以检查是否命中了索引，如果已经添加了索引，也可以判断索引是否有效。通过<code>type</code>字段可以查看SQL是否有优化空间，比如是否存在全索引扫描或全表扫描。通过<code>extra</code>建议可以判断是否出现回表情况，如果出现，可以尝试添加索引或修改返回字段来优化。</p><h5 id="3-那你了解过索引吗？什么是索引">3. 那你了解过索引吗？什么是索引</h5><p>嗯，索引在项目中非常常见，它是一种帮助MySQL高效获取数据的数据结构，主要用来提高数据检索效率，降低数据库的I/O成本。同时，索引列可以对数据进行排序，降低数据排序的成本，也能减少CPU的消耗。</p><h5 id="4-索引的底层数据结构了解过吗？">4. 索引的底层数据结构了解过吗？</h5><p>MySQL的默认存储引擎InnoDB使用的是B+树作为索引的存储结构。选择B+树的原因包括：节点可以有更多子节点，路径更短；磁盘读写代价更低，非叶子节点只存储键值和指针，叶子节点存储数据；B+树适合范围查询和扫描，因为叶子节点形成了一个双向链表。</p><h5 id="8-知道什么是覆盖索引吗？">8. 知道什么是覆盖索引吗？</h5><p>嗯~，清楚的<br>覆盖索引是指select查询语句使用了索引，在返回的列，必须在索引中全部能够找到，如果我们使用id查询，它会直接走聚集索引查询，一次索引扫描，直接返回数据，性能高。<br>如果按照二级索引查询数据的时候，返回的列中没有创建索引，有可能会触发回表查询，尽量避免使用select*，尽量在返回的列中都包含添加索引的字段</p><h5 id="9-MySQL超大分页怎么处理">9. MySQL超大分页怎么处理</h5><p>嗯，超大分页通常发生在数据量大的情况下，使用<code>LIMIT</code>分页查询且需要排序时效率较低。可以通过覆盖索引和子查询来解决。首先查询数据的ID字段进行分页，然后根据ID列表用子查询来过滤只查询这些ID的数据，因为查询ID时使用的是覆盖索引，所以效率可以提升。</p><h5 id="12-谈一谈你对SQL优化的经验？（面试常见）">12. 谈一谈你对SQL优化的经验？（面试常见）</h5><p>候选人:嗯，这个在项目还是挺常见的，当然如果直说sql优化的话，我们会从这几方面考虑，比如建表的时候、使用索引、sql语句的编写、主从复制，读写分离，还有一个是如果量比较大的话，可以考虑分库分表</p><h5 id="14-在使用索引的时候，是如何优化呢？">14. 在使用索引的时候，是如何优化呢？</h5><p>在使用索引时，我们遵循索引创建原则，确保索引字段是查询频繁的，使用复合索引覆盖SQL返回值，避免在索引字段上进行运算或类型转换，以及控制索引数量。</p><h5 id="15-你平时对SQL语句做了哪些优化呢？">15. 你平时对SQL语句做了哪些优化呢？</h5><p>嗯，这个也有很多，比如SELECT语句务必指明字段名称，不要直接使用select*，还有就是要注意SQL语句避免造成索引失效的写法;如果是聚合查询，尽量使用<code>UNION ALL</code>代替<code>UNION</code>，表关联时优先使用<code>INNER JOIN</code>，以及在必须使用<code>LEFT JOIN</code>或<code>RIGHT JOIN</code>时，确保小表作为驱动表。</p><h5 id="16-事务的特征是什么，可以详细说一下吗">16. 事务的特征是什么，可以详细说一下吗</h5><p>事务的特性是ACID，即原子性（Atomicity）、一致性（Consistency）、隔离性（Isolation）、持久性（Durability）。例如，A向B转账500元，这个操作要么都成功，要么都失败，体现了原子性。转账过程中数据要保持一致，A扣除了500元，B必须增加500元。隔离性体现在A向B转账时，不受其他事务干扰。持久性体现在事务提交后，数据要被持久化存储。</p><h5 id="20-事务中的隔离性是如何保障的呢？（请你解释一下MVCC）-面试常考">20. 事务中的隔离性是如何保障的呢？（请你解释一下MVCC）[面试常考]</h5><p>事务的隔离性通过锁和多版本并发控制（MVCC）来保证。MVCC通过维护数据的多个版本来避免读写冲突。底层实现包括隐藏字段、<code>undo log</code>和<code>read view</code>。隐藏字段包括<code>trx_id</code>和<code>roll_pointer</code>。<code>undo log</code>记录了不同版本的数据，通过<code>roll_pointer</code>形成版本链。<code>read view</code>定义了不同隔离级别下的快照读，决定了事务访问哪个版本的数据。</p><h5 id="2-什么是AOP？">2. 什么是AOP？</h5><p>AOP，即面向切面编程，在Spring中用于将那些与业务无关但对多个对象产生影响的公共行为和逻辑抽取出来，实现公共模块复用，降低耦合。常见的应用场景包括公共日志保存和事务处理。</p><h5 id="3-你们项目中有没有使用到AOP">3. 你们项目中有没有使用到AOP</h5><p>我们之前在后台管理系统中使用AOP来记录系统操作日志。主要思路是使用AOP的环绕通知和切点表达式，找到需要记录日志的方法，然后通过环绕通知的参数获取请求方法的参数，例如类信息、方法信息、注解、请求方式等，并将这些参数保存到数据库。</p><h5 id="4-Spring的事务是如何实现的">4. Spring的事务是如何实现的</h5><p>Spring实现事务的本质是利用AOP完成的。它对方法前后进行拦截，在执行方法前开启事务，在执行完目标方法后根据执行情况提交或回滚事务。</p><h5 id="6-Spring的bean的生命周期（易考）">6. Spring的bean的生命周期（易考）</h5><p>Spring中bean的生命周期包括以下步骤：</p><ol><li>通过<code>BeanDefinition</code>获取bean的定义信息。</li><li>调用构造函数实例化bean。</li><li>进行bean的依赖注入，例如通过setter方法或<code>@Autowired</code>注解。</li><li>处理实现了<code>Aware</code>接口的bean。通过Aware接口可以获取到bean的一些基本信息,比如bean的名称 bean的工厂和ApplicationContext</li><li>执行<code>BeanPostProcessor</code>的前置处理器。</li><li>调用初始化方法，如实现了<code>InitializingBean</code>接口或自定义的<code>init-method</code>。</li><li>执行<code>BeanPostProcessor</code>的后置处理器，可能在这里产生代理对象。</li><li>最后是销毁bean。</li></ol><h5 id="11-SpringBoot的自动装配原理（易考）">11. SpringBoot的自动装配原理（易考）</h5><p>Spring Boot的自动配置原理基于<code>@SpringBootApplication</code>注解，它封装了<code>@SpringBootConfiguration</code>、<code>@EnableAutoConfiguration</code>和<code>@ComponentScan</code>。<code>@EnableAutoConfiguration</code>是核心，它通过<code>@Import</code>导入配置选择器，读取<code>META-INF/spring.factories</code>文件中的类名，根据条件注解决定是否将配置类中的Bean导入到Spring容器中。</p><h5 id="16-请你描述一下Spring的DI和IOC、">16. 请你描述一下Spring的DI和IOC、</h5><p>IoC 和 DI 都是 Spring 框架中的核心概念，它们的区别在于:</p><ul><li><strong>IoC（Inverse of Control，控制反转）</strong>：它是一种思想，主要解决程序设计中的对象依赖关系管理问题。在 IoC 思想中，对象的创建权反转给第三方容器，由容器进行对象的创建及依赖关系的管理。</li><li><strong>DI（Dependency Injection，依赖注入）</strong>：它是 IoC 思想的具体实现方式之一，用于实现 IoC。在 Spring 中，依赖注入是指:在对象创建时，由容器自动将依赖对象注入到需要依赖的对象中。</li></ul><p>简单来说，它们的关系是：</p><ul><li>IoC 是一种思想、理念，定义了对象创建和依赖关系处理的方式。</li><li>DI 是 IoC 思想的具体实现方式之一，实际提供对象依赖关系的注入功能。</li></ul><p>例如在 Spring 框架中：</p><ul><li>IoC 体现为 Spring 容器承担了对象创建及依赖关系管理的控制权。</li><li>DI 体现为 Spring 容器通过构造方法注入、Setter 方法注入等方式，将依赖对象注入到需要依赖的对象中。</li></ul><h5 id="18-拦截器和过滤器有什么区别">18.拦截器和过滤器有什么区别</h5><p>拦截器和过滤器的区别主要体现在以下 5 点：</p><ol><li><strong>出身不同</strong>：过滤器来自于 Servlet，而拦截器来自于 Spring 框架；</li><li><strong>触发时机不同</strong>：请求的执行顺序是：请求进入容器 &gt; 进入过滤器 &gt; 进入 Servlet &gt; 进入拦截器 &gt; 执行控制器（Controller），所以过滤器和拦截器的执行时机，是过滤器会先执行，然后才会执行拦截器，最后才会进入真正的要调用的方法；</li><li><strong>底层实现不同</strong>：过滤器是基于方法回调实现的，拦截器是基于动态代理（底层是反射）实现的；</li><li><strong>支持的项目类型不同</strong>：过滤器是 Servlet 规范中定义的，所以过滤器要依赖 Servlet 容器，它只能用在 Web 项目中；而拦截器是 Spring 中的一个组件，因此拦截器既可以用在 Web 项目中，同时还可以用在 Application 或 Swing 程序中；</li><li><strong>使用的场景不同</strong>：因为拦截器更接近业务系统，所以拦截器主要用来实现项目中的业务判断的，比如：登录判断、权限判断、日志记录等业务；而过滤器通常是用来实现通用功能过滤的，比如：敏感词过滤、字符集编码设置、响应数据压缩等功能。</li></ol><h5 id="7-说一下HashMap的实现原理（易考）">7. 说一下HashMap的实现原理（易考）</h5><p>HashMap的数据结构： 底层使用hash表数据结构，即数组和链表或红黑树</p><ol><li><p>当我们往HashMap中put元素时，利用key的hashCode重新hash计算出当前对象的元素在数组中的下标</p></li><li><p>存储时，如果出现hash值相同的key，此时有两种情况。</p><p>a. 如果key相同，则覆盖原始值；</p><p>b. 如果key不同（出现冲突），则将当前的key-value放入链表或红黑树中</p></li><li><p>获取时，直接找到hash值对应的下标，在进一步判断key是否相同，从而找到对应值。</p></li></ol><h5 id="8-面试题-HashMap的put方法的具体流程">8. 面试题-HashMap的put方法的具体流程</h5><ol><li><p>判断键值对数组table是否为空或为null，否则执行resize()进行扩容（初始化)</p></li><li><p>根据键值key计算hash值得到数组索引</p></li><li><p>判断table[i]==null，条件成立，直接新建节点添加</p></li><li><p>如果table[i]==null ,不成立</p><p>4.1判断table[i]的首个元素是否和key一样，如果相同直接覆盖value</p><p>4.2判断table[i]是否为treeNode，即table[i]是否是红黑树，如果是红黑树，则直接在树中插入键值对</p><p>4.3遍历tablei]，链表的尾部插入数据，然后判断链表长度是否大于8，大于8的话把链表转换为红黑树，在红黑树中执行插入操作，遍历过程中若发现key已经存在直接覆盖value</p></li><li><p>插入成功后，判断实际存在的键值对数量size是否超多了最大容量threshold(数组长度*0.75)，如果超过，进行扩容.</p></li></ol><h5 id="9-讲一讲HashMap的扩容机制">9. 讲一讲HashMap的扩容机制</h5><p>在添加元素或初始化的时候需要调用resize方法进行扩容，第一次添加数据初始化数组长度为16，以后每次每次扩容都是达到了扩容阈值（数组长度 * 0.75）</p><p>每次扩容的时候，都是扩容之前容量的2倍；</p><p>扩容之后，会新创建一个数组，需要把老数组中的数据挪动到新的数组中</p><ul><li>没有hash冲突的节点，则直接使用 e.hash &amp; (newCap - 1) 计算新数组的索引位置</li><li>如果是红黑树，走红黑树的添加</li><li>如果是链表，则需要遍历链表，可能需要拆分链表，判断(e.hash &amp; oldCap)是否为0，该元素的位置要么停留在原始位置，要么移动到原始位置+增加的数组大小这个位置上</li></ul><h5 id="13-HashSet与HashMap的区别">13. HashSet与HashMap的区别</h5><p>(1)HashSet实现了Set接口, 仅存储对象; HashMap实现了 Map接口, 存储的是键值对.</p><p>(2)HashSet底层其实是用HashMap实现存储的, HashSet封装了一系列HashMap的方法. 依靠HashMap来存储元素值,(利用hashMap的key键进行存储), 而value值默认为Object对象. 所以HashSet也不允许出现重复值, 判断标准和HashMap判断标准相同, 两个元素的hashCode相等并且通过equals()方法返回true.</p><h5 id="15-说一说Java提供的常见集合？">15. 说一说Java提供的常见集合？</h5><p>在java中提供了两大类的集合框架，主要分为两类：</p><p>第一个是Collection 属于单列集合，第二个是Map 属于双列集合</p><ul><li>在Collection中有两个子接口List和Set。在我们平常开发的过程中用的比较多像list接口中的实现类ArrarList和LinkedList。 在Set接口中有实现类HashSet和TreeSet。</li><li>在map接口中有很多的实现类，平时比较常见的是HashMap、TreeMap，还有一个线程安全的map:ConcurrentHashMap</li></ul><h5 id="3-创建线程的方式有哪些（易考）">3. 创建线程的方式有哪些（易考）</h5><p>在java中一共有四种常见的创建方式，分别是：继承Thread类、实现runnable接口、实现Callable接口、线程池创建线程。通常情况下，我们项目中都会采用线程池的方式创建线程。</p><h5 id="6-线程包括了哪些状态，状态之间是如何变化的">6. 线程包括了哪些状态，状态之间是如何变化的</h5><p>在JDK中的Thread类中的枚举State里面定义了6中线程的状态分别是：新建、可运行、终结、阻塞、等待和有时限等待六种。</p><p>关于线程的状态切换情况比较多。我分别介绍一下</p><p>当一个线程对象被创建，但还未调用 start 方法时处于<strong>新建</strong>状态，调用了 start 方法，就会由<strong>新建</strong>进入<strong>可运行</strong>状态。如果线程内代码已经执行完毕，由<strong>可运行</strong>进入<strong>终结</strong>状态。当然这些是一个线程正常执行情况。</p><p>如果线程获取锁失败后，由<strong>可运行</strong>进入 Monitor 的阻塞队列<strong>阻塞</strong>，只有当持锁线程释放锁时，会按照一定规则唤醒阻塞队列中的<strong>阻塞</strong>线程，唤醒后的线程进入<strong>可运行</strong>状态</p><p>如果线程获取锁成功后，但由于条件不满足，调用了 wait() 方法，此时从<strong>可运行</strong>状态释放锁<strong>等待</strong>状态，当其它持锁线程调用 notify() 或 notifyAll() 方法，会恢复为<strong>可运行</strong>状态</p><p>还有一种情况是调用 sleep(long) 方法也会从<strong>可运行</strong>状态进入<strong>有时限等待</strong>状态，不需要主动唤醒，超时时间到自然恢复为<strong>可运行</strong>状态</p><h5 id="7-新建-T1、T2、T3-三个线程，如何保证它们按顺序执行？">7. 新建 T1、T2、T3 三个线程，如何保证它们按顺序执行？</h5><p>嗯~~，我思考一下 （适当的思考或想一下属于正常情况，脱口而出反而太假[背诵痕迹]）</p><p>可以这么做，在多线程中有多种方法让线程按特定顺序执行，可以用线程类的<strong>join</strong>()方法在一个线程中启动另一个线程，另外一个线程完成该线程继续执行。</p><p>比如说：</p><p>使用join方法，T3调用T2，T2调用T1，这样就能确保T1就会先完成而T3最后完成</p><h5 id="14-谈谈你对CAS的理解">14. 谈谈你对CAS的理解</h5><p>CAS的全称是： Compare And Swap(比较再交换);它体现的一种乐观锁的思想，在无锁状态下保证线程操作数据的原子性。</p><ul><li>CAS使用到的地方很多：AQS框架、AtomicXXX类</li><li>在操作共享变量的时候使用的自旋锁，效率上更高一些</li><li>CAS的底层是调用的Unsafe类中的方法，都是操作系统提供的，其他语言实现</li></ul><h5 id="15-谈谈你对volatile的理解">15. 谈谈你对volatile的理解</h5><p>volatile 是一个关键字，可以修饰类的成员变量、类的静态成员变量，主要有两个功能</p><p>第一：保证了不同线程对这个变量进行操作时的可见性，即一个线程修改了某个变量的值，这新值对其他线程来说是立即可见的,volatile关键字会强制将修改的值立即写入主存。</p><p>第二： 禁止进行指令重排序，可以保证代码执行有序性。底层实现原理是，添加了一个<strong>内存屏障</strong>，通过插入内存屏障禁止在内存屏障<strong>前后</strong>的指令执行重排序优化</p><h5 id="16-什么是AQS">16. 什么是AQS</h5><p>AQS的话，其实就一个jdk提供的类AbstractQueuedSynchronizer，是阻塞式锁和相关的同步器工具的框架。</p><p>内部有一个属性 state 属性来表示资源的状态，默认state等于0，表示没有获取锁，state等于1的时候才标明获取到了锁。通过cas 机制设置 state 状态</p><p>在它的内部还提供了基于 FIFO 的等待队列，是一个双向列表，其中</p><ul><li>tail 指向队列最后一个元素</li><li>head 指向队列中最久的一个元素</li></ul><p>其中我们刚刚聊的ReentrantLock底层的实现就是一个AQS。</p><h5 id="18-synchronized和Lock有什么区别-（易考）">18. synchronized和Lock有什么区别 ? （易考）</h5><p>第一，语法层面</p><ul><li>synchronized 是关键字，源码在 jvm 中，用 c++ 语言实现，退出同步代码块锁会自动释放</li><li>Lock 是接口，源码由 jdk 提供，用 java 语言实现，需要手动调用 unlock 方法释放锁</li></ul><p>第二，功能层面</p><ul><li>二者均属于悲观锁、都具备基本的互斥、同步、锁重入功能</li><li>Lock 提供了许多 synchronized 不具备的功能，例如获取等待状态、公平锁、可打断、可超时、多条件变量，同时Lock 可以实现不同的场景，如 ReentrantLock， ReentrantReadWriteLock</li></ul><p>第三，性能层面</p><ul><li>在没有竞争时，synchronized 做了很多优化，如偏向锁、轻量级锁，性能不赖</li><li>在竞争激烈时，Lock 的实现通常会提供更好的性能</li></ul><p>统合来看，需要根据不同的场景来选择不同的锁的使用</p><h5 id="19-死锁产生的条件是什么？">19. 死锁产生的条件是什么？</h5><p>嗯，是这样的，一个线程需要同时获取多把锁，这时就容易发生死锁，举个例子来说：</p><p>t1 线程获得A对象锁，接下来想获取B对象的锁</p><p>t2 线程获得B对象锁，接下来想获取A对象的锁</p><p>这个时候t1线程和t2线程都在互相等待对方的锁，就产生了死锁</p><h5 id="20-如何进行死锁诊断？">20. 如何进行死锁诊断？</h5><p>我们只需要通过jdk自动的工具就能搞定</p><p>我们可以先通过jps来查看当前java程序运行的进程id</p><p>然后通过jstack来查看这个进程id，就能展示出来死锁的问题，并且，可以定位代码的具体行号范围，我们再去找到对应的代码进行排查就行了。</p><h5 id="22-导致并发程序出现问题的根本原因是什么">22. 导致并发程序出现问题的根本原因是什么</h5><p>Java并发编程有三大核心特性，分别是原子性、可见性和有序性。</p><p>首先，原子性指的是一个线程在CPU中的操作是不可暂停也不可中断的，要么执行完成，要么不执行。比如，一些简单的操作如赋值可能是原子的，但复合操作如自增就不是原子的。为了保证原子性，我们可以使用synchronized关键字或JUC里面的Lock来进行加锁。</p><p>其次，可见性是指让一个线程对共享变量的修改对另一个线程可见。由于线程可能在自己的工作内存中缓存共享变量的副本，因此一个线程对共享变量的修改可能不会立即反映在其他线程的工作内存中。为了解决这个问题，我们可以使用synchronized关键字、volatile关键字或Lock来确保可见性。</p><p>最后，有序性是指处理器为了提高程序运行效率，可能会对输入代码进行优化，导致程序中各个语句的执行先后顺序与代码中的顺序不一致。虽然处理器会保证程序最终执行结果与代码顺序执行的结果一致，但在某些情况下我们可能需要确保特定的执行顺序。为了解决这个问题，我们可以使用volatile关键字来禁止指令重排。</p><h5 id="23-项目中有没有用到线程池，以及线程数是怎么设置的和拒绝策略是怎么设置的">23. 项目中有没有用到线程池，以及线程数是怎么设置的和拒绝策略是怎么设置的</h5><p>线程池的使用场景：</p><p>我们当时在项目中确实使用了线程池，主要用于异步处理AI大模型的请求。因为AI接口的响应时间比较长，如果使用同步调用会阻塞主线程，所以我们使用线程池来处理这些异步任务。</p><p>线程池配置：</p><p>我们创建了一个自定义的线程池，核心线程数设置为5，最大线程数设置为20，队列容量设置为100。这样配置是因为AI请求不是特别频繁，但单个请求耗时较长，所以需要足够的线程来处理并发请求。</p><p>线程数设置原则：</p><p>我们按照CPU密集型任务来设置线程数，因为AI请求主要是网络IO和计算密集型操作。考虑到我们的服务器是4核CPU，我们设置核心线程数为5，最大线程数为20，这样可以充分利用CPU资源，同时避免创建过多线程导致上下文切换开销。</p><p>拒绝策略设置：</p><p>我们使用了CallerRunsPolicy作为拒绝策略，当线程池和队列都满了时，新任务会由调用线程来执行。这样虽然会阻塞调用线程，但能保证任务不会丢失，对于AI请求这种重要业务来说是比较合适的选择。</p><p>实际效果：</p><p>使用线程池后，AI接口的响应时间从原来的3-5秒降低到1-2秒，用户体验得到了显著提升。同时系统的并发处理能力也得到了增强，能够支持更多的用户同时使用AI功能。</p><h5 id="24-说一下线程池的核心参数（线程池的执行原理知道嘛）（易考）">24. 说一下线程池的核心参数（线程池的执行原理知道嘛）（易考）</h5><p>在线程池中一共有7个核心参数：</p><ol><li>corePoolSize 核心线程数目 - 池中会保留的最多线程数</li><li>maximumPoolSize 最大线程数目 - 核心线程+救急线程的最大数目</li><li>keepAliveTime 生存时间 - 救急线程的生存时间，生存时间内没有新任务，此线程资源会释放</li><li>unit 时间单位 - 救急线程的生存时间单位，如秒、毫秒等</li><li>workQueue - 当没有空闲核心线程时，新来任务会加入到此队列排队，队列满会创建救急线程执行任务</li><li>threadFactory 线程工厂 - 可以定制线程对象的创建，例如设置线程名字、是否是守护线程等</li><li>handler 拒绝策略 - 当所有线程都在繁忙，workQueue 也放满时，会触发拒绝策略</li></ol><p>拒绝策略有4种，当线程数过多以后，第一种是抛异常、第二种是由调用者执行任务、第三是丢弃当前的任务，第四是丢弃最早排队任务。默认是直接抛异常。</p><h5 id="1-谈谈你对ThreadLocal的理解（易考）">1.谈谈你对ThreadLocal的理解（易考）</h5><p>嗯，是这样的~~</p><p>ThreadLocal 主要功能有两个，第一个是可以实现资源对象的线程隔离，让每个线程各用各的资源对象，避免争用引发的线程安全问题，第二个是实现了线程内的资源共享</p><h5 id="32-好的，那你知道ThreadLocal的底层原理实现吗？">32. 好的，那你知道ThreadLocal的底层原理实现吗？</h5><p>嗯，知道一些~</p><p>在ThreadLocal内部维护了一个一个 ThreadLocalMap 类型的成员变量，用来存储资源对象</p><p>当我们调用 set 方法，就是以 ThreadLocal 自己作为 key，资源对象作为 value，放入当前线程的 ThreadLocalMap 集合中</p><p>当调用 get 方法，就是以 ThreadLocal 自己作为 key，到当前线程中查找关联的资源值</p><p>当调用 remove 方法，就是以 ThreadLocal 自己作为 key，移除当前线程关联的资源值</p><h5 id="34-我看你的项目中有使用ThreadLocal，谈谈你对他的理解">34. 我看你的项目中有使用ThreadLocal，谈谈你对他的理解</h5><p>ThreadLocal是Java提供的一个线程本地变量，每个线程都有自己独立的变量副本，线程之间互不干扰。它通过ThreadLocalMap来实现线程隔离，每个线程都有自己的ThreadLocalMap来存储变量。</p><p>我们当时在项目中主要用ThreadLocal来存储当前登录用户的信息。当用户登录后，我们将用户信息存储到ThreadLocal中，这样在整个请求处理过程中，任何地方都可以通过ThreadLocal获取到当前用户信息，而不需要每次都传递用户参数。</p><p>使用ThreadLocal后，我们不需要在每个方法中传递用户参数，代码更加简洁。同时，由于每个线程都有独立的变量副本，避免了线程安全问题，不需要使用synchronized等同步机制。</p><h5 id="1-JVM由那些部分组成，运行流程是什么？（易考）">1. JVM由那些部分组成，运行流程是什么？（易考）</h5><p>嗯，好的~~</p><p>在JVM中共有四大部分，分别是ClassLoader（类加载器）、Runtime Data Area（运行时数据区，内存分区）、Execution Engine（执行引擎）、Native Method Library（本地库接口）</p><p>它们的运行流程是：</p><p>第一，类加载器（ClassLoader）把Java代码转换为字节码</p><p>第二，运行时数据区（Runtime Data Area）把字节码加载到内存中，而字节码文件只是JVM的一套指令集规范，并不能直接交给底层系统去执行，而是有执行引擎运行</p><p>第三，执行引擎（Execution Engine）将字节码翻译为底层系统指令，再交由CPU执行去执行，此时需要调用其他语言的本地库接口（Native Method Library）来实现整个程序的功能。</p><h5 id="2-什么是程序计数器？（易考）">2. 什么是程序计数器？（易考）</h5><p>嗯，是这样~~</p><p>java虚拟机对于多线程是通过线程轮流切换并且分配线程执行时间。在任何的一个时间点上，一个处理器只会处理执行一个线程，如果当前被执行的这个线程它所分配的执行时间用完了【挂起】。处理器会切换到另外的一个线程上来进行执行。并且这个线程的执行时间用完了，接着处理器就会又来执行被挂起的这个线程。这时候程序计数器就起到了关键作用，程序计数器在来回切换的线程中记录他上一次执行的行号，然后接着继续向下执行。</p><h5 id="9-栈和堆的区别呢">9. 栈和堆的区别呢</h5><p>嗯，好的，有这几个区别</p><p>第一，栈内存一般会用来存储局部变量和方法调用，但堆内存是用来存储Java对象和数组的的。堆会GC垃圾回收，而栈不会。</p><p>第二、栈内存是线程私有的，而堆内存是线程共有的。</p><p>第三、两者异常错误不同，但如果栈内存或者堆内存不足都会抛出异常。</p><h5 id="18-简述Java垃圾回收机制？（GC是什么？为什么要GC）">18. 简述Java垃圾回收机制？（GC是什么？为什么要GC）</h5><p>嗯，是这样~~</p><p>为了让程序员更专注于代码的实现，而不用过多的考虑内存释放的问题，所以，在Java语言中，有了自动的垃圾回收机制，也就是我们熟悉的GC(Garbage Collection)。</p><p>有了垃圾回收机制后，程序员只需要关心内存的申请即可，内存的释放由系统自动识别完成。</p><p>在进行垃圾回收时，不同的对象引用类型，GC会采用不同的回收时机</p><h5 id="9-对象什么时候可以被垃圾器回收（易考）">9. 对象什么时候可以被垃圾器回收（易考）</h5><p>思考一会~~</p><p>如果一个或多个对象没有任何的引用指向它了，那么这个对象现在就是垃圾，如果定位了垃圾，则有可能会被垃圾回收器回收。</p><p>如果要定位什么是垃圾，有两种方式来确定，第一个是引用计数法，第二个是可达性分析算法</p><p>通常都使用可达性分析算法来确定是不是垃圾</p><h5 id="20-JVM的垃圾清除算法有哪些（易考）">20. JVM的垃圾清除算法有哪些（易考）</h5><p>我记得一共有四种，分别是标记清除算法、复制算法、标记整理算法、分代回收</p><h5 id="21-说一下JVM的分代回收">21. 说一下JVM的分代回收</h5><p>关于分代回收是这样的</p><p>在java8时，堆被分为了两份：新生代和老年代，它们默认空间占用比例是1:2</p><p>对于新生代，内部又被分为了三个区域。Eden区，S0区，S1区默认空间占用比例是8:1:1</p><p>具体的工作机制是有些情况：</p><p>1）当创建一个对象的时候，那么这个对象会被分配在新生代的Eden区。当Eden区要满了时候，触发YoungGC。</p><p>2）当进行YoungGC后，此时在Eden区存活的对象被移动到S0区，并且<strong>当前对象的年龄会加1</strong>，清空Eden区。</p><p>3）当再一次触发YoungGC的时候，会把Eden区中存活下来的对象和S0中的对象，移动到S1区中，这些对象的年龄会加1，清空Eden区和S0区。</p><p>4）当再一次触发YoungGC的时候，会把Eden区中存活下来的对象和S1中的对象，移动到S0区中，这些对象的年龄会加1，清空Eden区和S1区。</p><p>5）对象的年龄达到了某一个限定的值（<strong>默认15岁</strong> ），那么这个对象就会进入到老年代中。</p><p>当然也有特殊情况，如果进入Eden区的是一个大对象，在触发YoungGC的时候，会直接存放到老年代</p><p>当老年代满了之后，<strong>触发FullGC</strong>。<strong>FullGC同时回收新生代和老年代</strong>，当前只会存在一个FullGC的线程进行执行，其他的线程全部会被挂起。 我们在程序中要尽量避免FullGC的出现。</p><h5 id="22-说一说讲一下新生代、老年代、永久代-区别相关">22. 说一说讲一下新生代、老年代、永久代 区别相关</h5><p>嗯！是这样的，简单说就是</p><p><strong>新生代</strong>主要用来存放新生的对象。</p><p><strong>老年代</strong>主要存放应用中生命周期长的内存对象。</p><p><strong>永久代</strong>指的是永久保存区域。主要存放Class和Meta（元数据）的信息。在Java8中，永久代已经被移除，取而代之的是一个称之为“元数据区”（<strong>元空间</strong>）的区域。元空间和永久代类似，不过元空间与永久代之间最大的区别在于：元空间并不在虚拟机中，而是使用本地内存。因此，默认情况下，元空间的大小仅受本地内存的限制。</p><h5 id="23-说一下JVM有哪些垃圾回收器（易考）">23. 说一下JVM有哪些垃圾回收器（易考）</h5><p>在jvm中，实现了多种垃圾收集器，包括：串行垃圾收集器、并行垃圾收集器（JDK8默认）、CMS（并发）垃圾收集器、G1垃圾收集器（JDK9默认）</p><h5 id="1-你的单点登录模块怎么实现的呢（什么是SSO）">1. 你的单点登录模块怎么实现的呢（什么是SSO）</h5><p>我们当时在项目中实现了单点登录功能，主要解决了用户在不同系统间切换时需要重复登录的问题。我们采用了基于JWT Token的方案，结合Redis缓存来实现单点登录。</p><p>当用户首次登录时，系统会生成一个JWT Token，并将Token存储到Redis中，同时设置合理的过期时间。用户访问其他系统时，会携带这个Token，系统通过验证Token的有效性来判断用户是否已登录。如果token无效会返回401错误，跳转到登录页面。</p><p>不同系统通过统一的认证中心来验证Token的有效性。认证中心会检查Token的签名、过期时间等信息，同时查询Redis确认Token是否仍然有效。</p><h5 id="2-你的项目中权限认证如何实现的">2. 你的项目中权限认证如何实现的</h5><p>我们当时在项目中采用了基于RBAC（基于角色的访问控制）的权限模型。我们设计了用户、角色、权限三个核心实体，用户通过角色来获得权限，角色通过权限来控制系统功能。比如管理员角色拥有所有权限，挂号员角色只能进行挂号相关操作，医生角色只能进行诊疗相关操作。</p><p>我们使用Spring Security作为安全框架，通过配置SecurityConfig类来实现权限控制。我们自定义了UserDetailsService来加载用户信息，实现了基于数据库的用户认证。同时，我们配置了不同的URL路径对应不同的权限要求，比如/admin/路径需要管理员权限，/doctor/路径需要医生权限。</p><p>我们创建了自定义的权限验证拦截器，在用户访问受保护的资源时，会检查用户是否具有相应的权限。我们使用@PreAuthorize注解在方法级别进行权限控制，来确保只有相对应的权限才能执行挂号操作。</p><h5 id="3-你负责的项目中遇到哪些棘手的问题？怎么解决的">3. 你负责的项目中遇到哪些棘手的问题？怎么解决的</h5><p>我们当时在项目中遇到了药品分页查询性能问题。药品表有300多万条数据，当医生查询药品信息时，使用传统的LIMIT分页查询，当查询第1000页以后的数据时，查询时间从原来的几百毫秒飙升到几秒钟，严重影响用户体验。</p><p>通过EXPLAIN分析发现，当使用LIMIT 1000, 20查询时，MySQL需要先扫描前1000条记录，然后返回第1001-1020条记录，随着页码增加，扫描的数据量呈线性增长，导致查询性能急剧下降。</p><p>我们采用了基于主键的分页查询优化方案。首先，我们为药品表添加了合适的索引，包括药品名称、分类、价格等常用查询字段的复合索引。然后，我们修改了分页查询逻辑，使用主键ID作为游标进行分页，比如查询ID大于某个值的记录，这样避免了大量数据的扫描。</p><p>我们将传统的LIMIT分页改为基于ID的分页，前端传递上一页最后一条记录的ID，后端查询ID大于该值的记录。同时，我们实现了查询条件的优化，将常用的查询条件组合成复合索引，比如(药品名称, 分类, 价格)的复合索引。</p><p>我们使用Redis缓存了热门药品信息，对于访问频率高的药品，直接从缓存获取，减少数据库查询压力。同时，我们实现了查询结果的缓存，相同查询条件的结果会缓存5分钟。</p><p>经过优化后，药品分页查询的响应时间从原来的几秒钟降低到几十毫秒，用户体验得到了显著提升。同时，通过缓存机制，我们进一步减少了数据库的查询压力，提升了系统的整体性能。</p></article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/03/01/67c2609b7c10b.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/03/01/67c2609b7c10b.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">李阳</div><div class="post-copyright__author_desc"></div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://blog.baskly.fun/posts/1918/">原创</a><a class="post-copyright-title"><span onclick='rm.copyPageUrl("https://blog.baskly.fun/posts/1918/")'>面试准备</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://blog.baskly.fun/posts/1918/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=面试准备&amp;url=https://blog.baskly.fun/posts/1918/&amp;pic=https://bu.dusays.com/2024/11/24/674340e56737a.png?_r_=da26521f-cbd4-914e-9f3d-7e1dcc562c51" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl(){var e=window.location.href,t=document.createElement("input");t.setAttribute("value",e),document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t)}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.baskly.fun" target="_blank">李阳的秘密小屋</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__category-list"><a class="post-meta__box__categoryes" href="/categories/%E9%9D%A2%E8%AF%95/"><span class="categoryes-punctuation"><i class="anzhiyufont anzhiyu-icon-inbox"></i></span> 面试<span class="categoryesPageCount">4</span></a></div><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%E9%9D%A2%E8%AF%95/"><span class="tags-punctuation"><i class="anzhiyufont anzhiyu-icon-tag"></i></span> 面试<span class="tagsPageCount">4</span></a></div></div><div class="post_share"><div class="social-share" data-image="https://bu.dusays.com/2024/11/24/674340e151d6a.png?_r_=0b45a64b-04ee-a407-ce49-33eaa5e2edce" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/62391/"><img class="prev-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2024/11/24/674340e56737a.png?_r_=35568bb4-b1f4-4171-7933-4d939665e1ca" onerror='onerror=null,src="https://bu.dusays.com/2025/05/30/68398ca86a127.gif"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">黑马头条</div></div></a></div><div class="next-post pull-right"><a href="/posts/21192/"><img class="next-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2024/11/24/674340e151d6a.png?_r_=0b45a64b-04ee-a407-ce49-33eaa5e2edce" onerror='onerror=null,src="https://bu.dusays.com/2025/05/30/68398ca86a127.gif"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">面试之路</div></div></a></div></nav><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i> <span>评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left:4px">隐私政策</a></div><div class="comment-tips" id="comment-tips"><span>✅ 你无需删除空行，直接评论以获取最佳展示效果</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/03/01/67c2609b7c10b.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"><div class="author-status"><img class="g-status" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2021/01/15/805daa7195f2c.gif" alt="status"></div></div><div class="author-info__description"><div style="line-height:1.38;margin:.6rem 0;text-align:justify;color:rgba(255,255,255,.8)">这有描绘<b style="color:#fff">我的痕迹</b></div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/about"><h1 class="author-info__name">李阳</h1><div class="author-info__desc"></div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/lyay23" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E3%80%81-%E8%87%AA%E6%88%91%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.</span> <span class="toc-text">一、 自我介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8B%E4%BD%A0%E7%9A%84%E9%A1%B9%E7%9B%AE"><span class="toc-number">2.</span> <span class="toc-text">二、介绍一下你的项目</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%85%AB%E8%82%A1%E9%83%A8%E5%88%86"><span class="toc-number">2.1.</span> <span class="toc-text">三、八股部分</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E6%88%91%E7%9C%8B%E4%BD%A0%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E4%BD%BF%E7%94%A8%E4%BA%86Redis%EF%BC%8C%E4%BD%A0%E6%9C%80%E8%BF%91%E5%9C%A8%E5%93%AA%E4%BA%9B%E5%9C%BA%E6%99%AF%E4%B8%AD%E4%BD%BF%E7%94%A8%E4%BA%86Redis%E5%91%A2%EF%BC%9F"><span class="toc-number">2.2.</span> <span class="toc-text">1. 我看你在项目中使用了Redis，你最近在哪些场景中使用了Redis呢？</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Redis%E7%9A%84%E7%BC%93%E5%AD%98%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%9F"><span class="toc-number">2.2.1.</span> <span class="toc-text">Redis的缓存在项目中的使用？</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8Redisson%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%EF%BC%9F"><span class="toc-number">2.2.2.</span> <span class="toc-text">为什么使用Redisson分布式锁？</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E9%82%A3%E4%B9%88%E4%BD%A0%E6%98%AF%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3%E7%BC%93%E5%AD%98%E7%A9%BF%E9%80%8F%E7%9A%84%E9%97%AE%E9%A2%98%E5%91%A2%EF%BC%9F"><span class="toc-number">2.3.</span> <span class="toc-text">2. 那么你是怎么解决缓存穿透的问题呢？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E4%BB%80%E4%B9%88%E6%98%AF%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%EF%BC%9F%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3"><span class="toc-number">2.4.</span> <span class="toc-text">4. 什么是缓存击穿？怎么解决</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-%E4%BB%80%E4%B9%88%E6%98%AF%E7%BC%93%E5%AD%98%E9%9B%AA%E5%B4%A9%EF%BC%8C%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3%EF%BC%9F"><span class="toc-number">2.5.</span> <span class="toc-text">5. 什么是缓存雪崩，怎么解决？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-Redis%E4%BD%9C%E4%B8%BA%E7%BC%93%E5%AD%98%EF%BC%8CMysql%E4%B8%8ERedis%E6%95%B0%E6%8D%AE%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E5%90%8C%E6%AD%A5%E5%91%A2%EF%BC%88%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%EF%BC%89"><span class="toc-number">2.6.</span> <span class="toc-text">6. Redis作为缓存，Mysql与Redis数据如何进行同步呢（双写一致）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7-Redis%E4%BD%9C%E4%B8%BA%E7%BC%93%E5%AD%98%EF%BC%8C%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E6%98%AF%E6%80%8E%E4%B9%88%E5%81%9A%E7%9A%84"><span class="toc-number">2.7.</span> <span class="toc-text">7. Redis作为缓存，数据持久化是怎么做的</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8-%E8%BF%99%E4%B8%A4%E7%A7%8D%E6%8C%81%E4%B9%85%E5%8C%96%E6%96%B9%E5%BC%8F%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%E5%91%A2%EF%BC%9F"><span class="toc-number">2.8.</span> <span class="toc-text">8. 这两种持久化方式有什么区别呢？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9-%E8%BF%99%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F%EF%BC%8C%E5%93%AA%E7%A7%8D%E6%81%A2%E5%A4%8D%E7%9A%84%E6%AF%94%E8%BE%83%E5%BF%AB%E5%91%A2%EF%BC%9F"><span class="toc-number">2.9.</span> <span class="toc-text">9. 这两种方式，哪种恢复的比较快呢？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#14-Redis%E7%9A%84%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%91%A2"><span class="toc-number">2.10.</span> <span class="toc-text">14. Redis的分布式锁是如何实现的呢</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#15-Redis%E5%AE%9E%E7%8E%B0%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%A6%82%E4%BD%95%E5%90%88%E7%90%86%E6%8E%A7%E5%88%B6%E9%94%81%E7%9A%84%E6%97%B6%E9%95%BF"><span class="toc-number">2.11.</span> <span class="toc-text">15. Redis实现分布式锁如何合理控制锁的时长</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#16-Redisson%E5%AE%9E%E7%8E%B0%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E6%98%AF%E5%8F%AF%E9%87%8D%E7%94%A8%E7%9A%84%E5%90%97"><span class="toc-number">2.12.</span> <span class="toc-text">16. Redisson实现分布式锁是可重用的吗</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#17-Redisson%E5%8F%AF%E4%BB%A5%E8%A7%A3%E5%86%B3%E4%B8%BB%E4%BB%8E%E4%B8%80%E8%87%B4%E7%9A%84%E9%97%AE%E9%A2%98%E5%90%97"><span class="toc-number">2.13.</span> <span class="toc-text">17. Redisson可以解决主从一致的问题吗</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#19-Redis%E9%9B%86%E7%BE%A4%E6%9C%89%E5%93%AA%E4%BA%9B%E6%96%B9%E6%A1%88%EF%BC%8C%E7%9F%A5%E9%81%93%E5%90%97%EF%BC%9F"><span class="toc-number">2.14.</span> <span class="toc-text">19. Redis集群有哪些方案，知道吗？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#20-%E9%82%A3%E4%BD%A0%E6%9D%A5%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8B%E4%B8%BB%E4%BB%8E%E5%90%8C%E6%AD%A5"><span class="toc-number">2.15.</span> <span class="toc-text">20. 那你来介绍一下主从同步</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#22-%E6%80%8E%E4%B9%88%E4%BF%9D%E8%AF%81Redis%E7%9A%84%E9%AB%98%E5%B9%B6%E5%8F%91%E9%AB%98%E5%8F%AF%E7%94%A8%EF%BC%9F"><span class="toc-number">2.16.</span> <span class="toc-text">22. 怎么保证Redis的高并发高可用？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#23-%E4%BD%A0%E4%BB%AC%E4%BD%BF%E7%94%A8Redis%E6%98%AF%E5%8D%95%E7%82%B9%E8%BF%98%E6%98%AF%E9%9B%86%E7%BE%A4%EF%BC%8C%E5%93%AA%E7%A7%8D%E9%9B%86%E7%BE%A4%EF%BC%9F"><span class="toc-number">2.17.</span> <span class="toc-text">23. 你们使用Redis是单点还是集群，哪种集群？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#27-Redis%E6%98%AF%E5%8D%95%E7%BA%BF%E7%A8%8B%E7%9A%84%EF%BC%8C%E4%BD%86%E6%98%AF%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%98%E9%82%A3%E4%B9%88%E5%BF%AB%EF%BC%9F"><span class="toc-number">2.18.</span> <span class="toc-text">27. Redis是单线程的，但是为什么还那么快？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E5%9C%A8MySQL%E4%B8%AD%EF%BC%8C%E5%A6%82%E4%BD%95%E5%AE%9A%E4%BD%8D%E6%85%A2%E6%9F%A5%E8%AF%A2%E5%91%A2%EF%BC%9F"><span class="toc-number">2.19.</span> <span class="toc-text">1. 在MySQL中，如何定位慢查询呢？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E9%82%A3%E8%BF%99%E4%B8%AASQL%E8%AF%AD%E5%8F%A5%E6%89%A7%E8%A1%8C%E5%BE%88%E6%85%A2%EF%BC%8C%E5%A6%82%E4%BD%95%E5%88%86%E6%9E%90%E5%91%A2%EF%BC%9F"><span class="toc-number">2.20.</span> <span class="toc-text">2. 那这个SQL语句执行很慢，如何分析呢？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E9%82%A3%E4%BD%A0%E4%BA%86%E8%A7%A3%E8%BF%87%E7%B4%A2%E5%BC%95%E5%90%97%EF%BC%9F%E4%BB%80%E4%B9%88%E6%98%AF%E7%B4%A2%E5%BC%95"><span class="toc-number">2.21.</span> <span class="toc-text">3. 那你了解过索引吗？什么是索引</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E7%B4%A2%E5%BC%95%E7%9A%84%E5%BA%95%E5%B1%82%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BA%86%E8%A7%A3%E8%BF%87%E5%90%97%EF%BC%9F"><span class="toc-number">2.22.</span> <span class="toc-text">4. 索引的底层数据结构了解过吗？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8-%E7%9F%A5%E9%81%93%E4%BB%80%E4%B9%88%E6%98%AF%E8%A6%86%E7%9B%96%E7%B4%A2%E5%BC%95%E5%90%97%EF%BC%9F"><span class="toc-number">2.23.</span> <span class="toc-text">8. 知道什么是覆盖索引吗？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9-MySQL%E8%B6%85%E5%A4%A7%E5%88%86%E9%A1%B5%E6%80%8E%E4%B9%88%E5%A4%84%E7%90%86"><span class="toc-number">2.24.</span> <span class="toc-text">9. MySQL超大分页怎么处理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#12-%E8%B0%88%E4%B8%80%E8%B0%88%E4%BD%A0%E5%AF%B9SQL%E4%BC%98%E5%8C%96%E7%9A%84%E7%BB%8F%E9%AA%8C%EF%BC%9F%EF%BC%88%E9%9D%A2%E8%AF%95%E5%B8%B8%E8%A7%81%EF%BC%89"><span class="toc-number">2.25.</span> <span class="toc-text">12. 谈一谈你对SQL优化的经验？（面试常见）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#14-%E5%9C%A8%E4%BD%BF%E7%94%A8%E7%B4%A2%E5%BC%95%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E6%98%AF%E5%A6%82%E4%BD%95%E4%BC%98%E5%8C%96%E5%91%A2%EF%BC%9F"><span class="toc-number">2.26.</span> <span class="toc-text">14. 在使用索引的时候，是如何优化呢？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#15-%E4%BD%A0%E5%B9%B3%E6%97%B6%E5%AF%B9SQL%E8%AF%AD%E5%8F%A5%E5%81%9A%E4%BA%86%E5%93%AA%E4%BA%9B%E4%BC%98%E5%8C%96%E5%91%A2%EF%BC%9F"><span class="toc-number">2.27.</span> <span class="toc-text">15. 你平时对SQL语句做了哪些优化呢？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#16-%E4%BA%8B%E5%8A%A1%E7%9A%84%E7%89%B9%E5%BE%81%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%AF%A6%E7%BB%86%E8%AF%B4%E4%B8%80%E4%B8%8B%E5%90%97"><span class="toc-number">2.28.</span> <span class="toc-text">16. 事务的特征是什么，可以详细说一下吗</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#20-%E4%BA%8B%E5%8A%A1%E4%B8%AD%E7%9A%84%E9%9A%94%E7%A6%BB%E6%80%A7%E6%98%AF%E5%A6%82%E4%BD%95%E4%BF%9D%E9%9A%9C%E7%9A%84%E5%91%A2%EF%BC%9F%EF%BC%88%E8%AF%B7%E4%BD%A0%E8%A7%A3%E9%87%8A%E4%B8%80%E4%B8%8BMVCC%EF%BC%89-%E9%9D%A2%E8%AF%95%E5%B8%B8%E8%80%83"><span class="toc-number">2.29.</span> <span class="toc-text">20. 事务中的隔离性是如何保障的呢？（请你解释一下MVCC）[面试常考]</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E4%BB%80%E4%B9%88%E6%98%AFAOP%EF%BC%9F"><span class="toc-number">2.30.</span> <span class="toc-text">2. 什么是AOP？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E4%BD%A0%E4%BB%AC%E9%A1%B9%E7%9B%AE%E4%B8%AD%E6%9C%89%E6%B2%A1%E6%9C%89%E4%BD%BF%E7%94%A8%E5%88%B0AOP"><span class="toc-number">2.31.</span> <span class="toc-text">3. 你们项目中有没有使用到AOP</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-Spring%E7%9A%84%E4%BA%8B%E5%8A%A1%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84"><span class="toc-number">2.32.</span> <span class="toc-text">4. Spring的事务是如何实现的</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-Spring%E7%9A%84bean%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%88%E6%98%93%E8%80%83%EF%BC%89"><span class="toc-number">2.33.</span> <span class="toc-text">6. Spring的bean的生命周期（易考）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#11-SpringBoot%E7%9A%84%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E5%8E%9F%E7%90%86%EF%BC%88%E6%98%93%E8%80%83%EF%BC%89"><span class="toc-number">2.34.</span> <span class="toc-text">11. SpringBoot的自动装配原理（易考）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#16-%E8%AF%B7%E4%BD%A0%E6%8F%8F%E8%BF%B0%E4%B8%80%E4%B8%8BSpring%E7%9A%84DI%E5%92%8CIOC%E3%80%81"><span class="toc-number">2.35.</span> <span class="toc-text">16. 请你描述一下Spring的DI和IOC、</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#18-%E6%8B%A6%E6%88%AA%E5%99%A8%E5%92%8C%E8%BF%87%E6%BB%A4%E5%99%A8%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB"><span class="toc-number">2.36.</span> <span class="toc-text">18.拦截器和过滤器有什么区别</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7-%E8%AF%B4%E4%B8%80%E4%B8%8BHashMap%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%88%E6%98%93%E8%80%83%EF%BC%89"><span class="toc-number">2.37.</span> <span class="toc-text">7. 说一下HashMap的实现原理（易考）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8-%E9%9D%A2%E8%AF%95%E9%A2%98-HashMap%E7%9A%84put%E6%96%B9%E6%B3%95%E7%9A%84%E5%85%B7%E4%BD%93%E6%B5%81%E7%A8%8B"><span class="toc-number">2.38.</span> <span class="toc-text">8. 面试题-HashMap的put方法的具体流程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9-%E8%AE%B2%E4%B8%80%E8%AE%B2HashMap%E7%9A%84%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6"><span class="toc-number">2.39.</span> <span class="toc-text">9. 讲一讲HashMap的扩容机制</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#13-HashSet%E4%B8%8EHashMap%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.40.</span> <span class="toc-text">13. HashSet与HashMap的区别</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#15-%E8%AF%B4%E4%B8%80%E8%AF%B4Java%E6%8F%90%E4%BE%9B%E7%9A%84%E5%B8%B8%E8%A7%81%E9%9B%86%E5%90%88%EF%BC%9F"><span class="toc-number">2.41.</span> <span class="toc-text">15. 说一说Java提供的常见集合？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%96%B9%E5%BC%8F%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%88%E6%98%93%E8%80%83%EF%BC%89"><span class="toc-number">2.42.</span> <span class="toc-text">3. 创建线程的方式有哪些（易考）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-%E7%BA%BF%E7%A8%8B%E5%8C%85%E6%8B%AC%E4%BA%86%E5%93%AA%E4%BA%9B%E7%8A%B6%E6%80%81%EF%BC%8C%E7%8A%B6%E6%80%81%E4%B9%8B%E9%97%B4%E6%98%AF%E5%A6%82%E4%BD%95%E5%8F%98%E5%8C%96%E7%9A%84"><span class="toc-number">2.43.</span> <span class="toc-text">6. 线程包括了哪些状态，状态之间是如何变化的</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7-%E6%96%B0%E5%BB%BA-T1%E3%80%81T2%E3%80%81T3-%E4%B8%89%E4%B8%AA%E7%BA%BF%E7%A8%8B%EF%BC%8C%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E5%AE%83%E4%BB%AC%E6%8C%89%E9%A1%BA%E5%BA%8F%E6%89%A7%E8%A1%8C%EF%BC%9F"><span class="toc-number">2.44.</span> <span class="toc-text">7. 新建 T1、T2、T3 三个线程，如何保证它们按顺序执行？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#14-%E8%B0%88%E8%B0%88%E4%BD%A0%E5%AF%B9CAS%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">2.45.</span> <span class="toc-text">14. 谈谈你对CAS的理解</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#15-%E8%B0%88%E8%B0%88%E4%BD%A0%E5%AF%B9volatile%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">2.46.</span> <span class="toc-text">15. 谈谈你对volatile的理解</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#16-%E4%BB%80%E4%B9%88%E6%98%AFAQS"><span class="toc-number">2.47.</span> <span class="toc-text">16. 什么是AQS</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#18-synchronized%E5%92%8CLock%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB-%EF%BC%88%E6%98%93%E8%80%83%EF%BC%89"><span class="toc-number">2.48.</span> <span class="toc-text">18. synchronized和Lock有什么区别 ? （易考）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#19-%E6%AD%BB%E9%94%81%E4%BA%A7%E7%94%9F%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">2.49.</span> <span class="toc-text">19. 死锁产生的条件是什么？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#20-%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E6%AD%BB%E9%94%81%E8%AF%8A%E6%96%AD%EF%BC%9F"><span class="toc-number">2.50.</span> <span class="toc-text">20. 如何进行死锁诊断？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#22-%E5%AF%BC%E8%87%B4%E5%B9%B6%E5%8F%91%E7%A8%8B%E5%BA%8F%E5%87%BA%E7%8E%B0%E9%97%AE%E9%A2%98%E7%9A%84%E6%A0%B9%E6%9C%AC%E5%8E%9F%E5%9B%A0%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">2.51.</span> <span class="toc-text">22. 导致并发程序出现问题的根本原因是什么</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#23-%E9%A1%B9%E7%9B%AE%E4%B8%AD%E6%9C%89%E6%B2%A1%E6%9C%89%E7%94%A8%E5%88%B0%E7%BA%BF%E7%A8%8B%E6%B1%A0%EF%BC%8C%E4%BB%A5%E5%8F%8A%E7%BA%BF%E7%A8%8B%E6%95%B0%E6%98%AF%E6%80%8E%E4%B9%88%E8%AE%BE%E7%BD%AE%E7%9A%84%E5%92%8C%E6%8B%92%E7%BB%9D%E7%AD%96%E7%95%A5%E6%98%AF%E6%80%8E%E4%B9%88%E8%AE%BE%E7%BD%AE%E7%9A%84"><span class="toc-number">2.52.</span> <span class="toc-text">23. 项目中有没有用到线程池，以及线程数是怎么设置的和拒绝策略是怎么设置的</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#24-%E8%AF%B4%E4%B8%80%E4%B8%8B%E7%BA%BF%E7%A8%8B%E6%B1%A0%E7%9A%84%E6%A0%B8%E5%BF%83%E5%8F%82%E6%95%B0%EF%BC%88%E7%BA%BF%E7%A8%8B%E6%B1%A0%E7%9A%84%E6%89%A7%E8%A1%8C%E5%8E%9F%E7%90%86%E7%9F%A5%E9%81%93%E5%98%9B%EF%BC%89%EF%BC%88%E6%98%93%E8%80%83%EF%BC%89"><span class="toc-number">2.53.</span> <span class="toc-text">24. 说一下线程池的核心参数（线程池的执行原理知道嘛）（易考）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E8%B0%88%E8%B0%88%E4%BD%A0%E5%AF%B9ThreadLocal%E7%9A%84%E7%90%86%E8%A7%A3%EF%BC%88%E6%98%93%E8%80%83%EF%BC%89"><span class="toc-number">2.54.</span> <span class="toc-text">1.谈谈你对ThreadLocal的理解（易考）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#32-%E5%A5%BD%E7%9A%84%EF%BC%8C%E9%82%A3%E4%BD%A0%E7%9F%A5%E9%81%93ThreadLocal%E7%9A%84%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0%E5%90%97%EF%BC%9F"><span class="toc-number">2.55.</span> <span class="toc-text">32. 好的，那你知道ThreadLocal的底层原理实现吗？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#34-%E6%88%91%E7%9C%8B%E4%BD%A0%E7%9A%84%E9%A1%B9%E7%9B%AE%E4%B8%AD%E6%9C%89%E4%BD%BF%E7%94%A8ThreadLocal%EF%BC%8C%E8%B0%88%E8%B0%88%E4%BD%A0%E5%AF%B9%E4%BB%96%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">2.56.</span> <span class="toc-text">34. 我看你的项目中有使用ThreadLocal，谈谈你对他的理解</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-JVM%E7%94%B1%E9%82%A3%E4%BA%9B%E9%83%A8%E5%88%86%E7%BB%84%E6%88%90%EF%BC%8C%E8%BF%90%E8%A1%8C%E6%B5%81%E7%A8%8B%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%EF%BC%88%E6%98%93%E8%80%83%EF%BC%89"><span class="toc-number">2.57.</span> <span class="toc-text">1. JVM由那些部分组成，运行流程是什么？（易考）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E4%BB%80%E4%B9%88%E6%98%AF%E7%A8%8B%E5%BA%8F%E8%AE%A1%E6%95%B0%E5%99%A8%EF%BC%9F%EF%BC%88%E6%98%93%E8%80%83%EF%BC%89"><span class="toc-number">2.58.</span> <span class="toc-text">2. 什么是程序计数器？（易考）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9-%E6%A0%88%E5%92%8C%E5%A0%86%E7%9A%84%E5%8C%BA%E5%88%AB%E5%91%A2"><span class="toc-number">2.59.</span> <span class="toc-text">9. 栈和堆的区别呢</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#18-%E7%AE%80%E8%BF%B0Java%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6%EF%BC%9F%EF%BC%88GC%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81GC%EF%BC%89"><span class="toc-number">2.60.</span> <span class="toc-text">18. 简述Java垃圾回收机制？（GC是什么？为什么要GC）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9-%E5%AF%B9%E8%B1%A1%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E5%8F%AF%E4%BB%A5%E8%A2%AB%E5%9E%83%E5%9C%BE%E5%99%A8%E5%9B%9E%E6%94%B6%EF%BC%88%E6%98%93%E8%80%83%EF%BC%89"><span class="toc-number">2.61.</span> <span class="toc-text">9. 对象什么时候可以被垃圾器回收（易考）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#20-JVM%E7%9A%84%E5%9E%83%E5%9C%BE%E6%B8%85%E9%99%A4%E7%AE%97%E6%B3%95%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%88%E6%98%93%E8%80%83%EF%BC%89"><span class="toc-number">2.62.</span> <span class="toc-text">20. JVM的垃圾清除算法有哪些（易考）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#21-%E8%AF%B4%E4%B8%80%E4%B8%8BJVM%E7%9A%84%E5%88%86%E4%BB%A3%E5%9B%9E%E6%94%B6"><span class="toc-number">2.63.</span> <span class="toc-text">21. 说一下JVM的分代回收</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#22-%E8%AF%B4%E4%B8%80%E8%AF%B4%E8%AE%B2%E4%B8%80%E4%B8%8B%E6%96%B0%E7%94%9F%E4%BB%A3%E3%80%81%E8%80%81%E5%B9%B4%E4%BB%A3%E3%80%81%E6%B0%B8%E4%B9%85%E4%BB%A3-%E5%8C%BA%E5%88%AB%E7%9B%B8%E5%85%B3"><span class="toc-number">2.64.</span> <span class="toc-text">22. 说一说讲一下新生代、老年代、永久代 区别相关</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#23-%E8%AF%B4%E4%B8%80%E4%B8%8BJVM%E6%9C%89%E5%93%AA%E4%BA%9B%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8%EF%BC%88%E6%98%93%E8%80%83%EF%BC%89"><span class="toc-number">2.65.</span> <span class="toc-text">23. 说一下JVM有哪些垃圾回收器（易考）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E4%BD%A0%E7%9A%84%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95%E6%A8%A1%E5%9D%97%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%91%A2%EF%BC%88%E4%BB%80%E4%B9%88%E6%98%AFSSO%EF%BC%89"><span class="toc-number">2.66.</span> <span class="toc-text">1. 你的单点登录模块怎么实现的呢（什么是SSO）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E4%BD%A0%E7%9A%84%E9%A1%B9%E7%9B%AE%E4%B8%AD%E6%9D%83%E9%99%90%E8%AE%A4%E8%AF%81%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84"><span class="toc-number">2.67.</span> <span class="toc-text">2. 你的项目中权限认证如何实现的</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E4%BD%A0%E8%B4%9F%E8%B4%A3%E7%9A%84%E9%A1%B9%E7%9B%AE%E4%B8%AD%E9%81%87%E5%88%B0%E5%93%AA%E4%BA%9B%E6%A3%98%E6%89%8B%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9F%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3%E7%9A%84"><span class="toc-number">2.68.</span> <span class="toc-text">3. 你负责的项目中遇到哪些棘手的问题？怎么解决的</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/29545/" title="java面试篇2"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2024/11/24/674340e362114.png?_r_=aae5c34e-bd72-4834-820e-9b31462cba9b" onerror='this.onerror=null,this.src="https://bu.dusays.com/2025/05/30/68398ca86a127.gif"' alt="java面试篇2"></a><div class="content"><a class="title" href="/posts/29545/" title="java面试篇2">java面试篇2</a><time datetime="2025-09-24T11:34:21.000Z" title="发表于 2025-09-24 19:34:21">2025-09-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/21192/" title="面试之路"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2024/11/24/674340e151d6a.png?_r_=0b45a64b-04ee-a407-ce49-33eaa5e2edce" onerror='this.onerror=null,this.src="https://bu.dusays.com/2025/05/30/68398ca86a127.gif"' alt="面试之路"></a><div class="content"><a class="title" href="/posts/21192/" title="面试之路">面试之路</a><time datetime="2025-09-24T11:34:21.000Z" title="发表于 2025-09-24 19:34:21">2025-09-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/1918/" title="面试准备"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2024/11/24/674340e56737a.png?_r_=da26521f-cbd4-914e-9f3d-7e1dcc562c51" onerror='this.onerror=null,this.src="https://bu.dusays.com/2025/05/30/68398ca86a127.gif"' alt="面试准备"></a><div class="content"><a class="title" href="/posts/1918/" title="面试准备">面试准备</a><time datetime="2025-09-24T11:34:21.000Z" title="发表于 2025-09-24 19:34:21">2025-09-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/62391/" title="黑马头条"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2024/11/24/674340e56737a.png?_r_=35568bb4-b1f4-4171-7933-4d939665e1ca" onerror='this.onerror=null,this.src="https://bu.dusays.com/2025/05/30/68398ca86a127.gif"' alt="黑马头条"></a><div class="content"><a class="title" href="/posts/62391/" title="黑马头条">黑马头条</a><time datetime="2025-09-24T02:34:21.000Z" title="发表于 2025-09-24 10:34:21">2025-09-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/11096/" title="Redis黑马版"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2024/12/24/676a8d8bc7d9f.png?_r_=b766501c-375f-d622-6ca5-bfbc65ab58d7" onerror='this.onerror=null,this.src="https://bu.dusays.com/2025/05/30/68398ca86a127.gif"' alt="Redis黑马版"></a><div class="content"><a class="title" href="/posts/11096/" title="Redis黑马版">Redis黑马版</a><time datetime="2025-09-08T02:34:21.000Z" title="发表于 2025-09-08 10:34:21">2025-09-08</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By 李阳</div><div class="footer_custom_text">下次再见！</div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">24</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">11</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">6</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size:.9em"></i> <span>隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size:.9em"></i> <span>分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size:.9em"></i> <span>标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/charts/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-tongji1"></use></svg> <span>统计</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=12781955100&amp;server=netease"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size:.9em"></i> <span>耳机分你一半</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size:.9em"></i> <span>留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/todolist/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-zuji"></use></svg> <span>脚步</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/essay/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-taiyang"></use></svg> <span>小太阳</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-a-xiaoyangyang_huaban1"></use></svg> <span>了解我</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/408/" style="font-size:.88rem">408<sup>1</sup></a><a href="/tags/C%E8%AF%AD%E8%A8%80/" style="font-size:.88rem">C语言<sup>1</sup></a><a href="/tags/java/" style="font-size:.88rem;font-weight:500;color:var(--anzhiyu-lighttext)">java<sup>1</sup></a><a href="/tags/javaweb/" style="font-size:.88rem">javaweb<sup>9</sup></a><a href="/tags/%E5%8A%9B%E6%89%A3%E5%88%B7%E9%A2%98/" style="font-size:.88rem">力扣刷题<sup>1</sup></a><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size:.88rem">操作系统<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size:.88rem">数据结构<sup>1</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" style="font-size:.88rem">计算机组成原理<sup>1</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size:.88rem">计算机网络<sup>2</sup></a><a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" style="font-size:.88rem">软件工程<sup>1</sup></a><a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size:.88rem">面试<sup>4</sup></a></div></div><hr></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button><button id="go-down" type="button" title="直达底部" onclick="anzhiyu.scrollToDest(document.body.scrollHeight,500)"><i class="anzhiyufont anzhiyu-icon-arrow-down"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="12781955100" server="netease" type="playlist" mutex="true" preload="none" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i> <span>数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size:1rem"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://music.163.com/#/playlist?id=12781955100&quot;, &quot;_blank&quot;);" style="display:none"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://cdn.cbd.int/pangu@4.0.7/dist/browser/pangu.min.js").then((()=>{pangu.autoSpacingPage()}))}function panguInit(){GLOBAL_CONFIG_SITE.isPost&&panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>var HoldLog=console.log;console.log=function(){};let now1=new Date;queueMicrotask((()=>{const o=function(){HoldLog.apply(console,arguments)},n=new Date("04/01/2021 00:00:00");now1.setTime(now1.getTime()+250);const c=(now1-n)/1e3/60/60/24,e=["欢迎使用安知鱼!","生活明朗, 万物可爱","\n        \n       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗\n      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║\n      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║\n      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║\n      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝\n      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝\n        \n        ","已上线",Math.floor(c),"天","©2024 By 安知鱼 V1.6.14"],t=["NCC2-036","调用前置摄像头拍照成功，识别为【小笨蛋】.","Photo captured: ","🤪"];setTimeout(o.bind(console,`\n%c${e[0]} %c ${e[1]} %c ${e[2]} %c${e[3]}%c ${e[4]}%c ${e[5]}\n\n%c ${e[6]}\n`,"color:#425AEF","","color:#425AEF","color:#425AEF","","color:#425AEF","")),setTimeout(o.bind(console,`%c ${t[0]} %c ${t[1]} %c \n${t[2]} %c\n${t[3]}\n`,"color:white; background-color:#4fd953","","",'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%')),setTimeout(o.bind(console,"%c WELCOME %c 你好，小笨蛋.","color:white; background-color:#4f90d9","")),setTimeout(console.warn.bind(console,"%c ⚡ Powered by 安知鱼 %c 你正在访问 李阳 的博客.","color:white; background-color:#f0ad4e","")),setTimeout(o.bind(console,"%c W23-12 %c 你已打开控制台.","color:white; background-color:#4f90d9","")),setTimeout(console.warn.bind(console,"%c S013-782 %c 你现在正处于监控中.","color:white; background-color:#d9534f",""))}))</script><script async src="/anzhiyu/random.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><link rel="stylesheet" href="https://cdn.cbd.int/katex@0.16.0/dist/katex.min.css"><script src="https://cdn.cbd.int/katex@0.16.0/dist/contrib/copy-tex.min.js"></script><script>document.querySelectorAll("#article-container span.katex-display").forEach((a=>{anzhiyu.wrap(a,"div",{class:"katex-wrap"})}))</script><script>(()=>{const e=document.querySelectorAll("#article-container .mermaid-wrap");if(0===e.length)return;const t=()=>{window.loadMermaid=!0;const t="dark"===document.documentElement.getAttribute("data-theme")?"dark":"default";Array.from(e).forEach(((e,n)=>{const d=e.firstElementChild,r="mermaid-"+n,a="%%{init:{ 'theme':'"+t+"'}}%%\n"+d.textContent,i=mermaid.render(r,a);var m;"string"==typeof i?(m=i,d.insertAdjacentHTML("afterend",m)):i.then((({svg:e})=>{d.insertAdjacentHTML("afterend",e)}))}))},n=()=>{window.loadMermaid?t():getScript("https://cdn.cbd.int/mermaid@10.2.4/dist/mermaid.min.js").then(t)};anzhiyu.addGlobalFn("themeChange",t,"mermaid"),window.pjax?n():document.addEventListener("DOMContentLoaded",n)})()</script><script>(()=>{const t=()=>{"object"==typeof twikoo?setTimeout(o,0):getScript("https://cdn.cbd.int/twikoo@1.6.39/dist/twikoo.all.min.js").then(o)},o=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo.baskly.fun",region:"",onCommentLoaded:()=>{anzhiyu.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null)),GLOBAL_CONFIG_SITE.isPost&&(()=>{const t=document.getElementById("twikoo-count");t&&twikoo.getCommentsCount({envId:"https://twikoo.baskly.fun",region:"",urls:[window.location.pathname],includeReply:!1}).then((o=>{t.textContent=o[0].count})).catch((t=>{console.error(t)}))})()};t()})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>window.addEventListener("load",(()=>{const e=e=>{let t="";if(e.length)for(let n=0;n<e.length;n++){t+="<div class='aside-list-item'>";{const a="data-lazy-src";t+=`<a href='${e[n].url}' class='thumbnail'><img ${a}='${e[n].avatar}' alt='${e[n].nick}'><div class='name'><span>${e[n].nick} </span></div></a>`}t+=`<div class='content'>\n        <a class='comment' href='${e[n].url}' title='${e[n].content}'>${e[n].content}</a>\n        <time datetime="${e[n].date}">${anzhiyu.diffDate(e[n].date,!0)}</time></div>\n        </div>`}else t+="没有评论";let n=document.querySelector("#card-newest-comments .aside-list");n&&(n.innerHTML=t),window.lazyLoadInstance&&window.lazyLoadInstance.update(),window.pjax&&window.pjax.refresh(n)},t=()=>{if(document.querySelector("#card-newest-comments .aside-list")){const t=saveToLocal.get("twikoo-newest-comments");t?e(JSON.parse(t)):(()=>{const t=()=>{twikoo.getRecentComments({envId:"https://twikoo.baskly.fun",region:"",pageSize:6,includeReply:!0}).then((function(t){const n=t.map((e=>{return{content:(t=e.comment,""===t||(t=(t=(t=(t=t.replace(/<img.*?src="(.*?)"?[^\>]+>/gi,"[图片]")).replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi,"[链接]")).replace(/<pre><code>.*?<\/pre>/gi,"[代码]")).replace(/<[^>]+>/g,"")).length>150&&(t=t.substring(0,150)+"..."),t),avatar:e.avatar,nick:e.nick,url:e.url+"#"+e.id,date:new Date(e.created).toISOString()};var t}));saveToLocal.set("twikoo-newest-comments",JSON.stringify(n),10/1440),e(n)})).catch((function(e){document.querySelector("#card-newest-comments .aside-list").textContent="无法获取评论，请确认相关配置是否正确"}))};"object"==typeof twikoo?t():getScript("https://cdn.cbd.int/twikoo@1.6.39/dist/twikoo.all.min.js").then(t)})()}};t(),document.addEventListener("pjax:complete",t)}))</script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail="yang@li.com"</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><script async src="//at.alicdn.com/t/c/font_4782341_g014uvnbwk6.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/echarts/4.9.0-rc.1/echarts.min.js"></script><script src="https://lib.baomitu.com/echarts/4.9.0-rc.1/echarts.min.js"></script><script src="https://jsd-proxy.ygxz.in/gh/lyay23/blogstatic@v1.0.0/static/imgloaded.min.js"></script><script src="https://jsd-proxy.ygxz.in/gh/lyay23/blogstatic@v1.0.0/static/countdown.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors=['meta[property="og:image"]','meta[property="og:title"]','meta[property="og:url"]','meta[property="og:type"]','meta[property="og:site_name"]','meta[property="og:description"]',"head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"]):not([href="/music/"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(anzhiyu.removeGlobalFnEvent("pjax"),anzhiyu.removeGlobalFnEvent("themeChange"),document.getElementById("rightside").classList.remove("rightside-show"),window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode")})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach((e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)})),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()})),document.addEventListener("pjax:error",(e=>{404===e.request.status&&pjax.loadUrl("/404.html")}))</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>