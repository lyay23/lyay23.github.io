<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>前端学习（tlias为例） | 李阳的秘密小屋</title><meta name="keywords" content="javaweb"><meta name="author" content="李阳"><meta name="copyright" content="李阳"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="前端学习（tlias为例）"><meta name="application-name" content="前端学习（tlias为例）"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="前端学习（tlias为例）"><meta property="og:url" content="https://blog.baskly.fun/posts/49515/index.html"><meta property="og:site_name" content="李阳的秘密小屋"><meta property="og:description" content="tlias前端"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://bu.dusays.com/2024/11/24/674340e151d6a.png?_r_=90fa1921-0a69-b602-3178-9ee5211c46f1"><meta property="article:author" content="李阳"><meta property="article:tag" content="bask,李阳"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://bu.dusays.com/2024/11/24/674340e151d6a.png?_r_=90fa1921-0a69-b602-3178-9ee5211c46f1"><meta name="description" content="tlias前端"><link rel="shortcut icon" href="/img/flow-32x32.ico"><link rel="canonical" href="https://blog.baskly.fun/posts/49515/"><link rel="preconnect" href="//cdn.cbd.int"><meta name="google-site-verification" content="xxx"><meta name="baidu-site-verification" content="code-xxx"><meta name="msvalidate.01" content="xxx"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="var(--anzhiyu-main)"><link rel="mask-icon" href="/img/siteicon/yang180.png" color="#5bbad5"><link rel="apple-touch-icon" sizes="180x180" href="/img/siteicon/yang180.png"><link rel="apple-touch-icon-precomposed" sizes="180x180" href="/img/siteicon/yang180.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/siteicon/yang32.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/siteicon/yang16.png"><link rel="bookmark" href="/img/siteicon/yang180.png"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2048-2732.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2732-2048.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1668-2388.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2388-1668.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1536-2048.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2048-1536.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1668-2224.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2224-1668.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1620-2160.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2160-1620.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1290-2796.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2796-1290.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1179-2556.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2556-1179.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1284-2778.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2778-1284.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1170-2532.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2532-1170.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1125-2436.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2436-1125.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1242-2688.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2688-1242.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-828-1792.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1792-828.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1242-2208.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2208-1242.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-750-1334.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1334-750.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-640-1136.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1136-640.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={linkPageTop:void 0,peoplecanvas:void 0,postHeadAiDescription:{enable:!0,gptName:"Liyang",mode:"local",switchBtn:!1,btnLink:"https://afdian.net/item/886a79d4db6711eda42a52540025c377",randomNum:3,basicWordCount:1e3,key:"xxxx",Referer:"https://xx.xx/"},diytitle:{enable:!0,leaveTitle:"不要走",backTitle:"不要离开我     -"},LA51:void 0,greetingBox:{enable:!0,default:"晚上好👋",list:[{greeting:"晚安😴",startTime:0,endTime:5},{greeting:"早上好鸭👋, 祝你一天好心情！",startTime:6,endTime:9},{greeting:"上午好👋, 状态很好，鼓励一下～",startTime:10,endTime:10},{greeting:"11点多啦, 在坚持一下就吃饭啦～",startTime:11,endTime:11},{greeting:"午安👋, 要睡觉喽",startTime:12,endTime:14},{greeting:"🌈充实的一天辛苦啦！",startTime:14,endTime:18},{greeting:"19点喽, 奖励一顿丰盛的大餐吧🍔。",startTime:19,endTime:19},{greeting:"晚上好👋, 在属于自己的时间好好放松😌~",startTime:20,endTime:24}]},twikooEnvId:"https://twikoo.baskly.fun",commentBarrageConfig:void 0,music_page_default:"nav_music",root:"/",preloader:{source:3},friends_vue_info:void 0,navMusic:!0,mainTone:{mode:"both",api:null,cover_change:!0},authorStatus:{skills:["东隅已逝 桑榆非晚","集中精神 攻克难关"]},algolia:void 0,localSearch:{path:"/search.xml",preload:!0,languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"简",rightMenuMsgToTraditionalChinese:"转为繁体",rightMenuMsgToSimplifiedChinese:"转为简体"},noticeOutdate:void 0,highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:330},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,simplehomepage:!0,post:!1},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:{copy:!0,copyrightEbable:!1,limitCount:50,languages:{author:"作者: 李阳",link:"链接: ",source:"来源: 李阳的秘密小屋",info:"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。",copySuccess:"复制成功，复制和转载请标注本文地址"}},lightbox:"fancybox",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#425AEF",bgDark:"#1f1f1f",position:"top-center"},source:{justifiedGallery:{js:"https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js",css:"https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css"}},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1,shortcutKey:void 0,autoDarkmode:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={configTitle:"李阳的秘密小屋",title:"前端学习（tlias为例）",postAI:"",pageFillDescription:"talis前端开发, 一、 Vue项目入门, 1. 新建vue工程化项目, 2. 项目文件简介, 3. vue项目的开发访问流程, 4. Vue的API风格, 1. 选项式API, 2. 组合式API, 5. 组合式API小案例, 6. ElementPlus, 1. 导入步骤, 2. 表格组件, 3. 分页条组件, 4. 对话框组件, 5. 表单组件, 6. ElementPlus的小案例, 1.定义表单内容, 2. 完成表格内容, 3. 修改表格绑定内容, 4. 更改图片属性, 5. 最终效果, 二、tlias侧边栏开发, 1. 左侧侧边栏, 1. 左侧菜单基本定义, 2. 动态菜单（Router路由）, 1. 开启router, 2.配置路由index, 3. 在需要展示的地方导入视图, 4.页面展示, 3. 嵌套路由, 1. 动态路由组件, 2. 路由嵌套, 三、部门管理-查询, 1. 页面分析, 2. 页面布局开发, 3. 列表查询-加载数据, 4. 程序优化, 1. 代码分析, 2. 具体代码, 3. 反向代理, 四、部门管理-新增, 1. 页面原型, 2. 新增部门, 1. 定义dialog, 2. 导入消息组件, 4. 新增优化, 1. 效果展示, 2. 表单规则校验拦截, 五、部门管理-修改部门, 1. 页面原型, 2. 分析-查询回显, 3. 分析-修改, 六、部门管理-删除部门, 1. 页面原型, 2. 具体思路代码, 七、员工管理-员工查询, 1.页面原型, 2. 接口文档, 3. 搜索栏制作, 1. 基础页面设置, 2. 优化data数据块（事件监听）, 使用watch监听函数监听日期, 4.表单制作（详细版）, 5. 分页条制作, 6. 列表查询, 1. 查询功能页面分析, 2. 功能书写, 八、 员工管理-新增员工, 1. 页面布局, 2. 接口文档, 3. Dialog 对话框, 1. 页面基本布局, 2. 显示对话框, 3.表单解析, 4.页面布局优化（性别职位所属部门）, 1. 性别与职位, 2. 所属部门动态优化, 5. 图片上传相关, 头像回显逻辑, 6. 工作经历的页面交互, 1. 页面原型, 2. 实现思路, 7. 保存员工, 1. 页面分析, 2. 功能开发, 九、修改员工, 1. 页面原型, 2. 查询回显功能, 3. 点击保存修改员工数据, 十、删除功能, 1. 删除单个员工, 1. 页面原型, 2. api设计, 3. 为删除按钮绑定点击事件, 2. 批量删除, 1. 页面分析, 2. 代码设计, 十一、 员工登录, 1. 页面原型, 2. 准备工作, 3. 初始登录功能, 4.存储登录token, 1. localStorage, 5. 用户携带令牌登录, 1. 功能引入, 2. axios的拦截器, 3. 解决文件上传问题, 6.未登录显示401跳转到登录页面, 7. 退出登录, 1. 页面显示当前用户姓名, 2. 退出登录, 十一、项目打包这段时间以来一直在帮别人写作业然后在上翻到了很多别人写的源码后端部分代码我基本上都可以看的懂不过前端部分总是感觉很迷糊毕竟没有系统的学过因此以为例系统学习一下等前端的使用谨以此篇记录我的前端学习过程古之立大事者不惟有超世之才亦必有坚忍不拔之志晁错论引用站外地址后端仓库引用站外地址前端仓库前端开发一项目入门新建工程化项目选择与构建项目到目录下这样就能看到项目的初始页面了项目文件简介项目的配置信息如端口号项目配置文件包括项目名版本号依赖包版本等源代码文件夹静态资源目录存放图片字体组件目录存放通用组件根目录入口文件项目的开发访问流程默认首页入口文件创建实例将其挂载到某个区域的风格选项式选项式可以用包含多个选项的对象来描述组件的逻辑如等选项定义的属性都会暴露在函数内部的上它会指向当前的组件实例组合式组合式是提供的一种基于函数的组件编写方式通过使用函数来组织和复用组件的逻辑它提供了一种更灵活更可组合的方式来编写组件组合式小整体流程点击按钮时会调用函数函数每点击一次就会将值最终将后的结果展示在页面上引入模块说明响应式数据里面的值为声明函数在组合式中没有将上方的值进行声明钩子函数使用响应式数据与操作类似绑定个点击事件将值进行输出在中引用在中注销全局样式引用页面显示是一个标识告诉需要进行一些处理让我们可以更简洁的使用组合式工接收一个内部值返回一个响应式的对象此对象只有一个指向内部值的属性在组合式中的钩子方法注册一个回调函数在组件挂载完成后执行组合式小案例好像摸到一点点小头绪了呢好神奇首先在中新建以下代码导入响应式数据声明响应式数据绑定的姓名性别职位用户列表需要遍历数组声明函数基于请求发送异步请求请求服务器加载数据将异步请求变为同步请求等待程序运行完毕来获取结果必须与一起使用第一个表示响应主体第二个则是实际的数据列表定义钩子函数自动加载收索功能姓名性别男女职位班主任讲师其他查询序号姓名头像性别职位入职时间更新时间用于列表循环渲染元素男女其他班主任讲师学工主管教研主管咨询师其他页面就会显示组件地址导入步骤常见项目在中引用引入表格组件好像没有啥好说的基本上就是抄抄抄的代码按钮表格日期姓名住址分页条组件当前页码每页记录数总记录数每页展示当前页码分页条天下苦秦已久矣劳资学就是为了解决这个分页条组件英文问题之前翻人家写的代码一直不知道在哪里改现在我就知道啦呜呜呜终于等到你还好我没放弃对话框组件就是抄抄抄重点对话框打开对话框配送地址日期姓名地址显示效果表单组件抄抄抄我抄表单表单姓名你叫啥性别男女沃尔玛购物袋男女沃尔玛购物袋出生日期选一个日期提交最终效果的小案例我来挑战一下嘿嘿分析主要是要有表单与表格组件参考定义变量名谢逊定义表单内容表单表单姓名你叫啥性别男女沃尔玛购物袋男女沃尔玛购物袋出生日期选一个日期提交但是我的格式好像不太对会适应屏幕我去翻翻文档有没有固定的文档没有但是找到了其他解决方案嗯嗯很完美完成表格内容声明响应式数据绑定的姓名性别职位用户列表需要遍历数组收索方法基于请求发送异步请求请求服务器加载数据将异步请求变为同步请求等待程序运行完毕来获取结果必须与一起使用第一个表示响应主体第二个则是实际的数据列表清空方法定义钩子函数表单姓名请输入姓名性别请选择男女职位请选择班主任讲师其他查询清空姓名头像性别职位入职日期更新日期完成了表格内容不过页面显示的很不对劲目前只有姓名是显示正常的其他都不太行我在改改姓名头像性别职位入职日期更新日期好像发现问题了我这里没有绑定嘿嘿修改表格绑定内容姓名头像性别职位入职日期更新日期哇塞哇塞有效果了不过图片不显示感觉像是啥属性没有配置的原因我去翻翻文档好像发现了我改改更改图片属性啊啊啊这里去官方文档里找的代码没有成功回显图片显示失败查看了老师的代码头像嗯咱也不知道为啥反正就实现了测试功能一切正常最终效果声明响应式数据绑定的姓名性别职位用户列表需要遍历数组收索方法基于请求发送异步请求请求服务器加载数据将异步请求变为同步请求等待程序运行完毕来获取结果必须与一起使用第一个表示响应主体第二个则是实际的数据列表清空方法定义钩子函数表单姓名请输入姓名性别请选择男女职位请选择班主任讲师其他查询清空姓名头像性别男女职位班主任讲师学工主管教研主管咨询师其他入职日期更新日期使用自定义模板标签可以删除二侧边栏开发符的小知识点在老师的文件中有这样的一个代码这里的就是完美的目录文件夹定义在了文件中老师的页面布局代码使用的是的布局需要在文档查看左侧侧边栏左侧菜单基本定义左侧菜单添加左侧侧边栏一级菜单左侧侧边栏大致长这样需要注意的是代表的是默认展开索引为和开发过程中不需要展开在这里就给删除了区域智能学习辅助系统修改密码退出登录左侧菜单添加左侧侧边栏首页菜单首页一级菜单学员管理这里导入了图标组件在文档里有班级学员管理班级管理学员管理二级菜单系统信息管理这里导入了图标组件在文档里有系统信息管理部门管理员工管理三级菜单数据统计管理这里导入了图标组件在文档里有数据统计管理员工信息统计学员信息统计日志信息统计右侧核心展示区域楷体定义完之后就长这样基本上就是抄代码动态菜单路由路由知识点组成实例路由实例基于函数创建维护了应用的路由信息当配置时会访问的路径路由链接组件浏览器会解析成员工管理会被解析为超链接标签点击会跳转当点击员工管理会跳转页面然后这个标签会去查找我们的实例中定义的的组件路径动态视图组件用来渲染展示与路由路径对应的组件你想在哪里展示组件就在那里加这个标开启自需要在菜单栏上添加一个既可以跳转了好神奇配置路由导入路由然后配置路径在需要展示的地方导入视图右侧核心区页面展示神奇嵌套路由案例引出当我们在页面访问登录功能时会在右侧盒子中显示登陆页面这肯定是不符合要求的推测要在登录页面展示这个路由原因我们在中引入了默认页面当页面打开时默认显示猜测修改使用包裹卧槽卧槽卧槽老师说不能把这个页面写死也就是说不要在中固定页面猜错了嘿嘿动态路由组件在中填写当匹配到哪个组件就需要在页面中展示哪个组件咦现在当我打开页面时变成空白了也就是说没有指定默认访问页面推测修改可能要在里面添加组件路由嵌套也就是说要在大路由中嵌套当我们访问根路径时默认访问的是布局的页面也就是我们最开始的页面然后就能愉快的访问里面的页面啦当我们访问时也能正常显示路由中配置了也就是说当我们访问的布局内容是会重定向到页面不过感觉这里应该会加拦截器相关的内容看到大汉堡突然想吃汉堡了三部门管理查询页面分析呜呼呜呼呜呼呜呼部门管理页面首先上面有一个部门管理标题一个新增按钮点击新增会有提示框列表格编辑删除按钮页面布局开发标题直接使用的标签新增部门按钮使用的按钮组件这里不需要吗感觉也太紧凑了吧为按钮设置一个然后设置外边距新增部门距离上下左右这样就好看哆啦新增表格组件拷贝表格组件代码需要注意的是部门自增的需要定义设置属性为即可从开始自增设置操作当我们使用表格标签时默认显示的不能满足我们的需求我们这就需要自定义标签默认展示的是文字我们现在要展示按钮完整布局代码定义响应式数据学工部部门管理新增部门序号部门名称最后操作时间操作编辑删除距离上下左右太漂亮啦嘿嘿列表查询加载数据根据需求需要在打开页面之后需要自动加载全部部门数据展示在表格中使用创建模拟数据当我们前端在开发中假设后端还没开发完毕这时候我们想要动态查询数据可以使用提供的模拟后端生成的数据打开没有就下载新建请求接口导入响应回来的接口数据参考接口文档然后点击的云端在里面进行开启我忘记截屏了不过里面有一个停用按钮我把开启就可以了我选的是响应式优先具体请观看老师的视频引用站外地址黑马程序员在中定义完接口还需要回到前端进行引用这里要用到的技术是完整代码定义钩子函数当页面加载完毕就会调用这函数然后这个函数就会调用方法就会调用链接将获取的值赋给然后就在页面显示了生命周期查询部门列表如果为就显示数据否则提示错误信息布尔类型定义响应式数据部门管理新增部门序号部门名称最后操作时间操作编辑删除距离上下左右页面显示我的分辨率好像有问题感觉页面显示的太小了这里使用来进行异步请求使用钩子函数来触发神奇程序优化当前程序问题是写死的不方便维护代码分析改进方案将异步请求提取到一个工具类中这样就可以根据这个工具类来获取信息了这里定义了是响应保留时间太短了的话后端打断点会报错改进方案将与服务器进行异步请求交互的逻辑封装在一个单独的中懂了懂了全都懂了我终于可以看懂别人的前端代码了具体代码导入封装好的实例包含基础配置和响应拦截器查询全部部门数据信息返回对象成功时返回部门列表数据部门列表获取部门列表失败发起请求路径为基础拼接即创建实例对象实例配置对象基础用于拼接请求地址示例会自动添加到所有请求前面请求超时时间单位毫秒超过毫秒未响应则请求失败所有请求的基础路径可根据后端接口地址统一配置请求超时时间设置为分钟响应拦截器处理响应数据的统一入口成功响应处理函数作用对所有接口返回的对象进行预处理常规操作提取中的字段后端返回的业务数据通常存储在此失败响应处理函数作用统一处理请求失败的情况如网络错误超时后端异常等常规操作将错误对象包装为以便上层调用捕获响应成功时的回调函数这里默认返回中的字段通常后端返回的结构为可根据实际需求进一步处理如统一错误码判断数据格式化等响应失败时的回调函数对请求错误进行统一处理如记录错误日志提示用户重试机制等此处直接返回状态的以便调用方通过捕获错误导出实例对象供其他模块调用定义钩子函数当页面加载完毕就会调用这函数然后这个函数就会调用方法就会调用链接将获取的值赋给然后就在页面显示了生命周期查询部门列表注释掉旧代码如果为就显示数据否则提示错误信息布尔类型定义响应式数据页面正常显示数据注意是在目录下新建包不是在里面反向代理卧槽这几集全是干货啊好爽好爽好好爽经过上面的优化基础功能实现了不过还没有解决跨域问题以及在中写死的问题修改的访问路径为同时修改代码解决跨域问题访问后端路径导入的处理模块导入的配置定义函数导入插件支持单文件组件项目配置文件配置参考插件配置增强功能启用单文件组件支持路径解析配置处理模块导入路径配置别名指向项目的目录例如等价于开发服务器配置仅在开发环境生效配置代理服务器解决跨域问题所有以开头的请求路径都会被代理目标服务器地址后端地址不验证证书修改请求头中的字段为目标服务器地址重写请求路径去除前缀例如这一段相当于固定代码完成以上步骤请打开你的后端尝试前后端联调吧要注释掉有关后端拦截器的代码否则会报令牌校验错误我这边前后端联调没有问题呜呜呜谢谢老师谢谢黑马感觉离开发又近了一步四部门管理新增页面原型新增时点击会调用后端的新增操作需要一个对话框组件和一个表单组件新增部门定义对话框组件为了让修改部门也可以复用这个所以要将标题动态绑定所以要使用插槽注意这里需要加插槽的标签是所以这里要写而不是部门名称是当点击按钮被点击的时候被设置为即关闭对话框取消是当点击按钮被点击的时候调用方法即保存数据确定这里需要注意的是当我们点击新增按钮时需要将对话框显示的调用出来因此需要在新增按钮上添加点击事件当点击时将按钮显示出来然后在页面点击取消按钮会隐藏对话框然后需要在保存按钮上添加保存方法当点击时会调用后端的插入方法为了我们的对话框能实现复用效果将对话框的标题设置为了动态绑定效果当点击新增时将标题渲染为新增部门对话框组件部门名称动态表单标题当新增时候标题为新增部门否则为修改部门保存按钮部门新增按钮先将表单显示出来然后将表单标题设置为新增部门新增部门导入消息组件导入添加成功关闭对话框查询最新数据初始代码功能完成未完成表单校验功能对话框组件部门名称动态表单标题当新增时候标题为新增部门否则为修改部门保存按钮发送请求保存数据调用接口并且将部门数据传入给接口然后在将数据使用传入后端是是一个关键字用来等待一个对象当发送请求的时候会等待接口返回数据然后返回数据否则会直接执行完毕用户看不到交互结果做一个判断如果返回的数据是成功那么就提示用户并且将表单清空添加成功关闭对话框查询最新数据部门新增按钮先将表单显示出来然后将表单标题设置为新增部门新增部门重置表单简单来描述一下吧首先我们在上面了代码过来这时候我们是不是要声明这个组件将值默认设为默认关闭的那么我们怎么才能开启这个对话框呢聪明的你肯定想到了哎我们在点击新增部门时把对话框显示不就好了那么这样我们是不是要在新增部门按钮上添加一个点击方法呀定义一个新增部门的方法当用户点击新增部门时将对话框的值设为这样就能显示对话框了同时呢我们还需要声明这个部门模块这时候当我们想要复用表单的话我们就要将标题设为动态不再赘述部门名称填写完毕这时候当我们点击保存按钮是不是要发送数据到后端使用我们就要在里面定义后端方法定义完成后再引用声明这个保存方法然后使用修饰这个方法并且将我们部门名称这个值作为参数传入后端当后端返回码为时我们就使用导入的消息通知给出提示插入成功同时关闭对话框否则给出失败提示失败提示是后端返回的提示然后需要清空表单新增优化效果展示表单校验相关部门名称必填表示失去焦点时触发校验请输入部门名称长度在到个字符部门名称然后指定校验规则然后将设置为里面具体值表单规则校验拦截啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊我直接战吼起手太几把折磨人了好的现在我们一起来看一下这个校验规则上一条我们完成了表单校验不过有个就是虽然页面可以校验但是不能拦截当我们点击保存时还是可以插入信息下面我们来解决这个问题在表单上挂载然后声明这个变量这样我们就可以对这个表单进行操作了当我们表单为空时直接返回不为空就调用这个验证规则从我的表述中我可以发现我这一块没有听懂定义钩子函数当页面加载完毕就会调用这函数然后这个函数就会调用方法就会调用链接将获取的值赋给然后就在页面显示了生命周期查询部门列表注释掉旧代码如果为就显示数据否则提示错误信息布尔类型定义响应式数据对话框组件部门名称动态表单标题当新增时候标题为新增部门否则为修改部门保存按钮进行表单校验表示是否通过校验发送请求保存数据调用接口并且将部门数据传入给接口然后在将数据使用传入后端是是一个关键字用来等待一个对象当发送请求的时候会等待接口返回数据然后返回数据否则会直接执行完毕用户看不到交互结果做一个判断如果返回的数据是成功那么就提示用户并且将表单清空添加成功关闭对话框查询最新数据表单校验未通过部门新增按钮先将表单显示出来然后将表单标题设置为新增部门新增部门重置表单清空表单校验表单校验相关部门名称必填表示失去焦点时触发校验请输入部门名称长度在到个字符定义响应式对象用于校验表单数据不通过不能提交部门管理绑定点击事件点击按钮被设置为即打开对话框新增部门表格区域序号部门名称最后操作时间操作编辑删除对话框组件为了让修改部门也可以复用这个所以要将标题动态绑定所以要使用插槽注意这里需要加插槽的标签是所以这里要写而不是通过这个响应式对象我们就能引用到表单数据了部门名称是当点击按钮被点击的时候被设置为即关闭对话框取消是当点击按钮被点击的时候调用方法即保存数据确定距离上下左右完整代码五部门管理修改部门页面原型点击编辑按钮根据进行查询弹出对话框完成页面回显展示查询回显点击确定按钮保存修改后的数据完成数据更新操作保存修改分析查询回显当我们点击编辑按钮时是不是就要弹出对话框那么我们就要先绑定点击事件调用绑定事件时我们是不是要传数据将我们部门传给后端通过就拿到了这一行的数据在就拿到了这个数据既然我们定义了点击事件我们是不是要声明调用将参数传入进去并且添加判断需要展开对话框设置标题回显数据重置表单校验编辑操作接收部门这样就调用了中的根据查询部门信息的接口展示对话框设置表单标题为编辑部门编辑部门将部门数据设置给对象将数据回显到表单输入框中重置表单校验分析修改当我们修改点击对话框确定时是不是要保存我们修改的信息那么我们是不是要在确定按钮上添加点击事件这时候就发现我们已经在确定按钮上绑定点击事件了那么什么时候我们需要修改方法什么时候我们需要保存方法呢就是当我们页面中有这个数据那我们就用修改方法当页面没有这个数据就为保存方法基于这个思路我们就要修改保存按钮中的代码具体代码进行表单校验表示是否通过校验发送请求保存数据调用接口并且将部门数据传入给接口然后在将数据使用传入后端是是一个关键字用来等待一个对象当发送请求的时候会等待接口返回数据然后返回数据否则会直接执行完毕用户看不到交互结果不允许修改添加保存与修改的校验如果存在那么就是修改否则就是新增修改新增做一个判断如果返回的数据是成功那么就提示用户并且将表单清空添加成功关闭对话框查询最新数据表单校验未通过对比就是根据这个进行判断然后调用不同的学到了六部门管理删除部门页面原型具体思路代码删除时我们前端是要给出信息提示是否真的删除当点击确定时调用中的删除向后端发送删除信息即可我的前端后端还感觉好混乱我写前端还在想是咋在前端写的删除功能删除操作弹框提示用户是否删除此操作将永久删除该部门是否继续提示确定取消确认删除如果删除成功就提示用户删除成功并且将如果删除成功给出信息并且刷新页面删除成功删除失败给出信息取消已取消删除给删除按钮绑定点击事件要通过获取这一行的然后就是一些信息提示代码仔细查看就会明白了这里不再赘述七员工管理员工查询页面原型接口文档请求参数响应数据搜索栏制作基础页面设置遇到的错误性别不显示当我第一次测试代码时我发现我的性别框无法显示奶奶的找了好长时间为啥然后发现把官网下面的代码拷过来就解决了烤嫩羊注意时间要规定格式整体流程就是抄代码搜索表单对象根据姓名年龄日期查询查询员工列表的函数清空函数将表单值置为空然后再重新查询一次员工管理制作搜索表单上栏搜索框姓名请输入员工姓名性别请选择男女男女入职时间到开始日期结束日期查询清空优化数据块事件监听上一模块中我们完成了页面的基本功能不过还有一个功能需要解决就是我们接口文档中的开始时间结束时间为和而我们的对象中定义的为数组我们该怎么把中的数组中的值给变成和方案一当点击查询按钮时获取数组中的值将第一个赋值给第二个赋值给方案二在对象中增加两个属性如果数组中的数值发生变化初始为就将第一个值给第二个给知识点监听作用侦听一个或多个响应式数据源并在数据源变化时调用传入的回调函数用法导入函数执行函数传入要侦听的响应式数据源对象和回调函数第一个参数为数据源第二个参数就是回调函数回调函数可以传递两个值第一个参数代表响应式数据变化前的数据第二个代表变化之后的值那么这样我们就可以通过监听来监听响应式数据的变化一旦发生变化就会调用后面的函数监听所有属性变化当我们要监听对象的全部属性时可以使用深度监听在方法末尾添加表示对象的任意属性变化都会执行后面的函数监听单个对象使用监听函数监听日期监听监听属性监听单个对象监听的值里面的数据当里面数据发生变化时就会被调用那么当日期发生变化时我们的就会变化那么就将里面的第一个值给第二个给这样我们的开始结束就获取到了值表单制作详细版为了让我下次写表单时有个参考这里我会写的很详细第一步在官网找到表单项下载源码拷贝到代码里最好包裹一个里面表格区域姓名初始代码长这样第二步里面的里面的代表表格数据来源那么我们这里就声明一个代表表格的数据来源那么这里就将里面的数据改一改名字然后去声明对象这里要考虑因为要传多个值所以要声明数组然后去查看接口文档看看具体是哪些的值根据这个文档我们来定义数组函数将需要的值作为参数里面的值在后面要删除这里只是示例用于测试的数据后面查询时需要将里面替换为后端传入到数据员工列表数据然后根据参数我们去完善表格的列元素是元素名称是表格名称必要时要使用自定义表格使用让元素居中显示删除修改按钮使用的是自定义列表表格区域姓名性别头像所属部门职位入职日期最后操作时间操作编辑删除在表头添加复选框使用自定义列模板优化性别展示框性别男女使用获取一行中的性别当等于时显示男否则显示女使用自定义列模板完善图像处理头像使用标签然后别忘了添加高度不然会很大使用自定义模板定义职位职位班主任班主任学工主管教研主管咨询师其他分页条制作下方分页条分页操作相关数据模型页码默认每页展示的记录数背景色是否总记录数后端传入的每页展示记录数发生变化时会触发每页展示条记录页码发生变化时会触发当前页码这样我们的页面布局就完成了列表查询查询功能页面分析我们要实现查询就要先分析有哪些功能需要查询首先进入页面需要查询根据条件进行查询清空时需要查询每页记录数时需要查询页码切换时需要查询功能书写我们要写查询功能时是不是要向后端传输请求那么我们就要定义了是不是那么打开文件夹新建的在里面来写查询相关请求根据请求参数模板来定义请求方式导入封装好的实例包含基础配置和响应拦截器查询员工列表数据定义分页查询那么我们要传递条件以及分页参数请求示例张新增员工根据查询部门信息修改部门信息删除部门信息定义完请求之后需要在里面引用查询员工方法引用之后我们就要在声明方法在方法里面声明一个方法使用来修饰并且将参数声明进去将表单里面的数据传入请求路径中当返回值结果为时我们要将返回值结果中的数据传入到表格对象的值里面去并且我们还需要将分页相关的功能动态传入分页相关内容中去最后将声明的里面的数据删除掉即可查询员工列表的函数员工列表数据声明钩子函数这样在页面加载完毕时就会自动触发搜索钩子函数在页面与记录数发生变化时查询数据每页展示记录数发生变化时会触发页码发生变化时会触发这样查询功能基本没有问题了八员工管理新增员工页面布局接口文档请求方式为路径为对话框页面基本布局新增员工的对话框与修改员工的对话框可以共用这里老师选择准备好的代码为了锻炼自己我决定自己敲一下手敲对话框历程折磨自己干啥我是大傻逼我再也不装逼手敲了我抄我抄我抄完整代码示例新增修改表单控制弹窗新增员工文件上传图片上传成功后触发文件上传之前触发只支持上传图片只能上传以内图片省略新增修改员工的对话框基本信息第一行用户名请输入员工用户名个字姓名请输入员工姓名个字第二行性别请选择性别男女手机号请输入员工手机号第三行职位请选择职位班主任讲师学工主管教研主管咨询师薪资请输入员工薪资第四行所属部门请选择部门研发部市场部入职日期选择日期第五行头像工作经历第六行工作经历添加工作经历第七行工作经历时间至开始日期结束日期公司请输入公司名称职位请输入职位删除底部按钮取消保存添加灰色的虚线边框这样我们的对话框组件就完成了显示对话框完成了我们的表单项目是不是要当点击添加员工时要显示对话框声明添加员工的箭头函数新增员工新增员工表单解析一行里面是怎么只显示两列的第一行用户名请输入员工用户名个字姓名请输入员工姓名个字使用布局方式代表一行里面有两个代表有两列代表一行所占的宽度总计为块这里的两个代表是一行个代表分栏间隔页面布局优化性别职位所属部门性别职位所属部门这些都不应该是页面写死的性别与职位可以单独定义出来所属部门由后端传入性别与职位是规定死的而所属部门是动态的可以通过添加部门动态添加因此部门相关要在后端处理性别与职位在中定义性别与职位的元数据元数据相关职位列表数据班主任讲师学工主管教研主管咨询师其他性别列表数据男女元数据结束然后修改之前的定义改为使用进行动态查找这样当我们需要添加性别与职位时就可以在表头进行修改了第二行性别请选择性别职位请选择职位使用来遍历我们上面的对象就是变量名称就是对象名称注意这里要加号进行动态绑定将的作为唯一标识动态绑定具体是那个名字对应研发部动态绑定他们的值对应研发部正常回显没有问题啦所属部门动态优化部门与部门管理的部门内容会向关联那么什么时候需要展示呢当我们点击编辑和新增时都需要展示部门因此可以在页面加载时就加载部门那么就在钩子函数中定义查询部门数据查询所有部门数据首先要声明一个部门数组便于我们后面的引用查询所有部门功能既然要查询所有部门是不是要导入查询部门的这里的名称会与员工查询向混淆所以起了别名导入进来了我们肯定要用啊是不是那么就声明一个查询所有部门的函数方法调用查询出结果然后将结果给我们上面声明函数查询所有部门数据然后就要在钩子函数中引用钩子函数查询员工列表数据查询所有部门数据最后使用循环遍历请选择部门这里的和参照接口文档最终页面显示图片上传相关头像给一个属性方便我们属性的相关我们在上传文件时要调用的那个接口请求地址是否展示已经上传的文件列表文件上传成功调用的函数方法文件上传之前要调用的函数检查格式与大小是否符合要求文件上传图片上传成功后触发文件上传之前触发只支持上传图片只能上传以内图片校验了文件类型是不是图片不是就返回错误信息然后查看文件大小是否小于然后阻止上传头像回显逻辑这里先做一个判断里面有没有值呢有就展示图片没有就展示一个号的图标那么我们该如何回显图片呢我们只需要将我们上传图片的传给属性值就可以了那么我们就在文件上传成功时把给属性即可图片上传成功后触发这里的为啥就是图像路径呢可能与系统设计的有关返回的就是一个工作经历的页面交互页面原型当点击新增按钮时会往数组中新增一条数据当点击删除按钮时会在数组中删除一条数据是基于数据驱动视图展示的实现思路既然我们要点击添加工作经历就新增一个表格那么我们是不是需要绑定一个点击事件工作经历添加工作经历绑定完点击事件然后就要去声明添加工作经历相关为数组添加元素数据声明一个点击事件点击新增按钮是就调用对象里面的值中的然后使用函数就可以新增数据了这里面要放公式职位开始时间结束时间以及一个时间数组欸这时候就要问了这个时间数组是干嘛的我们页面中的开始时间和结束时间使用的是一个范围日期选择器所以这个返回时间会存放进那个时间数组然后就要使用我们的监听事件去监听数组变化在将数组中的值传入开始时间结束时间里面去哇可以了耶页面新增添加工作经历表格既然我们已经成功可以添加员工工作经历了那么我们该如何让页面回显呢嘿嘿我们使用一个循环不就好啦循环遍历这个数组元素然后回显到页面上第七行工作经历时间至开始日期结束日期公司请输入公司名称职位请输入职位删除在工作经历上添加循环循环遍历数组使用来绑定数据删除功能当我们点击某一个按钮时就要删除某一条工作经历所以我们要先往删除按钮上绑定点击事件删除那我们怎么样才能指定某一条进行删除呢我们可以在调用这个函数时将当前的索引传递过去那我们这么样才能获取到这个数据呢我们可以根据来获取当前索引当我们遍历时拿到这个索引在删除时将索引传递给删除按钮第七行工作经历时间至开始日期结束日期公司请输入公司名称职位请输入职位删除底部按钮取消保存重点看绑定的然后我们声明函数根据索引进行删除删除工作经历然后就能实现功能了前端太麻烦了使用监听绑定开始与结束时间监听员工对象中的工作经历信息将值传给开始与结束时间深度监听这里使用监听函数首先要指明监听的是哪个对象我们要监听的员工数组对象然后声明数组变化时的值当我们的数组中有值并且值大于时我们需要监听数组使用循环遍历数组定义变量名称然后将数组里面的第一个值给开始时间第二个给结束时间这里最关键的是要使用深度监听如果直接监听数组只有数组的引用发生变化才会生效这里当数组里面内容发生变化都需要监听因此要使用深度监听保存员工页面分析当点击提交按钮时向后端发送异步请求将参数传入后端来保存数据保存成功要给出提示信息然后关闭当前对话框重新查询列表数据保存失败给出对应的错误信息功能开发首先在文件中说明添加操作的请求然后在中引用在保存按钮上添加点击事件取消保存然后去声明这个按钮调用当返回值为说明插入成功了然后发送信息关闭对话框重新搜索保存员工相关保存成功插入成功哎这时候又有一个当我们已经新增完毕用户了但是用户的信息还在表单里面解决当点击新增员工时将之前的数据全部置为空声明添加员工的箭头函数新增员工添加表单验证规则首先在表单项上添加的表单绑定项然后在具体的使用绑定名称示例基本信息第一行用户名请输入员工用户名个字然后去声明这个对象在里面添加校验规则表单校验相关请输入用户名用户名长度应在到个字符之间请输入姓名姓名长度应在到个字符之间请选择性别请输入手机号请输入有效的手机号这时候会发现我们表单校验虽然校验了但是没有实现因此还需要再提交表单时进行校验声明一个表单引用对象表单验证的响应式对象然后再进行引用这样我们就可以通过这个响应式对象来操作表单对象了重新修改保存员工的代码添加表单校验信息校验通过才可以执行添加代码保存员工相关表单校验只有通过了才可以执行下面的代码标识是否通过通过不通过通过保存成功不通过表单校验不通过最后一步当重新添加时需要清空表单校验规则修改添加员工的相关代码添加清空表单校验规则代码声明添加员工的箭头函数新增员工重置表单校验规则九修改员工页面原型查询回显功能为编辑按钮绑定点击事件发送异步请求根据查询员工的详细信息页面进行回显在里面添加异步请求的相关数据然后在里面引用根据查询部门信息为编辑按钮绑定点击事件编辑然后使用获取这一行的并且作为参数传入点击事件声明这个点击函数根据查询员工信息相关修改员工当我们点击按钮是将作为参数而后调用查询将结果封装在结果里面当返回值为就打开对话框将标题改为修改员工然后将结果集中的数据作为参数进行回显回显失败错误问题出现背景当我在页面点击编辑按钮时不会弹出对话框反而报了错误但是前端可以正确发送请求我的后端控制台也有正确的数据返回问题解析当点击编辑按钮时会调用函数函数从后端获取员工数据并将其赋值给后端返回的员工数据中工作经历里的每个条目包含和日期但不包含前端日期选择器所绑定的数组将后端数据直接赋值给后中的条目没有属性此时侦听的回调被触发在这个回调中代码尝试通过和来更新和但由于此时是访问就会导致报错对话框也因此无法弹出问题修改修改函数在从后端获取到员工数据后但在将其赋值给之前我们需要遍历如果存在并根据每个工作经历条目的和属性来初始化其对应的数组同时要确保本身如果从后端返回为或会被正确处理为一个空数组修改的侦听器使其更健壮能处理可能不是一个包含两个元素的数组的情况例如当用户清空日期选择器或新添加一条工作经历时可能是空数组解决完错误后的代码根据查询员工信息相关修改员工对工作经历进行处理奶奶的找了半个小时的错误结果老师后面又讲了这里对工作经历进行处理获取到工作经历的值然后进行遍历将开始时间结束时间封装在里面去这个时间段数据就可以在页面回显出来了页面显示点击保存修改员工数据我们的新增员工与修改员工复用的是同一个对话框那么当我们新增员工时或修改员工时怎么才能区分不同的操作呢当有员工时就为修改没有就新增在中定义更新员工信息的异步请求修改部门信息当将我们整个对象都要传入后端进行修改然后在里面引用代码逻辑保存员工相关表单校验只有通过了才可以执行下面的代码标识是否通过通过不通过通过保存成功不通过表单校验不通过当我们点击按钮时会去判断有没有如果有就执行更新没有就执行添加同时需要将由变量变为常量十删除功能删除单个员工页面原型设计删除部门信息为删除按钮绑定点击事件删除员工相关此操作将永久删除该员工是否继续提示确定取消删除删除成功批量删除页面分析为表格的复选框绑定事件点击复选框之后获取到目前选中的条件的多个可以封装到数组中为批量删除按钮绑定事件发送异步请求到服务端根据批量删除员工信息代码设计参照官方文档需要在表单上绑定这个函数代表当复选框发生变化时就触发然后去声明这个函数批量删除员工代表当前选中的员工数据记录为批量删除按钮绑定事件记录勾选的员工批量删除员工代表当前选中的员工数据记录批量删除此操作将永久删除该员工是否继续提示确定取消删除删除成功请选择要删除的员工已取消删除十一员工登录页面原型准备工作在目录下新建里面存放与登录有关的请求登录相关导入封装好的实例包含基础配置和响应拦截器登录接口并且在中引用智能学习辅助系统用户名请输入用户名密码请输入密码登录重置楷体初始登录功能当我们点击登录按钮时需要进行登录点击重置按钮可以重置因此首先要为他们绑定点击事件登录提示登录成功登录成功跳转到首页重置这里要使用进行跳转存储登录将用户返回到存储在浏览器中因为我们的是一个对象要转为字符串的形式因此要使用用户携带令牌登录功能引入现在我们打开久违的开启拦截器的相关功能这时登录会发现咦我明明登了呀怎么会没有数据后端就显示没有令牌了也就是说我们在后序的所有请求中没有将令牌到服务器端的拦截器使用的拦截器拦截请求并在请求中添加在中添加如下代码请求拦截器获取中的数据在请求头中增加请求成功时的回调函数获取中的数据判断是否存在如果存在则将其添加到请求头中请求失败时的回调函数注意这里的要与里面的存入的键保持一致解决文件上传问题在上一节代码中我们解决了问题不过我们的文件上传功能却不能实现了原因是文件上传组件不是发送的异步请求而是我们自定义的进行发送的因此不能携带令牌也就不能进行文件上传了怎么说不好说参照官方文档我们需要在标签里面声明一个用于存放的这里的不能写死因此用了动态绑定写了我们就要声明一个函数声明的响应式数据那我们是什么时候加载这个请求呢要在页面加载时就要携带请求头因此要在钩子函数中声明要在钩子函数中声明就要先来获取获取因为里面放的是字符串我们要将其转化为对象获取成功后将里面的赋值给里面去这时候就会动态绑定到里面去最后在钩子函数中应用钩子函数查询员工列表数据查询所有部门数据获取携带令牌登录功能完成未登录显示跳转到登录页面使用的拦截器的响应拦截器进行拦截然后进行判断如果返回的状态码是就跳转到登陆页面响应成功时的回调函数这里默认返回中的字段通常后端返回的结构为可根据实际需求进一步处理如统一错误码判断数据格式化等响应失败时的回调函数全等类型与值相同提示信息登录超时请重新登录跳转到登陆页面对请求错误进行统一处理如记录错误日志提示用户重试机制等此处直接返回状态的以便调用方通过捕获错误退出登录页面显示当前用户姓名我们该如何获取当前登录的用户名呢当我们登录时员工信息已经封装在了里面了只要从里面获取就可以了当前登录员工定义钩子函数获取当前登录用户名从本地中获取用户名退出登录退出登录退出登录需要绑定一个退出按钮同时需要将超链接变为死链接定义路由实例退出登录弹框提示用户是否删除您确定要退出登录吗提示确定取消确认已退出登录取消已取消退出退出时给出提示信息然后删除本地用户信息最后进行跳转十一项目打包在中运行脚本命令这样会生成文件夹代表打包成功将项目部署在上",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2025-08-07 10:25:31",postMainColor:""}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:(e,t,a)=>{if(0===a)return;const o={value:t,expiry:Date.now()+864e5*a};localStorage.setItem(e,JSON.stringify(o))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const a=JSON.parse(t);if(!(Date.now()>a.expiry))return a.value;localStorage.removeItem(e)}},e.getScript=(e,t={})=>new Promise(((a,o)=>{const c=document.createElement("script");c.src=e,c.async=!0,c.onerror=o,c.onload=c.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(c.onload=c.onreadystatechange=null,a())},Object.keys(t).forEach((e=>{c.setAttribute(e,t[e])})),document.head.appendChild(c)})),e.getCSS=(e,t=!1)=>new Promise(((a,o)=>{const c=document.createElement("link");c.rel="stylesheet",c.href=e,t&&(c.id=t),c.onerror=o,c.onload=c.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(c.onload=c.onreadystatechange=null,a())},document.head.appendChild(c)})),e.activateDarkMode=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#18171d")},e.activateLightMode=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#f7f9fe")};const t=saveToLocal.get("theme"),a=window.matchMedia("(prefers-color-scheme: dark)").matches,o=window.matchMedia("(prefers-color-scheme: light)").matches,c=window.matchMedia("(prefers-color-scheme: no-preference)").matches,n=!a&&!o&&!c;if(void 0===t){if(o)activateLightMode();else if(a)activateDarkMode();else if(c||n){const e=(new Date).getHours();e<=6||e>=18?activateDarkMode():activateLightMode()}window.matchMedia("(prefers-color-scheme: dark)").addListener((e=>{void 0===saveToLocal.get("theme")&&(e.matches?activateDarkMode():activateLightMode())}))}else"light"===t?activateLightMode():activateDarkMode();const d=saveToLocal.get("aside-status");void 0!==d&&("hide"===d?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="https://jsd-proxy.ygxz.in/npm/js-heo@1.0.11/poem/poem.min.css"><link rel="stylesheet" href="https://jsd-proxy.ygxz.in/npm/js-heo@1.0.11/mainColor/heoMainColor.min.css"><link rel="stylesheet" href="https://jsd-proxy.ygxz.in/gh/lyay23/blogstatic@v1.0.0/static/essay-style.min.css"><link rel="stylesheet" href="https://jsd-proxy.ygxz.in/gh/lyay23/blogstatic@v1.0.0/static/todolist.min.css"><link rel="stylesheet" href="https://jsd-proxy.ygxz.in/gh/lyay23/blogstatic@v1.0.1/static/custom-me.min.css"><link rel="stylesheet" href="https://jsd-proxy.ygxz.in/gh/lyay23/blogstatic@v1.0.0/static/imgloaded.min.css"><link rel="stylesheet" href="https://jsd-proxy.ygxz.in/gh/lyay23/blogstatic@v1.0.0/static/twikoo.min.css"><script async defer src="https://umami.baskly.fun/script.js" data-website-id="83445f1f-eab2-4423-b52a-d98fcec8638f"></script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://bu.dusays.com/2025/03/01/67c2609b7c10b.jpg"><div class="loading-image-dot"></div></div></div><script>const preloader={endLoading:()=>{document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",(()=>{preloader.endLoading()})),setTimeout((function(){preloader.endLoading()}),1e4),document.addEventListener("pjax:send",(()=>{preloader.initLoading()})),document.addEventListener("pjax:complete",(()=>{preloader.endLoading()}))</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"><script async src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><a id="site-name" href="/" accesskey="h"><div class="title">李阳的秘密小屋</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size:.9em"></i> <span>隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size:.9em"></i> <span>分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size:.9em"></i> <span>标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/charts/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-tongji1"></use></svg> <span>统计</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=12781955100&amp;server=netease"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size:.9em"></i> <span>耳机分你一半</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size:.9em"></i> <span>留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/todolist/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-zuji"></use></svg> <span>脚步</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/essay/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-taiyang"></use></svg> <span>小太阳</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-a-xiaoyangyang_huaban1"></use></svg> <span>了解我</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i> <span>搜索</span></a></div><input id="center-console" type="checkbox"><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole()"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title">最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/408/" style="font-size:1.05rem">408<sup>1</sup></a><a href="/tags/C%E8%AF%AD%E8%A8%80/" style="font-size:1.05rem">C语言<sup>1</sup></a><a href="/tags/javaweb/" style="font-size:1.05rem">javaweb<sup>8</sup></a><a href="/tags/%E5%8A%9B%E6%89%A3%E5%88%B7%E9%A2%98/" style="font-size:1.05rem">力扣刷题<sup>1</sup></a><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size:1.05rem">操作系统<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size:1.05rem">数据结构<sup>1</sup></a><a href="/tags/%E6%97%A5%E5%B8%B8/" style="font-size:1.05rem">日常<sup>1</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" style="font-size:1.05rem">计算机组成原理<sup>1</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size:1.05rem">计算机网络<sup>2</sup></a><a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" style="font-size:1.05rem">软件工程<sup>1</sup></a></div></div><hr></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多"><i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/08/"><span class="card-archive-list-date">八月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/07/"><span class="card-archive-list-date">七月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/05/"><span class="card-archive-list-date">五月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/04/"><span class="card-archive-list-date">四月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/03/"><span class="card-archive-list-date">三月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/02/"><span class="card-archive-list-date">二月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">十二月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/11/"><span class="card-archive-list-date">十一月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li></ul></div><hr></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/java/" itemprop="url">java</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/javaweb/" tabindex="-1" itemprop="url"><span><i class="anzhiyufont anzhiyu-icon-hashtag"></i> javaweb</span></a></span></div></div><h1 class="post-title" itemprop="name headline">前端学习（tlias为例）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-05-25T03:34:21.000Z" title="发表于 2025-05-25 11:34:21">2025-05-25</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-08-07T02:25:31.477Z" title="更新于 2025-08-07 10:25:31">2025-08-07</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">27k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>121分钟</span></span><span class="post-meta-separator"></span><span data-flag-title="前端学习（tlias为例）"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="twikoo_visitors" title="访问量"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator"></span><span class="post-meta-position" title="作者IP属地为武汉"><i class="anzhiyufont anzhiyu-icon-location-dot"></i> 武汉</span><span class="post-meta-separator"></span><span class="post-meta-commentcount"><i class="anzhiyufont anzhiyu-icon-comments post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/posts/49515/#post-comment" tabindex="-1"><span id="twikoo-count"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></a></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s58 18 88 18 58-18 88-18 58 18 88 18v44h-352Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://bu.dusays.com/2024/11/24/674340e151d6a.png?_r_=90fa1921-0a69-b602-3178-9ee5211c46f1"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://blog.baskly.fun/posts/49515/"><header><a class="post-meta-categories" href="/categories/java/" itemprop="url">java</a><a href="/tags/javaweb/" tabindex="-1" itemprop="url">javaweb</a><h1 id="CrawlerTitle" itemprop="name headline">前端学习（tlias为例）</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">李阳</span><time itemprop="dateCreated datePublished" datetime="2025-05-25T03:34:21.000Z" title="发表于 2025-05-25 11:34:21">2025-05-25</time><time itemprop="dateCreated datePublished" datetime="2025-08-07T02:25:31.477Z" title="更新于 2025-08-07 10:25:31">2025-08-07</time></header><blockquote><p>这段时间以来一直在帮别人写作业，然后在github上翻到了很多别人写的源码，后端部分代码我基本上都可以看的懂。不过前端部分总是感觉很迷糊，毕竟没有系统的学过。因此：以talis为例系统学习一下Vue，ElementPlus等前端的使用</p><p>谨以此篇记录我的前端学习过程</p><p><em>古之立大事者，不惟有超世之才，亦必有坚忍不拔之志。</em></p><p>​ <em>——《晁错论》</em></p></blockquote><div calss="anzhiyu-tag-link"><a class="tag-Link" target="_blank" href="https://github.com/lyay23/tlias-web-managemen"><div class="tag-link-tips">引用站外地址</div><div class="tag-link-bottom"><div class="tag-link-left" style="background-image:url(https://bu.dusays.com/2025/03/20/67dc235380f8f.gif)"><i class="anzhiyufont anzhiyu-icon-link" style="display:none"></i></div><div class="tag-link-right"><div class="tag-link-title">tlias后端仓库</div><div class="tag-link-sitename">GitHub</div></div><i class="anzhiyufont anzhiyu-icon-angle-right"></i></div></a></div><div calss="anzhiyu-tag-link"><a class="tag-Link" target="_blank" href="https://github.com/lyay23/vue-tlias-management/"><div class="tag-link-tips">引用站外地址</div><div class="tag-link-bottom"><div class="tag-link-left" style="background-image:url(https://bu.dusays.com/2025/03/20/67dc235380f8f.gif)"><i class="anzhiyufont anzhiyu-icon-link" style="display:none"></i></div><div class="tag-link-right"><div class="tag-link-title">tlias前端仓库</div><div class="tag-link-sitename">GitHub</div></div><i class="anzhiyufont anzhiyu-icon-angle-right"></i></div></a></div><h1 id="talis前端开发">talis前端开发</h1><h2 id="一-vue项目入门">一、 Vue项目入门</h2><h3 id="1-新建vue工程化项目">1. 新建vue工程化项目</h3><blockquote><p>npm create vite</p><p>选择vue与JavaScript</p><p>构建项目</p><p>cd到目录下</p><p>npm install</p><p>npm run dev</p></blockquote><p>这样就能看到项目的初始页面了</p><h3 id="2-项目文件简介">2. 项目文件简介</h3><ul><li><code>vite.config.js</code>:Vue项目的配置信息，如端口号</li><li><code>package.json</code>:项目配置文件，包括项目名，版本号、依赖包、版本等</li><li><code>src</code> 源代码文件夹</li><li><code>src/assets</code> 静态资源目录，存放图片、字体…</li><li><code>src/components</code> 组件目录，存放通用组件</li><li><code>src/App.vue</code>根目录</li><li><code>src/main.js</code> 入口文件</li></ul><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/25/68327cf4ecef7.png" alt="image-20250525101404456"></p><h3 id="3-vue项目的开发访问流程">3. vue项目的开发访问流程</h3><ul><li><code>index.html</code> 默认首页</li><li><code>main.js</code> 入口文件。创建vue实例，将其挂载到某个区域</li></ul><h3 id="4-vue的api风格">4. Vue的API风格</h3><h4 id="1-选项式api">1. 选项式API</h4><p>选项式APT:可以用包含多个选项的对象来描述组件的逻辑，如: data，methods, mounted等。选项定义的属性都会暴露在函数内部的<code>this</code>上，它会指向当前的组件实例。</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/25/68328349d7b48.png" alt="image-20250525104113454"></p><h4 id="2-组合式api">2. 组合式API</h4><p>组合式API:是Vue3提供的一种基于函数的组件编写方式，通过使用函数来组织和复用组件的逻辑。它提供了一种更灵活、更可组合的方式来编写组件。</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/25/683283c5f25bd.png" alt="image-20250525104317715"></p><p>组合式API小demo</p><p><code>views/HelloWorld.vue</code></p><p>整体流程：</p><ul><li>点击按钮时会调用<code>increment</code>函数</li><li><code>increment</code>函数每点击一次就会将值++</li><li>最终将++后的结果展示在页面上</li></ul><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 引入ref模块</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref,onMounted &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 说明响应式数据</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> msg = <span class="title function_">ref</span>(<span class="number">0</span>);<span class="comment">// 里面的值为0</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 声明函数-在组合式API中没有this</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">increment</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">    msg.<span class="property">value</span>++ <span class="comment">//将上方的值0进行++</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 声明钩子函数</span></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">onMounted</span>(<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Vue mounted&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">&lt;!--  使用响应式数据 @click与v-on:click操作类似，绑定个点击事件 将值进行输出 --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;increment&quot;</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在App.vue中引用</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> <span class="title class_">HelloWorld</span> <span class="keyword">from</span> <span class="string">&#x27;./views/HelloWorld.vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">HelloWorld</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在main.js中注销全局样式引用</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">createApp</span>(<span class="title class_">App</span>).<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>页面显示</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/25/683289302b17d.png" alt="image-20250525110623881"></p><ul><li>setup:是一个标识，告诉Vue需要进行一些处理，让我们可以更简洁的使用组合式AP工。</li><li>ref()︰接收一个内部值，返回一个响应式的ref对象，此对象只有一个指向内部值的属性value。</li><li>onMounted():在组合式API中的钩子方法，注册一个回调函数，在组件挂载完成后执行。</li></ul><h3 id="5-组合式api小案例">5. 组合式API小案例</h3><p>🐱🐱🐱好像摸到一点点小头绪了呢好神奇</p><p>首先在<code>views/EmpList.vue</code>中新建以下代码</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 导入响应式数据</span></span></span><br><span class="line"><span class="language-javascript"> <span class="keyword">import</span> &#123; ref ,onMounted&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"> <span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//声明响应式数据-(v-model绑定的)</span></span></span><br><span class="line"><span class="language-javascript"> <span class="keyword">const</span> name = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>); <span class="comment">//姓名</span></span></span><br><span class="line"><span class="language-javascript"> <span class="keyword">const</span> gender = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>); <span class="comment">//性别</span></span></span><br><span class="line"><span class="language-javascript"> <span class="keyword">const</span> job = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>); <span class="comment">//职位</span></span></span><br><span class="line"><span class="language-javascript"> <span class="keyword">const</span> userList = <span class="title function_">ref</span>([]); <span class="comment">//用户列表-需要遍历数组</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"> <span class="comment">// 声明函数</span></span></span><br><span class="line"><span class="language-javascript"> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">search</span>(<span class="params"></span>) &#123; </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 基于axios请求发送异步请求，请求服务器加载数据</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// await 将异步请求变为同步请求(等待程序运行完毕来获取结果)</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// await必须与async一起使用</span></span></span><br><span class="line"><span class="language-javascript">   <span class="keyword">const</span> result =<span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">`https://web-server.itheima.net/emps/list?name=<span class="subst">$&#123;name.value&#125;</span>&amp;gender=<span class="subst">$&#123;gender.value&#125;</span>&amp;job=<span class="subst">$&#123;job.value&#125;</span>`</span>)</span></span><br><span class="line"><span class="language-javascript">   <span class="comment">// result.data.data 第一个 data 表示响应主体 (result.data)，第二个 data (result.data.data) 则是实际的数据列表。</span></span></span><br><span class="line"><span class="language-javascript">   userList.<span class="property">value</span> = result.<span class="property">data</span>.<span class="property">data</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"> &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 定义钩子函数</span></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">search</span>();<span class="comment">//自动加载收索功能</span></span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">    姓名: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">    性别:</span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;gender&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>男<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>女<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">    职位:</span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;job&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;job&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>班主任<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>讲师<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span>其他<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;查询&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;search&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   </span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>序号<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>姓名<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>头像<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>性别<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>职位<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>入职时间<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>更新时间<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">&lt;!-- v-for 用于列表循环渲染元素 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">&quot;(user, index) in userList&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;user.id&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;index + 1&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;user.name&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span> <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;user.image&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">&quot;user.gender == 1&quot;</span>&gt;</span>男<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else-if</span>=<span class="string">&quot;user.gender == 2&quot;</span>&gt;</span>女<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else</span>&gt;</span>其他<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">&quot;user.job == 1&quot;</span>&gt;</span>班主任<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else-if</span>=<span class="string">&quot;user.job == 2&quot;</span>&gt;</span>讲师<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else-if</span>=<span class="string">&quot;user.job == 3&quot;</span>&gt;</span>学工主管<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else-if</span>=<span class="string">&quot;user.job == 4&quot;</span>&gt;</span>教研主管<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else-if</span>=<span class="string">&quot;user.job == 5&quot;</span>&gt;</span>咨询师<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else</span>&gt;</span>其他<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;user.entrydate&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;user.updatetime&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">table</span>,<span class="selector-tag">th</span>,<span class="selector-tag">td</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">border-collapse</span>: collapse;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">line-height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"> </span></span><br><span class="line"><span class="language-css">  <span class="selector-id">#center</span>,<span class="selector-tag">table</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">60%</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">margin</span>: auto;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"> </span></span><br><span class="line"><span class="language-css">  <span class="selector-id">#center</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"> </span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"> </span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">input</span>,<span class="selector-tag">select</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">17%</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">margin-right</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"> </span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.btn</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">background-color</span>: <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>页面就会显示</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/25/68329b21315d3.png" alt="image-20250525122256824"></p><h3 id="6-elementplus">6. ElementPlus</h3><p><a target="_blank" rel="noopener" href="https://www.cwgj.xyz/zh-CN/component/form.html">组件地址</a></p><h4 id="1-导入步骤">1. 导入步骤</h4><blockquote><p>常见vue项目</p><p>npm install element-plus –save 在main.js中引用</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">ElementPlus</span> <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-plus/dist/index.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//引入ElementPlus</span></span><br><span class="line"><span class="title function_">createApp</span>( <span class="title class_">App</span> ).<span class="title function_">use</span>(<span class="title class_">ElementPlus</span> ).<span class="title function_">mount</span>( <span class="string">&#x27; #app &#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="2-表格组件">2. 表格组件</h4><p>好像没有啥好说的基本上就是抄抄抄的代码</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> tableData = [</span></span><br><span class="line"><span class="language-javascript">  &#123;<span class="attr">date</span>: <span class="string">&#x27;2016-05-03&#x27;</span>,<span class="attr">name</span>: <span class="string">&#x27;Tom&#x27;</span>,<span class="attr">address</span>: <span class="string">&#x27;No. 189, Grove St, Los Angeles&#x27;</span>,&#125;,</span></span><br><span class="line"><span class="language-javascript">  &#123; <span class="attr">date</span>: <span class="string">&#x27;2016-05-02&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;Tom&#x27;</span>,<span class="attr">address</span>: <span class="string">&#x27;No. 189, Grove St, Los Angeles&#x27;</span>, &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#123; <span class="attr">date</span>: <span class="string">&#x27;2016-05-04&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="attr">address</span>: <span class="string">&#x27;No. 189, Grove St, Los Angeles&#x27;</span>,&#125;,</span></span><br><span class="line"><span class="language-javascript">  &#123;<span class="attr">date</span>: <span class="string">&#x27;2016-05-01&#x27;</span>,<span class="attr">name</span>: <span class="string">&#x27;Tom&#x27;</span>,<span class="attr">address</span>: <span class="string">&#x27;No. 189, Grove St, Los Angeles&#x27;</span>,&#125;,</span></span><br><span class="line"><span class="language-javascript">]</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 按钮 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mb-4&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span>&gt;</span>Default<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>Primary<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span>&gt;</span>Success<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span>&gt;</span>Info<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span>&gt;</span>Warning<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span>&gt;</span>Danger<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mb-4&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">plain</span>&gt;</span>Plain<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">plain</span>&gt;</span>Primary<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">plain</span>&gt;</span>Success<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> <span class="attr">plain</span>&gt;</span>Info<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span> <span class="attr">plain</span>&gt;</span>Warning<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">plain</span>&gt;</span>Danger<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mb-4&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">round</span>&gt;</span>Round<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">round</span>&gt;</span>Primary<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">round</span>&gt;</span>Success<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> <span class="attr">round</span>&gt;</span>Info<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span> <span class="attr">round</span>&gt;</span>Warning<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">round</span>&gt;</span>Danger<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mb-4&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">:icon</span>=<span class="string">&quot;Search&quot;</span> <span class="attr">circle</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Edit&quot;</span> <span class="attr">circle</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Check&quot;</span> <span class="attr">circle</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Message&quot;</span> <span class="attr">circle</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Star&quot;</span> <span class="attr">circle</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Delete&quot;</span> <span class="attr">circle</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 表格 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mb-4&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">&quot;tableData&quot;</span> <span class="attr">stripe</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;date&quot;</span> <span class="attr">label</span>=<span class="string">&quot;日期&quot;</span> <span class="attr">width</span>=<span class="string">&quot;180&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span> <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span> <span class="attr">width</span>=<span class="string">&quot;180&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;address&quot;</span> <span class="attr">label</span>=<span class="string">&quot;住址&quot;</span> <span class="attr">width</span>=<span class="string">&quot;300&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.mb-4</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/25/6832b3dd76a5d.png" alt="image-20250525140829333"></p><h4 id="3-分页条组件">3. 分页条组件</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> currentPage4 = <span class="title function_">ref</span>(<span class="number">1</span>) <span class="comment">// 当前页码</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> pageSize4 = <span class="title function_">ref</span>(<span class="number">10</span>) <span class="comment">// 每页记录数</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> small = <span class="title function_">ref</span>(<span class="literal">false</span>)</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> background = <span class="title function_">ref</span>(<span class="literal">false</span>)</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> disabled = <span class="title function_">ref</span>(<span class="literal">false</span>)</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> total = <span class="title function_">ref</span>(<span class="number">40</span>)<span class="comment">// 总记录数</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">handleSizeChange</span> = (<span class="params">val</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`每页展示：<span class="subst">$&#123;val&#125;</span>`</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">handleCurrentChange</span> = (<span class="params">val</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`当前页码: <span class="subst">$&#123;val&#125;</span>`</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">   </span><br><span class="line">   <span class="comment">&lt;!-- 分页条 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mb-4&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-pagination</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model:current-page</span>=<span class="string">&quot;currentPage4&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model:page-size</span>=<span class="string">&quot;pageSize4&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:page-sizes</span>=<span class="string">&quot;[10, 20, 30, 40]&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:small</span>=<span class="string">&quot;small&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:disabled</span>=<span class="string">&quot;disabled&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:background</span>=<span class="string">&quot;background&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">layout</span>=<span class="string">&quot;total, sizes, prev, pager, next, jumper&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:total</span>=<span class="string">&quot;total&quot;</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">size-change</span>=<span class="string">&quot;handleSizeChange&quot;</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">current-change</span>=<span class="string">&quot;handleCurrentChange&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.mb-4</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>天下苦秦已久矣！</p><p>劳资学ElementPlus就是为了解决这个分页条组件英文问题</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/25/6832b8b58017c.png" alt="image-20250525142909314"></p><p>之前翻人家写的代码一直不知道在哪里改，现在我就知道啦！</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/25/6832b96c65730.png" alt="image-20250525143212375"></p><p>呜呜呜终于等到你，还好我没放弃。</p><h4 id="4-对话框组件">4. 对话框组件</h4><p>就是抄抄抄</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref,reactive&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> tableData = [</span></span><br><span class="line"><span class="language-javascript">    &#123; <span class="attr">date</span>: <span class="string">&#x27;2016-05-03&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="attr">address</span>: <span class="string">&#x27;No. 189, Grove St, Los Angeles&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123; <span class="attr">date</span>: <span class="string">&#x27;2016-05-02&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="attr">address</span>: <span class="string">&#x27;No. 189, Grove St, Los Angeles&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123; <span class="attr">date</span>: <span class="string">&#x27;2016-05-04&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="attr">address</span>: <span class="string">&#x27;No. 189, Grove St, Los Angeles&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123; <span class="attr">date</span>: <span class="string">&#x27;2016-05-01&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="attr">address</span>: <span class="string">&#x27;No. 189, Grove St, Los Angeles&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">]</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> dialogTableVisible = <span class="title function_">ref</span>(<span class="literal">false</span>)<span class="comment">//重点</span></span></span><br><span class="line"><span class="language-javascript">&lt;template&gt;</span></span><br><span class="line"><span class="language-javascript"> &lt;!-- 对话框 --&gt;</span></span><br><span class="line"><span class="language-javascript">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mb-4&quot;</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">plain</span> @<span class="attr">click</span>=<span class="string">&quot;dialogTableVisible = true&quot;</span>&gt;</span>打开对话框<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">        <span class="tag">&lt;<span class="name">el-dialog</span> <span class="attr">v-model</span>=<span class="string">&quot;dialogTableVisible&quot;</span> <span class="attr">title</span>=<span class="string">&quot;配送地址&quot;</span> <span class="attr">width</span>=<span class="string">&quot;800&quot;</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">            <span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">&quot;tableData&quot;</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">                <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">property</span>=<span class="string">&quot;date&quot;</span> <span class="attr">label</span>=<span class="string">&quot;日期&quot;</span> <span class="attr">width</span>=<span class="string">&quot;150&quot;</span> /&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">                <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span> <span class="attr">width</span>=<span class="string">&quot;200&quot;</span> /&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">                <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">property</span>=<span class="string">&quot;address&quot;</span> <span class="attr">label</span>=<span class="string">&quot;地址&quot;</span> /&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">            <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">        <span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-javascript">&lt;/template&gt;</span></span><br></pre></td></tr></table></figure><p>显示效果</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/25/6832bf461f942.png" alt="image-20250525145710017"></p><h4 id="5-表单组件">5. 表单组件</h4><p>抄抄抄我抄</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref, reactive &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 表单</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> formInline = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">gender</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">birthday</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">onSubmit</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(formInline)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- 表单 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mb-4&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:inline</span>=<span class="string">&quot;true&quot;</span> <span class="attr">:model</span>=<span class="string">&quot;formInline&quot;</span> <span class="attr">class</span>=<span class="string">&quot;demo-form-inline&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;formInline.name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;你叫啥&quot;</span> <span class="attr">clearable</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;性别&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;formInline.gender&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;男/女/沃尔玛购物袋&quot;</span> <span class="attr">clearable</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;男&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;女&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;沃尔玛购物袋&quot;</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;出生日期&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-date-picker</span> <span class="attr">v-model</span>=<span class="string">&quot;formInline.birthday&quot;</span> <span class="attr">type</span>=<span class="string">&quot;date&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;选一个日期&quot;</span> <span class="attr">value-format</span>=<span class="string">&quot;YYYY-MM-DD&quot;</span> <span class="attr">clearable</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;onSubmit&quot;</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.mb-4</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.demo-form-inline</span> <span class="selector-class">.el-input</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attr">--el-input-width</span>: <span class="number">220px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.demo-form-inline</span> <span class="selector-class">.el-select</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attr">--el-select-width</span>: <span class="number">220px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>最终效果</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/25/6832c67332db5.png" alt="image-20250525152747155"></p><h4 id="6-elementplus的小案例">6. ElementPlus的小案例</h4><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/25/6832c6d5455f5.png" alt="image-20250525152925015"></p><blockquote><p>我来挑战一下嘿嘿</p><p>分析主要是要有表单与表格组件，参考json定义变量名</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;msg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;success&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;谢逊&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;image&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://web-framework.oss-cn-hangzhou.aliyuncs.com/2023/4.jpg&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;gender&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;job&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;entrydate&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2023-06-09&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;updatetime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2025-05-25T08:11:11&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure></blockquote><h5 id="1定义表单内容">1.定义表单内容</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref,reactive &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 表单</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> formInline = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">gender</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">birthday</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">onSubmit</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(formInline)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 表单 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mb-4&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:inline</span>=<span class="string">&quot;true&quot;</span> <span class="attr">:model</span>=<span class="string">&quot;formInline&quot;</span> <span class="attr">class</span>=<span class="string">&quot;demo-form-inline&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;formInline.name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;你叫啥&quot;</span> <span class="attr">clearable</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;性别&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;formInline.gender&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;男/女/沃尔玛购物袋&quot;</span> <span class="attr">clearable</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;男&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;女&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;沃尔玛购物袋&quot;</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;出生日期&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-date-picker</span> <span class="attr">v-model</span>=<span class="string">&quot;formInline.birthday&quot;</span> <span class="attr">type</span>=<span class="string">&quot;date&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;选一个日期&quot;</span> <span class="attr">value-format</span>=<span class="string">&quot;YYYY-MM-DD&quot;</span> <span class="attr">clearable</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;onSubmit&quot;</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.demo-form-inline</span> <span class="selector-class">.el-input</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attr">--el-input-width</span>: <span class="number">220px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.demo-form-inline</span> <span class="selector-class">.el-select</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attr">--el-select-width</span>: <span class="number">220px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>但是我的格式好像不太对，会适应屏幕</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/25/6832c969bd997.png" alt="image-20250525154025875"></p><p>我去翻翻文档有没有固定的</p><p>文档没有但是找到了其他解决方案</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/25/6832d01b39293.png" alt="image-20250525160859203"></p><p>嗯嗯很完美</p><h5 id="2-完成表格内容">2. 完成表格内容</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref, onMounted &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">//声明响应式数据-(v-model绑定的)</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> name = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>);<span class="comment">//姓名</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span>  gender = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>); <span class="comment">//性别</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span>  job = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>);<span class="comment">//职位</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span>  userList = <span class="title function_">ref</span>([])<span class="comment">//用户列表-需要遍历数组</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 收索方法</span></span></span><br><span class="line"><span class="language-javascript"> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">search</span>(<span class="params"></span>) &#123; </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 基于axios请求发送异步请求，请求服务器加载数据</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// await 将异步请求变为同步请求(等待程序运行完毕来获取结果)</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// await必须与async一起使用</span></span></span><br><span class="line"><span class="language-javascript">   <span class="keyword">const</span> result =<span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">`https://web-server.itheima.net/emps/list?name=<span class="subst">$&#123;name.value&#125;</span>&amp;gender=<span class="subst">$&#123;gender.value&#125;</span>&amp;job=<span class="subst">$&#123;job.value&#125;</span>`</span>)</span></span><br><span class="line"><span class="language-javascript">   <span class="comment">// result.data.data 第一个 data 表示响应主体 (result.data)，第二个 data (result.data.data) 则是实际的数据列表。</span></span></span><br><span class="line"><span class="language-javascript">   userList.<span class="property">value</span> = result.<span class="property">data</span>.<span class="property">data</span></span></span><br><span class="line"><span class="language-javascript"> &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"> <span class="comment">//清空方法</span></span></span><br><span class="line"><span class="language-javascript"> <span class="keyword">function</span> <span class="title function_">onClean</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">    name.<span class="property">value</span> = <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    gender.<span class="property">value</span> = <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    job.<span class="property">value</span> = <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">search</span>()</span></span><br><span class="line"><span class="language-javascript"> &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 定义钩子函数</span></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">search</span>();</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 表单 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mb-3&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mb-4&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 1500px;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:inline</span>=<span class="string">&quot;true&quot;</span> <span class="attr">:model</span>=<span class="string">&quot;formInline&quot;</span> <span class="attr">class</span>=<span class="string">&quot;demo-form-inline&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入姓名&quot;</span> <span class="attr">clearable</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;性别&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请选择&quot;</span> <span class="attr">clearable</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;男&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;女&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;职位&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;job&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请选择&quot;</span> <span class="attr">clearable</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;班主任&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;讲师&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;其他&quot;</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;search&quot;</span>&gt;</span>查询<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;onClean&quot;</span>&gt;</span>清空<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">&quot;userList&quot;</span> <span class="attr">border</span> <span class="attr">style</span>=<span class="string">&quot;width: 1030px;&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;date&quot;</span> <span class="attr">label</span>=<span class="string">&quot;ID&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span>  /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span> <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;address&quot;</span> <span class="attr">label</span>=<span class="string">&quot;头像&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;address&quot;</span> <span class="attr">label</span>=<span class="string">&quot;性别&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;address&quot;</span> <span class="attr">label</span>=<span class="string">&quot;职位&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;address&quot;</span> <span class="attr">label</span>=<span class="string">&quot;入职日期&quot;</span> <span class="attr">width</span>=<span class="string">&quot;180&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;address&quot;</span> <span class="attr">label</span>=<span class="string">&quot;更新日期&quot;</span> <span class="attr">width</span>=<span class="string">&quot;180&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.demo-form-inline</span> <span class="selector-class">.el-input</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attr">--el-input-width</span>: <span class="number">220px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.demo-form-inline</span> <span class="selector-class">.el-select</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attr">--el-select-width</span>: <span class="number">220px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.mb-3</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">90%</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">max-width</span>: <span class="number">1300px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">left</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>);</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>完成了表格内容，不过页面显示的很不对劲</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/25/6832d78bd4dec.png" alt="image-20250525164043304"></p><p>目前只有姓名是显示正常的，其他都不太行我在改改</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;date&quot;</span> <span class="attr">label</span>=<span class="string">&quot;ID&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span>  /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span> <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;address&quot;</span> <span class="attr">label</span>=<span class="string">&quot;头像&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;address&quot;</span> <span class="attr">label</span>=<span class="string">&quot;性别&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;address&quot;</span> <span class="attr">label</span>=<span class="string">&quot;职位&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;address&quot;</span> <span class="attr">label</span>=<span class="string">&quot;入职日期&quot;</span> <span class="attr">width</span>=<span class="string">&quot;180&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;address&quot;</span> <span class="attr">label</span>=<span class="string">&quot;更新日期&quot;</span> <span class="attr">width</span>=<span class="string">&quot;180&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>好像发现问题了，我这里没有绑定嘿嘿</p><h5 id="3-修改表格绑定内容">3. 修改表格绑定内容</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">&quot;userList&quot;</span> <span class="attr">border</span> <span class="attr">style</span>=<span class="string">&quot;width: 1030px;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;id&quot;</span> <span class="attr">label</span>=<span class="string">&quot;ID&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span>  /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span> <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;image&quot;</span> <span class="attr">label</span>=<span class="string">&quot;头像&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">label</span>=<span class="string">&quot;性别&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;job&quot;</span> <span class="attr">label</span>=<span class="string">&quot;职位&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;entrydate&quot;</span> <span class="attr">label</span>=<span class="string">&quot;入职日期&quot;</span> <span class="attr">width</span>=<span class="string">&quot;180&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;updatetime&quot;</span> <span class="attr">label</span>=<span class="string">&quot;更新日期&quot;</span> <span class="attr">width</span>=<span class="string">&quot;180&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/25/6832d85c58693.png" alt="image-20250525164411643"></p><p>哇塞哇塞有效果了，不过图片不显示，感觉像是啥属性没有配置的原因，我去翻翻文档 <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/25/6832d9481d553.png" alt="image-20250525164808143"></p><p>好像发现了，我改改</p><h5 id="4-更改图片属性">4. 更改图片属性</h5><p>啊？啊？啊？</p><p>这里去官方文档里找的代码没有成功回显图片，显示失败</p><p>查看了老师的代码</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;image&quot;</span> <span class="attr">label</span>=<span class="string">&quot;头像&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;scope.row.image&quot;</span> <span class="attr">height</span>=<span class="string">&quot;40px&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br></pre></td></tr></table></figure><p>嗯…咱也不知道为啥反正就实现了</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/25/6832db3771290.png" alt="image-20250525165622958"></p><p>测试功能一切正常</p><h5 id="5-最终效果">5. 最终效果</h5><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/25/6832e1aed8646.png" alt="image-20250525172358734"></p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref, onMounted &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//声明响应式数据-(v-model绑定的)</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> name = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>);<span class="comment">//姓名</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> gender = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>); <span class="comment">//性别</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> job = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>);<span class="comment">//职位</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> userList = <span class="title function_">ref</span>([])<span class="comment">//用户列表-需要遍历数组</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 收索方法</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">search</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 基于axios请求发送异步请求，请求服务器加载数据</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// await 将异步请求变为同步请求(等待程序运行完毕来获取结果)</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// await必须与async一起使用</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> result = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">`https://web-server.itheima.net/emps/list?name=<span class="subst">$&#123;name.value&#125;</span>&amp;gender=<span class="subst">$&#123;gender.value&#125;</span>&amp;job=<span class="subst">$&#123;job.value&#125;</span>`</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// result.data.data 第一个 data 表示响应主体 (result.data)，第二个 data (result.data.data) 则是实际的数据列表。</span></span></span><br><span class="line"><span class="language-javascript">    userList.<span class="property">value</span> = result.<span class="property">data</span>.<span class="property">data</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//清空方法</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">onClean</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    name.<span class="property">value</span> = <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    gender.<span class="property">value</span> = <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    job.<span class="property">value</span> = <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">search</span>()</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 定义钩子函数</span></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">search</span>();</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 表单 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mb-4&quot;</span> <span class="attr">style</span>=<span class="string">&quot;max-width: 1200px; margin: 0 auto; min-height: 100vh; display: flex; flex-direction: column; align-items: center; margin-top: 200px;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:inline</span>=<span class="string">&quot;true&quot;</span> <span class="attr">:model</span>=<span class="string">&quot;formInline&quot;</span> <span class="attr">class</span>=<span class="string">&quot;demo-form-inline&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入姓名&quot;</span> <span class="attr">clearable</span>  /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;性别&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请选择&quot;</span> <span class="attr">clearable</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;男&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;女&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;职位&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;job&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请选择&quot;</span> <span class="attr">clearable</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;班主任&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;讲师&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;其他&quot;</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;search&quot;</span>&gt;</span>查询<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;onClean&quot;</span>&gt;</span>清空<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">&quot;userList&quot;</span> <span class="attr">border</span> <span class="attr">style</span>=<span class="string">&quot;width: 1030px;&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;id&quot;</span> <span class="attr">label</span>=<span class="string">&quot;ID&quot;</span> <span class="attr">width</span>=<span class="string">&quot;110&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span> <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span> <span class="attr">width</span>=<span class="string">&quot;110&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-table-column</span>  <span class="attr">label</span>=<span class="string">&quot;头像&quot;</span> <span class="attr">width</span>=<span class="string">&quot;140&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;scope.row.image&quot;</span> <span class="attr">height</span>=<span class="string">&quot;80px&quot;</span> <span class="attr">width</span>=<span class="string">&quot;80px&quot;</span> &gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-table-column</span>  <span class="attr">label</span>=<span class="string">&quot;性别&quot;</span> <span class="attr">width</span>=<span class="string">&quot;110&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">                        &#123;&#123; scope.row.gender  === 1 ? &#x27;男&#x27; : &#x27;女&#x27; &#125;&#125;</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-table-column</span>  <span class="attr">label</span>=<span class="string">&quot;职位&quot;</span> <span class="attr">width</span>=<span class="string">&quot;110&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">                     <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">&quot;scope.row.job == 1&quot;</span>&gt;</span>班主任<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else-if</span>=<span class="string">&quot;scope.row.job == 2&quot;</span>&gt;</span>讲师<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else-if</span>=<span class="string">&quot;scope.row.job == 3&quot;</span>&gt;</span>学工主管<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else-if</span>=<span class="string">&quot;scope.row.job == 4&quot;</span>&gt;</span>教研主管<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else-if</span>=<span class="string">&quot;scope.row.job == 5&quot;</span>&gt;</span>咨询师<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else</span>&gt;</span>其他<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;entrydate&quot;</span> <span class="attr">label</span>=<span class="string">&quot;入职日期&quot;</span> <span class="attr">width</span>=<span class="string">&quot;220&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;updatetime&quot;</span> <span class="attr">label</span>=<span class="string">&quot;更新日期&quot;</span> <span class="attr">width</span>=<span class="string">&quot;230&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.demo-form-inline</span> <span class="selector-class">.el-input</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attr">--el-input-width</span>: <span class="number">220px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.demo-form-inline</span> <span class="selector-class">.el-select</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attr">--el-select-width</span>: <span class="number">220px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>使用自定义模板prop标签可以删除</p><h2 id="二tlias侧边栏开发">二、tlias侧边栏开发</h2><details class="folding-tag"><summary>@符的小知识点</summary><div class="content"><p>在老师的vue文件中有这样的一个代码</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Layout from <span class="string">&quot;@/views/layout/index.vue&quot;</span>;</span><br></pre></td></tr></table></figure><p>这里的@就是完美Src的目录文件夹，定义在了<code>vite.config.js</code>文件中</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// https://vitejs.dev/config/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [<span class="title function_">vue</span>()],</span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">alias</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: <span class="title function_">fileURLToPath</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&#x27;./src&#x27;</span>, <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>老师的页面布局代码使用的是Element的布局，需要在文档查看</p></div></details><h3 id="1-左侧侧边栏">1. 左侧侧边栏</h3><h4 id="1-左侧菜单基本定义">1. 左侧菜单基本定义</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 左侧菜单 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">el-aside</span> <span class="attr">width</span>=<span class="string">&quot;200px&quot;</span> <span class="attr">class</span>=<span class="string">&quot;aside&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">         <span class="comment">&lt;!-- 添加左侧侧边栏 --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">el-menu</span> <span class="attr">:default-openeds</span>=<span class="string">&quot;[&#x27;1&#x27;, &#x27;3&#x27;]&quot;</span>&gt;</span></span><br><span class="line">           <span class="comment">&lt;!-- 一级菜单 --&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">el-sub-menu</span> <span class="attr">index</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">template</span> #<span class="attr">title</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                 <span class="tag">&lt;<span class="name">message</span> /&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>Navigator One</span><br><span class="line">             <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;1-1&quot;</span>&gt;</span>Option 1<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;1-2&quot;</span>&gt;</span>Option 2<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">el-sub-menu</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">el-menu</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">el-aside</span>&gt;</span></span><br></pre></td></tr></table></figure><p>左侧侧边栏大致长这样，需要注意的是</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-menu</span> <span class="attr">:default-openeds</span>=<span class="string">&quot;[&#x27;1&#x27;, &#x27;3&#x27;]&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>代表的是默认展开，索引为1和3，开发过程中不需要展开，在这里就给删除了</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;common-layout&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-container</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- Header 区域 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-header</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>Tlias智能学习辅助系统<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;right_tool&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">EditPen</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span> 修改密码 <span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span> | <span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">SwitchButton</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span> 退出登录</span><br><span class="line">          <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-header</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-container</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 左侧菜单 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-aside</span> <span class="attr">width</span>=<span class="string">&quot;200px&quot;</span> <span class="attr">class</span>=<span class="string">&quot;aside&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">          <span class="comment">&lt;!-- 添加左侧侧边栏 --&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-menu</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 首页菜单 --&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;/index&quot;</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">              <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Promotion</span>&gt;</span><span class="tag">&lt;/<span class="name">Promotion</span>&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>首页</span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 一级菜单 学员管理--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-sub-menu</span> <span class="attr">index</span>=<span class="string">&quot;/manage&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">template</span> #<span class="attr">title</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 这里导入了图标组件在文档里有 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Menu</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>班级学员管理</span><br><span class="line">              <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;/clazz&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">HomeFilled</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>班级管理<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;/stu&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">UserFilled</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>学员管理<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-sub-menu</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 二级菜单 系统信息管理 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-sub-menu</span> <span class="attr">index</span>=<span class="string">&quot;/system&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">template</span> #<span class="attr">title</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 这里导入了图标组件在文档里有 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Tools</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>系统信息管理</span><br><span class="line">              <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;/dept&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">HelpFilled</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>部门管理<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;/emp&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Avatar</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>员工管理<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-sub-menu</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 三级菜单 数据统计管理 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-sub-menu</span> <span class="attr">index</span>=<span class="string">&quot;/report&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">template</span> #<span class="attr">title</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 这里导入了图标组件在文档里有 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Histogram</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>数据统计管理</span><br><span class="line">              <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;/empReport&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">InfoFilled</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>员工信息统计<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;/stuReport&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Share</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>学员信息统计<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;/log&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Document</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>日志信息统计<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-sub-menu</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-menu</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-aside</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-main</span>&gt;</span></span><br><span class="line">          右侧核心展示区域</span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-main</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.header</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(to right, <span class="number">#00547d</span>, <span class="number">#007fa4</span>, <span class="number">#00aaa0</span>, <span class="number">#00d072</span>, <span class="number">#a8eb12</span>);</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.title</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">font-size</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">font-family</span>: 楷体;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">line-height</span>: <span class="number">60px</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">font-weight</span>: bolder;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.right_tool</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">float</span>: right;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">line-height</span>: <span class="number">60px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.aside</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">width</span>: <span class="number">220px</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">border-right</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">height</span>: <span class="number">730px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>定义完之后就长这样基本上就是抄代码</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/25/68331aedd0274.png" alt="image-20250525212813258"></p><h4 id="2-动态菜单router路由">2. 动态菜单（Router路由）</h4><details class="folding-tag"><summary>Router 路由知识点</summary><div class="content"><ol type="1"><li><p>router组成</p><ul><li><p>Router实例:路由实例，基于createRouter函数创建，维护了应用的路由信息。</p><p>eg: /stu: /views/stu/index.vue 当配置stu时会访问的路径</p></li><li><p><code>&lt;router-link&gt;</code>:路由链接组件，浏览器会解析成<code>&lt;a&gt;</code>。</p><p>eg: <code>&lt;router-link to='/emp'&gt;</code>员工管理<code>&lt;/router-link&gt;</code> 会被解析为超链接标签，点击会跳转（当点击员工管理会跳转emp页面。然后这个标签会去查找我们的实例中定义的/emp的组件路径）</p></li><li><p><code>&lt;router-view&gt;</code>:动态视图组件，用来渲染展示与路由路径对应的组件。</p><p>eg: <code>&lt;router-view&gt;&lt;/router-view&gt;</code>你想在哪里展示组件就在那里加这个标</p></li></ul></li></ol></div></details><h5 id="1-开启router">1. 开启router</h5><p><code>&lt;el-menu router&gt;</code>自需要在菜单栏上添加一个router既可以跳转了，好神奇</p><h5 id="2配置路由index">2.配置路由index</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">IndexView</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/index/index.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> clazzView <span class="keyword">from</span> <span class="string">&#x27;@/views/clazz/index.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">DeptView</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/dept/index.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">EmpView</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/emp/index.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">LogView</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/log/index.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> stuView <span class="keyword">from</span> <span class="string">&#x27;@/views/stu/index.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">EmpReportView</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/report/emp/index.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> stuReportView <span class="keyword">from</span> <span class="string">&#x27;@/views/report/stu/index.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">LayoutView</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/layout/index.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">LoginView</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/login/index.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  <span class="attr">history</span>: <span class="title function_">createWebHistory</span>(<span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">env</span>.<span class="property">BASE_URL</span>),</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/index&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;index&#x27;</span>, <span class="attr">component</span>: <span class="title class_">IndexView</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/clazz&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;clazz&#x27;</span>, <span class="attr">component</span>: clazzView &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/stu&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;stu&#x27;</span>, <span class="attr">component</span>: stuView &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/dept&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;dept&#x27;</span>, <span class="attr">component</span>: <span class="title class_">DeptView</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/emp&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;emp&#x27;</span>, <span class="attr">component</span>: <span class="title class_">EmpView</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/log&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;log&#x27;</span>, <span class="attr">component</span>: <span class="title class_">LogView</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/empReport&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;empReport&#x27;</span>, <span class="attr">component</span>: <span class="title class_">EmpReportView</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/stuReport&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;stuReport&#x27;</span>, <span class="attr">component</span>: stuReportView &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;login&#x27;</span>, <span class="attr">component</span>: <span class="title class_">LoginView</span> &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure><p>导入路由然后配置路径</p><h5 id="3-在需要展示的地方导入视图">3. 在需要展示的地方导入视图</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">// 右侧核心区 </span><br><span class="line"><span class="tag">&lt;<span class="name">el-main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-main</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="4页面展示">4.页面展示</h5><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/25/68332c5d8fc87.png" alt="image-20250525224232768"></p><p>神奇！</p><h4 id="3-嵌套路由">3. 嵌套路由</h4><p>案例引出：当我们在页面访问登录功能时会在右侧盒子中显示登陆页面。这肯定是不符合要求的，推测要在登录页面展示这个路由。</p><p>原因：我们在app.vue中引入了默认页面layout。当页面打开时默认显示layout，猜测修改：使用index包裹layout（卧槽卧槽卧槽）</p><p>老师说不能把这个页面写死，也就是说不要在app.vue中固定页面（猜错了嘿嘿）</p><h5 id="1-动态路由组件">1. 动态路由组件</h5><p>在app.vue中填写</p><p><code>&lt;router-view&gt;&lt;/router-view&gt;</code></p><p>当匹配到哪个组件就需要在页面中展示哪个组件</p><p>咦~现在当我打开页面时变成空白了，也就是说没有指定默认访问页面</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/26/683419aac3ffc.png" alt="image-20250526153458819"></p><p>推测修改：可能要在里面添加Layout组件</p><h5 id="2-路由嵌套">2. 路由嵌套</h5><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/26/68341a5fa3da4.png" alt="image-20250526153807133"></p><p>也就是说要在大路由中嵌套layout</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"> &#123;<span class="attr">path</span>:<span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">     <span class="attr">name</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">     <span class="attr">component</span>: <span class="title class_">LayoutView</span>,</span><br><span class="line">     <span class="attr">redirect</span>:<span class="string">&#x27;/index&#x27;</span>,</span><br><span class="line">     <span class="attr">children</span>:[</span><br><span class="line">      &#123;<span class="attr">path</span>:<span class="string">&#x27;index&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;index&#x27;</span>,<span class="attr">component</span>:<span class="title class_">IndexView</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">path</span>:<span class="string">&#x27;clazz&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;clazz&#x27;</span>,<span class="attr">component</span>:clazzView&#125;,</span><br><span class="line">      &#123;<span class="attr">path</span>:<span class="string">&#x27;dept&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;dept&#x27;</span>,<span class="attr">component</span>:<span class="title class_">DeptView</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">path</span>:<span class="string">&#x27;emp&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;emp&#x27;</span>,<span class="attr">component</span>:<span class="title class_">EmpView</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">path</span>:<span class="string">&#x27;log&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;log&#x27;</span>,<span class="attr">component</span>:<span class="title class_">LogView</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">path</span>:<span class="string">&#x27;stuReport&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;stuReport&#x27;</span>,<span class="attr">component</span>:stuView&#125;,</span><br><span class="line">      &#123;<span class="attr">path</span>:<span class="string">&#x27;empReport&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;empReport&#x27;</span>,<span class="attr">component</span>:stuReportView&#125;,</span><br><span class="line">     ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;login&#x27;</span>, <span class="attr">component</span>: <span class="title class_">LoginView</span> &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol type="1"><li>当我们访问根路径时，默认访问的是LayoutView布局的页面，也就是我们最开始的页面。然后就能愉快的访问里面的页面啦。当我们访问login时也能正常显示</li><li>路由中配置了<code>redirect</code>，也就是说当我们访问layout的布局内容是，会重定向到index页面</li></ol><p>不过感觉这里应该会加拦截器相关的内容🍔(看到大汉堡突然想吃汉堡了😋)</p><h2 id="三部门管理-查询">三、部门管理-查询</h2><h3 id="1-页面分析">1. 页面分析</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/26/68342200a2ffd.png" alt="image-20250526161040143"></p><p>呜呼呜呼呜呼呜呼</p><ul><li>部门管理页面首先上面有一个部门管理标题</li><li>一个新增按钮（点击新增会有提示框）</li><li>4列表格</li><li>编辑，删除按钮</li></ul><h3 id="2-页面布局开发">2. 页面布局开发</h3><ol type="1"><li><p>标题</p><p>直接使用的h1标签</p></li><li><p>新增部门按钮，使用Ele的按钮组件</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/26/683423fe0c098.png" alt="image-20250526161909236"></p><p>这里不需要div吗，感觉也太紧凑了吧</p></li><li><p>为按钮设置一个div然后设置外边距</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>+新增部门<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   </span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">  <span class="comment">/* 距离上下10px 左右0px */</span></span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">20px</span> <span class="number">0px</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这样就好看哆啦</p></li><li><p>新增表格组件</p><p>拷贝表格组件代码</p><div class="note info flat"><p>需要注意的是：部门id自增的，需要定义</p></div><p>设置<code>type</code>属性为index即可从1开始自增</p></li><li><p>设置操作</p><p>当我们使用表格标签时，默认显示的不能满足我们的需求，我们这就需要自定义标签（默认展示的是文字，我们现在要展示按钮）</p></li><li><p>完整布局代码</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//定义响应式数据</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> tableData = <span class="title function_">ref</span>([</span></span><br><span class="line"><span class="language-javascript">  &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">id</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&quot;学工部&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">createTime</span>: <span class="string">&quot;2022-09-01T23:06:29&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">updateTime</span>: <span class="string">&quot;2022-09-01T23:06:29&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">]);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>部门管理<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>+新增部门<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">&quot;tableData&quot;</span> <span class="attr">border</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">type</span>=<span class="string">&quot;index&quot;</span> <span class="attr">label</span>=<span class="string">&quot;序号&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span> <span class="attr">label</span>=<span class="string">&quot;部门名称&quot;</span> <span class="attr">width</span>=<span class="string">&quot;260&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;updateTime&quot;</span> <span class="attr">label</span>=<span class="string">&quot;最后操作时间&quot;</span> <span class="attr">width</span>=<span class="string">&quot;300&quot;</span>  <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;操作&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Edit</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>编辑</span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Delete</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>删除</span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="comment">/* 距离上下10px 左右0px */</span></span></span><br><span class="line"><span class="language-css">  <span class="attribute">margin</span>: <span class="number">20px</span> <span class="number">0px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/26/68342c242cc4e.png" alt="image-20250526165355827"></p><p>太漂亮啦嘿嘿</p></li></ol><h3 id="3-列表查询-加载数据">3. 列表查询-加载数据</h3><p>根据需求，需要在打开页面之后，需要自动加载全部部门数据，展示在表格中。</p><details class="folding-tag" yellow><summary>使用ApiFox创建mock模拟数据</summary><div class="content"><p>当我们前端在开发中，假设后端还没开发完毕，这时候我们想要动态查询数据可以使用ApiFox提供的mock模拟后端生成的数据</p><ol type="1"><li><p>打开ApiFox（没有就下载）</p></li><li><p>新建get请求接口，导入响应回来的接口数据（参考接口文档）</p></li><li><p>然后点击mock的云端在里面进行开启</p></li><li><p>我忘记截屏了，不过里面有一个停用按钮，我把开启就可以了（我选的是响应式优先）</p></li><li><p>具体请观看老师的视频：</p></li></ol><div calss="anzhiyu-tag-link"><a class="tag-Link" target="_blank" href="https://www.bilibili.com/video/BV1yGydYEE3H?t=1579.6&p=163"><div class="tag-link-tips">引用站外地址</div><div class="tag-link-bottom"><div class="tag-link-left"><i class="anzhiyufont anzhiyu-icon-link"></i></div><div class="tag-link-right"><div class="tag-link-title">Bilibili</div><div class="tag-link-sitename">黑马程序员</div></div><i class="anzhiyufont anzhiyu-icon-angle-right"></i></div></a></div></div></details><p>在ApiFox中定义完接口还需要回到前端进行引用。这里要用到的技术是axios</p><p>完整代码</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref ,onMounted&#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 定义钩子函数，当页面加载完毕就会调用这函数，然后这个函数就会调用serch方法，</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 就会调用链接，将获取的值赋给deptList，然后就在页面显示了</span></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123; <span class="comment">//生命周期</span></span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">search</span>();</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 查询部门列表</span></span></span><br><span class="line"><span class="language-javascript"> <span class="keyword">const</span> <span class="title function_">search</span>=<span class="keyword">async</span>(<span class="params"></span>) =&gt; &#123; </span></span><br><span class="line"><span class="language-javascript"> <span class="keyword">const</span> result = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&quot;https://m1.apifoxmock.com/m1/6421010-6118327-default/depts&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"> <span class="comment">// 如果code为1就显示数据，否则提示错误信息</span></span></span><br><span class="line"><span class="language-javascript"> <span class="keyword">if</span>(result.<span class="property">data</span>.<span class="property">code</span> == <span class="number">1</span>) &#123; <span class="comment">//布尔类型</span></span></span><br><span class="line"><span class="language-javascript">   deptList.<span class="property">value</span> = result.<span class="property">data</span>.<span class="property">data</span>;</span></span><br><span class="line"><span class="language-javascript"> &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">   <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">error</span>(result.<span class="property">data</span>.<span class="property">message</span>);</span></span><br><span class="line"><span class="language-javascript"> &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//定义响应式数据</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> deptList = <span class="title function_">ref</span>([]);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>部门管理<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>+新增部门<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">&quot;deptList&quot;</span> <span class="attr">border</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">type</span>=<span class="string">&quot;index&quot;</span> <span class="attr">label</span>=<span class="string">&quot;序号&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span> <span class="attr">label</span>=<span class="string">&quot;部门名称&quot;</span> <span class="attr">width</span>=<span class="string">&quot;260&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;updateTime&quot;</span> <span class="attr">label</span>=<span class="string">&quot;最后操作时间&quot;</span> <span class="attr">width</span>=<span class="string">&quot;300&quot;</span>  <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;操作&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Edit</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>编辑</span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Delete</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>删除</span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="comment">/* 距离上下10px 左右0px */</span></span></span><br><span class="line"><span class="language-css">  <span class="attribute">margin</span>: <span class="number">20px</span> <span class="number">0px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>页面显示（我的分辨率好像有问题，感觉页面显示的太小了）</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/27/6835ab59de608.png" alt="6835ab59de608"></p><p>这里使用axios来进行异步请求，使用钩子函数来触发。</p><p>神奇！</p><h3 id="4-程序优化">4. 程序优化</h3><blockquote><p>当前程序问题：URL是写死的不方便维护</p></blockquote><h4 id="1-代码分析">1. 代码分析</h4><ol type="1"><li><p>改进方案1</p><p>将异步请求提取到一个工具类中，这样就可以根据这个工具类来获取信息了</p><div class="note info flat"><p>这里定义了timout，是响应保留时间</p></div><p>太短了的话后端打断点会报错。</p></li><li><p>改进方案2</p><p>将与服务器进行异步请求交互的逻辑封装在一个单独的api中</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/27/6835b0b46499c.png" alt="image-20250527203146290"></p><p>懂了懂了，全都懂了。我终于可以看懂别人的前端代码了</p></li></ol><h4 id="2-具体代码">2. 具体代码</h4><p><code>src/api/dept.js</code></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 导入封装好的axios实例（包含基础配置和响应拦截器）</span></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&quot;@/utils/request&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> 查询全部部门数据信息</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span> &#123;<span class="type">Promise</span>&#125; 返回Promise对象，成功时返回部门列表数据</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@example</span></span></span><br><span class="line"><span class="comment"> * queryAllApi().then(data =&gt; &#123;</span></span><br><span class="line"><span class="comment"> *   console.log(&#x27;部门列表:&#x27;, data);</span></span><br><span class="line"><span class="comment"> * &#125;).catch(error =&gt; &#123;</span></span><br><span class="line"><span class="comment"> *   console.error(&#x27;获取部门列表失败:&#x27;, error);</span></span><br><span class="line"><span class="comment"> * &#125;);</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">queryAllApi</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 发起GET请求，路径为基础URL（/api）拼接/depts，即/api/depts</span></span><br><span class="line">  <span class="keyword">return</span> request.<span class="title function_">get</span>(<span class="string">&#x27;/depts&#x27;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>src/utils/request.js</code></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> 创建axios实例对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Object</span>&#125; <span class="variable">config</span> - axios实例配置对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@property</span> &#123;<span class="type">string</span>&#125; <span class="variable">baseURL</span> - 基础URL，用于拼接请求地址（示例：&#x27;/api&#x27;会自动添加到所有请求URL前面）</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@property</span> &#123;<span class="type">number</span>&#125; <span class="variable">timeout</span> - 请求超时时间（单位：毫秒），超过600000毫秒未响应则请求失败</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> request = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">  <span class="attr">baseURL</span>: <span class="string">&#x27;https://m1.apifoxmock.com/m1/6421010-6118327-default&#x27;</span>, <span class="comment">// 所有请求的基础路径，可根据后端接口地址统一配置</span></span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">600000</span> <span class="comment">// 请求超时时间设置为10分钟（600000ms）</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> axios响应拦截器（处理响应数据的统一入口）</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Function</span>&#125; response =&gt; response.data - 成功响应处理函数</span></span><br><span class="line"><span class="comment"> *   - 作用：对所有接口返回的response对象进行预处理</span></span><br><span class="line"><span class="comment"> *   - 常规操作：提取response中的data字段（后端返回的业务数据通常存储在此）</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Function</span>&#125; error =&gt; Promise.reject(error) - 失败响应处理函数</span></span><br><span class="line"><span class="comment"> *   - 作用：统一处理请求失败的情况（如网络错误、超时、后端异常等）</span></span><br><span class="line"><span class="comment"> *   - 常规操作：将错误对象包装为Promise.reject以便上层调用捕获</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">response</span>) =&gt;</span> &#123; <span class="comment">// 响应成功时的回调函数</span></span><br><span class="line">    <span class="comment">// 这里默认返回response中的data字段，通常后端返回的结构为&#123;code: xxx, data: xxx, message: xxx&#125;</span></span><br><span class="line">    <span class="comment">// 可根据实际需求进一步处理（如统一错误码判断、数据格式化等）</span></span><br><span class="line">    <span class="keyword">return</span> response.<span class="property">data</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">error</span>) =&gt;</span> &#123; <span class="comment">// 响应失败时的回调函数</span></span><br><span class="line">    <span class="comment">// 对请求错误进行统一处理（如记录错误日志、提示用户、重试机制等）</span></span><br><span class="line">    <span class="comment">// 此处直接返回 rejected 状态的Promise，以便调用方通过.catch()捕获错误</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导出axios实例对象，供其他模块调用</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> request;</span><br></pre></td></tr></table></figure><p><code>src/views/dept/index.vue</code></p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref ,onMounted&#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; queryAllApi&#125; <span class="keyword">from</span> <span class="string">&quot;@/api/dept&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 定义钩子函数，当页面加载完毕就会调用这函数，然后这个函数就会调用serch方法，</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 就会调用链接，将获取的值赋给deptList，然后就在页面显示了</span></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123; <span class="comment">//生命周期</span></span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">search</span>();</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 查询部门列表</span></span></span><br><span class="line"><span class="language-javascript"> <span class="keyword">const</span> <span class="title function_">search</span>=<span class="keyword">async</span>(<span class="params"></span>) =&gt; &#123; </span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 注释掉旧代码  </span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//  const result = await axios.get(&quot;https://m1.apifoxmock.com/m1/6421010-6118327-default/depts&quot;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//  // 如果code为1就显示数据，否则提示错误信息</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//  if(result.data.code == 1) &#123; //布尔类型</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//    deptList.value = result.data.data;</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//  &#125; else &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//    this.$message.error(result.data.message);</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//  &#125;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title function_">queryAllApi</span>();</span></span><br><span class="line"><span class="language-javascript">    deptList.<span class="property">value</span> = result.<span class="property">data</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//定义响应式数据</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> deptList = <span class="title function_">ref</span>([]);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>页面正常显示数据，注意是在src目录下新建包，不是在views里面</p><h4 id="3-反向代理">3. 反向代理</h4><p>卧槽这几集全是干货啊，好爽好爽好好爽</p><p>经过上面的优化基础功能实现了，不过还没有解决跨域问题，以及URL在src中写死的问题，修改request.js的访问路径为<code>/api</code></p><p>同时修改vite.config.js代码解决跨域问题，访问后端8080路径</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; fileURLToPath, <span class="variable constant_">URL</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;node:url&#x27;</span>; <span class="comment">// 导入Node.js的URL处理模块</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span>; <span class="comment">// 导入Vite的配置定义函数</span></span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue&#x27;</span>; <span class="comment">// 导入Vue插件，支持Vue单文件组件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Vite项目配置文件</span></span><br><span class="line"><span class="comment"> * 配置参考：https://vitejs.dev/config/</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="comment">// 插件配置（增强Vite功能）</span></span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">vue</span>(), <span class="comment">// 启用Vue 3单文件组件支持</span></span><br><span class="line">  ],</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 路径解析配置（处理模块导入路径）</span></span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">alias</span>: &#123;</span><br><span class="line">      <span class="comment">// 配置别名 &#x27;@&#x27; 指向项目的src目录</span></span><br><span class="line">      <span class="comment">// 例如：import App from &#x27;@/App.vue&#x27; 等价于 import App from &#x27;./src/App.vue&#x27;</span></span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: <span class="title function_">fileURLToPath</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&#x27;./src&#x27;</span>, <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 开发服务器配置（仅在开发环境生效）</span></span><br><span class="line">  <span class="attr">server</span>: &#123;</span><br><span class="line">    <span class="comment">// 配置代理服务器（解决跨域问题）</span></span><br><span class="line">    <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="comment">// 所有以/api开头的请求路径都会被代理</span></span><br><span class="line">      <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:8080&#x27;</span>, <span class="comment">// 目标服务器地址（后端API地址）</span></span><br><span class="line">        <span class="attr">secure</span>: <span class="literal">false</span>, <span class="comment">// 不验证SSL证书</span></span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>, <span class="comment">// 修改请求头中的Origin字段为目标服务器地址</span></span><br><span class="line">        <span class="attr">rewrite</span>: <span class="function">(<span class="params">path</span>) =&gt;</span> path.<span class="title function_">replace</span>(<span class="regexp">/^\/api/</span>, <span class="string">&#x27;&#x27;</span>), <span class="comment">// 重写请求路径，去除/api前缀</span></span><br><span class="line">        <span class="comment">// 例如：/api/users =&gt; http://localhost:8080/users</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>这一段相当于固定代码</p><p>完成以上步骤请打开你的tlias后端尝试前后端联调吧🐱🐱🐱</p><p>要注释掉有关后端拦截器的代码，否则会报令牌校验错误</p><p>我这边前后端联调没有问题</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/27/6835c0bbd7171.png" alt="image-20250527214008743"></p><p>呜呜呜谢谢老师，谢谢黑马。感觉离开发又近了一步</p><h2 id="四部门管理-新增">四、部门管理-新增</h2><h3 id="1-页面原型">1. 页面原型</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/28/6836c46130bd5.png" alt="image-20250528160750563"></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/28/6836c4bea7896.png" alt="image-20250528160931086"></p><p>新增时点击会调用后端的新增操作</p><p>需要一个Dialog对话框组件和一个From表单组件</p><h3 id="2-新增部门">2. 新增部门</h3><h4 id="1-定义dialog">1. 定义dialog</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">  <span class="comment">&lt;!-- Dialog对话框组件 --&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 为了让修改部门也可以复用这个Dialog，所以要将标题动态绑定，所以要使用插槽,注意这里需要加：插槽的标签是title，所以这里要写title，而不是fromTitle --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-dialog</span> <span class="attr">v-model</span>=<span class="string">&quot;dialogFormVisible&quot;</span> <span class="attr">:title</span>=<span class="string">&quot;fromTitle&quot;</span> <span class="attr">width</span>=<span class="string">&quot;500&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:model</span>=<span class="string">&quot;dept&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;部门名称&quot;</span> <span class="attr">:label-width</span>=<span class="string">&quot;80&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;dept.name&quot;</span>  /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">      </span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">footer</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dialog-footer&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--@click=&quot;dialogFormVisible = false&quot;是当点击按钮被点击的时候，dialogFormVisible被设置为false，即关闭对话框  --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;dialogFormVisible = false&quot;</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- @click=&quot;save&quot;是当点击按钮被点击的时候，调用save方法，即保存数据 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;save&quot;</span>&gt;</span>确定<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这里需要注意的是：</p><ul><li>当我们点击新增按钮时，需要将对话框显示的调用出来。因此需要在新增按钮上添加点击事件，当点击时将按钮显示出来。然后在页面点击取消按钮会隐藏对话框</li><li>然后需要在保存按钮上添加保存方法。当点击时会调用后端的插入方法</li><li>为了我们的Dialog对话框能实现复用效果。将对话框的标题设置为了动态绑定效果，当点击新增时，将标题渲染为新增部门</li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Dialog对话框组件</span></span><br><span class="line"><span class="keyword">const</span> dialogFormVisible = <span class="title function_">ref</span>(<span class="literal">false</span>);</span><br><span class="line"><span class="comment">// 部门名称</span></span><br><span class="line"><span class="keyword">const</span> dept = <span class="title function_">ref</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;&#x27;</span>&#125;);</span><br><span class="line"><span class="comment">// 动态表单标题，当新增时候标题为新增部门，否则为修改部门</span></span><br><span class="line"><span class="keyword">const</span> fromTitle = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line"><span class="comment">// 保存按钮</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">save</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 部门新增按钮</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">addDept</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 先将表单显示出来</span></span><br><span class="line">  dialogFormVisible.<span class="property">value</span> = <span class="literal">true</span>;</span><br><span class="line">  <span class="comment">// 然后将表单标题设置为新增部门</span></span><br><span class="line">  fromTitle.<span class="property">value</span> = <span class="string">&#x27;新增部门&#x27;</span>;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="2-导入消息组件">2. 导入消息组件</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElMessage</span> &#125; <span class="keyword">from</span> <span class="string">&quot;element-plus&quot;</span>;</span><br><span class="line">---</span><br><span class="line"><span class="comment">//导入</span></span><br><span class="line"><span class="keyword">if</span> (result.<span class="property">code</span> ) &#123;</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&quot;添加成功&quot;</span>);</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 关闭对话框</span></span><br><span class="line">    dialogFormVisible.<span class="property">value</span> = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 查询最新数据</span></span><br><span class="line">    <span class="title function_">search</span>();</span><br><span class="line">  &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(result.<span class="property">msg</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h4 id="3-初始代码功能完成未完成表单校验功能">3. 初始代码功能完成(未完成表单校验功能)</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Dialog对话框组件</span></span><br><span class="line"><span class="keyword">const</span> dialogFormVisible = <span class="title function_">ref</span>(<span class="literal">false</span>);</span><br><span class="line"><span class="comment">// 部门名称</span></span><br><span class="line"><span class="keyword">const</span> dept = <span class="title function_">ref</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;&#x27;</span>&#125;);</span><br><span class="line"><span class="comment">// 动态表单标题，当新增时候标题为新增部门，否则为修改部门</span></span><br><span class="line"><span class="keyword">const</span> fromTitle = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line"><span class="comment">// 保存按钮</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">save</span> = <span class="keyword">async</span>(<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 发送请求，保存数据-调用接口，并且将部门数据传入给api接口，然后api在将数据使用post传入后端</span></span><br><span class="line">  <span class="comment">// await 是 await 是一个关键字，用来等待一个 Promise 对象。当发送请求的时候，await 会等待接口返回数据，然后返回数据</span></span><br><span class="line">  <span class="comment">// 否则会直接执行完毕用户看不到交互结果</span></span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title function_">addApi</span>(dept.<span class="property">value</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 做一个判断，如果返回的数据是成功，那么就提示用户，并且将表单清空</span></span><br><span class="line">  <span class="keyword">if</span> (result.<span class="property">code</span> ) &#123;</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&quot;添加成功&quot;</span>);</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 关闭对话框</span></span><br><span class="line">    dialogFormVisible.<span class="property">value</span> = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 查询最新数据</span></span><br><span class="line">    <span class="title function_">search</span>();</span><br><span class="line">  &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(result.<span class="property">msg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 部门新增按钮</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">addDept</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 先将表单显示出来</span></span><br><span class="line">  dialogFormVisible.<span class="property">value</span> = <span class="literal">true</span>;</span><br><span class="line">  <span class="comment">// 然后将表单标题设置为新增部门</span></span><br><span class="line">  fromTitle.<span class="property">value</span> = <span class="string">&#x27;新增部门&#x27;</span>;</span><br><span class="line">  <span class="comment">// 重置表单</span></span><br><span class="line">  dept.<span class="property">value</span> = &#123;<span class="attr">name</span>:<span class="string">&#x27;&#x27;</span>&#125;;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>emm 简单来描述一下吧</p><ul><li>首先我们在Ele上面copy了代码过来，这时候我们是不是要声明这个组件，将值默认设为false（默认关闭的）</li><li>那么我们怎么才能开启这个对话框呢？聪明的你肯定想到了。哎我们在点击新增部门时把对话框显示不就好了</li><li>那么这样我们是不是要在新增部门按钮上添加一个点击方法呀。定义一个新增部门的方法。当用户点击新增部门时将对话框的值设为true(这样就能显示对话框了)</li><li>同时呢我们还需要声明这个部门模块。<code>&lt;el-form :model="dept"&gt;</code></li><li>这时候当我们想要复用dialog表单的话，我们就要将标题设为动态（不再赘述）</li><li>部门名称填写完毕，这时候当我们点击保存按钮是不是要发送数据到后端？</li><li>使用我们就要在api.js里面定义后端方法。定义完成后再引用。</li><li>声明这个保存方法，然后使用<code>await</code>修饰这个方法，并且将我们部门名称这个值作为参数传入后端。当后端返回码为1时，我们就使用导入的消息通知给出提示插入成功，同时关闭对话框。否则给出失败提示（失败提示是后端返回的提示）</li><li>然后需要清空表单</li></ul><h4 id="4-新增优化">4. 新增优化</h4><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/28/6836e6946cb83.png" alt="image-20250528183353157"></p><h5 id="1-效果展示">1. 效果展示</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 表单校验相关</span></span><br><span class="line"><span class="keyword">const</span> rules = <span class="title function_">ref</span>(&#123; </span><br><span class="line">  <span class="attr">name</span>: [</span><br><span class="line">    <span class="comment">// required: true部门名称必填，trigger: &quot;blur&quot; 表示失去焦点时触发校验</span></span><br><span class="line">    &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&quot;请输入部门名称&quot;</span>, <span class="attr">trigger</span>: <span class="string">&quot;blur&quot;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">min</span>: <span class="number">2</span>, <span class="attr">max</span>: <span class="number">10</span>, <span class="attr">message</span>: <span class="string">&quot;长度在 2 到 10 个字符&quot;</span>, <span class="attr">trigger</span>: <span class="string">&quot;blur&quot;</span> &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:model</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">:rules</span>=<span class="string">&quot;rules&quot;</span> &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;部门名称&quot;</span> <span class="attr">:label-width</span>=<span class="string">&quot;80&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>然后指定校验规则，然后将prop设置为里面具体值</p><h5 id="2-表单规则校验拦截">2. 表单规则校验拦截</h5><p>啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊我直接战吼起手…太几把折磨人了</p><p>好的现在我们一起来看一下这个校验规则上一条我们完成了表单校验，不过有个bug，就是虽然页面可以校验但是不能拦截，当我们点击保存时还是可以插入信息。下面我们来解决这个问题</p><ul><li>在表单上挂载<code>ref="deptFormRef"</code></li><li>然后声明这个变量，这样我们就可以对这个表单进行操作了</li><li>当我们表单为空时直接返回</li><li>不为空就调用这个验证规则</li><li>从我的表述中我可以发现我这一块没有听懂</li></ul><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref, onMounted &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; queryAllApi, addApi &#125; <span class="keyword">from</span> <span class="string">&quot;@/api/dept&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; <span class="title class_">ElMessage</span> &#125; <span class="keyword">from</span> <span class="string">&quot;element-plus&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 定义钩子函数，当页面加载完毕就会调用这函数，然后这个函数就会调用serch方法，</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 就会调用链接，将获取的值赋给deptList，然后就在页面显示了</span></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123; <span class="comment">//生命周期</span></span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">search</span>();</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 查询部门列表</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">search</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 注释掉旧代码  </span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">//  const result = await axios.get(&quot;https://m1.apifoxmock.com/m1/6421010-6118327-default/depts&quot;);</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">//  // 如果code为1就显示数据，否则提示错误信息</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">//  if(result.data.code == 1) &#123; //布尔类型</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">//    deptList.value = result.data.data;</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">//  &#125; else &#123;</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">//    this.$message.error(result.data.message);</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">//  &#125;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title function_">queryAllApi</span>();</span></span><br><span class="line"><span class="language-javascript">  deptList.<span class="property">value</span> = result.<span class="property">data</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//定义响应式数据</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> deptList = <span class="title function_">ref</span>([]);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// Dialog对话框组件</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> dialogFormVisible = <span class="title function_">ref</span>(<span class="literal">false</span>);</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 部门名称</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> dept = <span class="title function_">ref</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span> &#125;);</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 动态表单标题，当新增时候标题为新增部门，否则为修改部门</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> fromTitle = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 保存按钮</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">save</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 进行表单校验</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">if</span> (!deptFormRef.<span class="property">value</span>) &#123; <span class="keyword">return</span> &#125;</span></span><br><span class="line"><span class="language-javascript">  deptFormRef.<span class="property">value</span>.<span class="title function_">validate</span>(<span class="title function_">async</span>(valid) =&gt; &#123; <span class="comment">// valid表示是否通过校验</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (valid) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 发送请求，保存数据-调用接口，并且将部门数据传入给api接口，然后api在将数据使用post传入后端</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// await 是 await 是一个关键字，用来等待一个 Promise 对象。当发送请求的时候，await 会等待接口返回数据，然后返回数据</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 否则会直接执行完毕用户看不到交互结果</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title function_">addApi</span>(dept.<span class="property">value</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 做一个判断，如果返回的数据是成功，那么就提示用户，并且将表单清空</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">if</span> (result.<span class="property">code</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&quot;添加成功&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 关闭对话框</span></span></span><br><span class="line"><span class="language-javascript">        dialogFormVisible.<span class="property">value</span> = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 查询最新数据</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">search</span>();</span></span><br><span class="line"><span class="language-javascript">      &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(result.<span class="property">msg</span>);</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&quot;表单校验未通过&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 部门新增按钮</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">addDept</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 先将表单显示出来</span></span></span><br><span class="line"><span class="language-javascript">  dialogFormVisible.<span class="property">value</span> = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 然后将表单标题设置为新增部门</span></span></span><br><span class="line"><span class="language-javascript">  fromTitle.<span class="property">value</span> = <span class="string">&#x27;新增部门&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 重置表单</span></span></span><br><span class="line"><span class="language-javascript">  dept.<span class="property">value</span> = &#123; <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span> &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">//  清空表单校验</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">if</span>(deptFormRef.<span class="property">value</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">    deptFormRef.<span class="property">value</span>.<span class="title function_">resetFields</span>();</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 表单校验相关</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> rules = <span class="title function_">ref</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: [</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// required: true部门名称必填，trigger: &quot;blur&quot; 表示失去焦点时触发校验</span></span></span><br><span class="line"><span class="language-javascript">    &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&quot;请输入部门名称&quot;</span>, <span class="attr">trigger</span>: <span class="string">&quot;blur&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123; <span class="attr">min</span>: <span class="number">2</span>, <span class="attr">max</span>: <span class="number">10</span>, <span class="attr">message</span>: <span class="string">&quot;长度在 2 到 10 个字符&quot;</span>, <span class="attr">trigger</span>: <span class="string">&quot;blur&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">  ],</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 定义响应式对象-用于校验表单数据（不通过不能提交）</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> deptFormRef = <span class="title function_">ref</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>部门管理<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 绑定点击事件，点击按钮，dialogFormVisible被设置为true，即打开对话框 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;addDept&quot;</span>&gt;</span>+新增部门<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 表格区域 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">&quot;deptList&quot;</span> <span class="attr">border</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">type</span>=<span class="string">&quot;index&quot;</span> <span class="attr">label</span>=<span class="string">&quot;序号&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span> <span class="attr">label</span>=<span class="string">&quot;部门名称&quot;</span> <span class="attr">width</span>=<span class="string">&quot;260&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;updateTime&quot;</span> <span class="attr">label</span>=<span class="string">&quot;最后操作时间&quot;</span> <span class="attr">width</span>=<span class="string">&quot;300&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;操作&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">Edit</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>编辑</span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">Delete</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>删除</span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- Dialog对话框组件 --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 为了让修改部门也可以复用这个Dialog，所以要将标题动态绑定，所以要使用插槽,注意这里需要加：插槽的标签是title，所以这里要写title，而不是fromTitle --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-dialog</span> <span class="attr">v-model</span>=<span class="string">&quot;dialogFormVisible&quot;</span> <span class="attr">:title</span>=<span class="string">&quot;fromTitle&quot;</span> <span class="attr">width</span>=<span class="string">&quot;500&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:model</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">:rules</span>=<span class="string">&quot;rules&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;deptFormRef&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- ref=&quot;deptFormRef&quot;通过这个响应式对象我们就能引用到表单数据了 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;部门名称&quot;</span> <span class="attr">:label-width</span>=<span class="string">&quot;80&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;dept.name&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">footer</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dialog-footer&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--@click=&quot;dialogFormVisible = false&quot;是当点击按钮被点击的时候，dialogFormVisible被设置为false，即关闭对话框  --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;dialogFormVisible = false&quot;</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- @click=&quot;save&quot;是当点击按钮被点击的时候，调用save方法，即保存数据 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;save&quot;</span>&gt;</span>确定<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="comment">/* 距离上下10px 左右0px */</span></span></span><br><span class="line"><span class="language-css">  <span class="attribute">margin</span>: <span class="number">20px</span> <span class="number">0px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>完整代码</p><h2 id="五部门管理-修改部门">五、部门管理-修改部门</h2><h3 id="1-页面原型-1">1. 页面原型</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/29/68380bf88c4bd.png" alt="image-20250529152536660"></p><ul><li>点击编辑按钮，根据ID进行查询，弹出对话框，完成页面回显展示。（查询回显)</li><li>点击确定按钮，保存修改后的数据，完成数据更新操作。（保存修改)</li></ul><h3 id="2-分析-查询回显">2. 分析-查询回显</h3><ul><li><p>当我们点击编辑按钮时是不是就要弹Dialog出对话框，那么我们就要先绑定点击事件。调用绑定事件时我们是不是要传数据，将我们部门id传给后端(通过scpore.row就拿到了这一行的数据在.id就拿到了这个id数据)</p></li><li><p>既然我们定义了点击事件我们是不是要声明</p></li><li><p>调用result将参数id传入进去，并且添加判断</p></li><li><p>需要展开对话框，设置标题，回显数据，重置表单校验</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 编辑操作-接收部门id</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">edit</span> = <span class="keyword">async</span> (<span class="params">id</span>)=&gt;&#123;</span><br><span class="line">  <span class="comment">// 这样就调用了api中的根据id查询部门信息的接口</span></span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title function_">queryByIdApi</span>(id);</span><br><span class="line">  <span class="keyword">if</span>(result.<span class="property">code</span>)&#123;</span><br><span class="line">    <span class="comment">// 展示对话框</span></span><br><span class="line">    dialogFormVisible.<span class="property">value</span> = <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">// 设置表单标题为编辑部门</span></span><br><span class="line">    fromTitle.<span class="property">value</span> = <span class="string">&#x27;编辑部门&#x27;</span>;</span><br><span class="line">    <span class="comment">// 将部门数据设置给dept对象（将数据回显到表单输入框中）</span></span><br><span class="line">    dept.<span class="property">value</span> = result.<span class="property">data</span>;</span><br><span class="line">    <span class="comment">// 重置表单校验</span></span><br><span class="line">    <span class="keyword">if</span>(deptFormRef.<span class="property">value</span>)&#123;</span><br><span class="line">      deptFormRef.<span class="property">value</span>.<span class="title function_">resetFields</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="3-分析-修改">3. 分析-修改</h3><p>当我们修改点击Dialog对话框确定时是不是要保存我们修改的信息。那么我们是不是要在确定按钮上添加点击事件。这时候就发现 我们已经在确定按钮上绑定点击事件了。那么什么时候我们需要修改方法，什么时候我们需要保存方法呢？就是当我们页面中有这个数据那我们就用修改方法，当页面没有这个数据就为保存方法</p><p>基于这个思路我们就要修改保存按钮中的代码</p><p>具体代码</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">save</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 进行表单校验</span></span><br><span class="line">  <span class="keyword">if</span> (!deptFormRef.<span class="property">value</span>) &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">  deptFormRef.<span class="property">value</span>.<span class="title function_">validate</span>(<span class="title function_">async</span>(valid) =&gt; &#123; <span class="comment">// valid表示是否通过校验</span></span><br><span class="line">    <span class="keyword">if</span> (valid) &#123;</span><br><span class="line">      <span class="comment">// 发送请求，保存数据-调用接口，并且将部门数据传入给api接口，然后api在将数据使用post传入后端</span></span><br><span class="line">      <span class="comment">// await 是 await 是一个关键字，用来等待一个 Promise 对象。当发送请求的时候，await 会等待接口返回数据，然后返回数据</span></span><br><span class="line">      <span class="comment">// 否则会直接执行完毕用户看不到交互结果</span></span><br><span class="line">      </span><br><span class="line">      <span class="keyword">let</span> result;<span class="comment">// const不允许修改</span></span><br><span class="line">      <span class="comment">// 添加保存与修改的校验，如果id存在，那么就是修改，否则就是新增</span></span><br><span class="line">      <span class="keyword">if</span> (dept.<span class="property">value</span>.<span class="property">id</span>)&#123; <span class="comment">// 修改</span></span><br><span class="line">       result= <span class="keyword">await</span> <span class="title function_">updateApi</span>(dept.<span class="property">value</span>);</span><br><span class="line"></span><br><span class="line">      &#125;<span class="keyword">else</span>&#123; <span class="comment">// 新增</span></span><br><span class="line">       result = <span class="keyword">await</span> <span class="title function_">addApi</span>(dept.<span class="property">value</span>);</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 做一个判断，如果返回的数据是成功，那么就提示用户，并且将表单清空</span></span><br><span class="line">      <span class="keyword">if</span> (result.<span class="property">code</span>) &#123;</span><br><span class="line">        <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&quot;添加成功&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 关闭对话框</span></span><br><span class="line">        dialogFormVisible.<span class="property">value</span> = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 查询最新数据</span></span><br><span class="line">        <span class="title function_">search</span>();</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(result.<span class="property">msg</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&quot;表单校验未通过&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>对比 <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/29/6838257c1f850.png" alt="image-20250529171435405"></p><p>就是根据这个id进行判断，然后调用不同的api</p><p>学到了</p><h2 id="六部门管理-删除部门">六、部门管理-删除部门</h2><h3 id="1-页面原型-2">1. 页面原型</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/05/29/68382803aa8a2.png" alt="image-20250529172523041"></p><h3 id="2-具体思路代码">2. 具体思路代码</h3><p>删除时我们前端是要给出信息提示是否真的删除，当点击确定时调用api中的删除api，向后端发送删除信息即可（我的前端后端还感觉好混乱，我写前端还在想是咋在前端写的删除功能😵）</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 删除操作</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">delById</span> = <span class="keyword">async</span> (<span class="params">id</span>)=&gt;&#123;</span><br><span class="line">  <span class="comment">// 弹框提示用户是否删除</span></span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title class_">ElMessageBox</span>.<span class="title function_">confirm</span>(<span class="string">&#x27;此操作将永久删除该部门, 是否继续?&#x27;</span>, <span class="string">&#x27;提示&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">confirmButtonText</span>: <span class="string">&#x27;确定&#x27;</span>,</span><br><span class="line">    <span class="attr">cancelButtonText</span>: <span class="string">&#x27;取消&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;warning&#x27;</span>,</span><br><span class="line">  &#125;).<span class="title function_">then</span>(<span class="title function_">async</span>() =&gt; &#123; <span class="comment">// 确认</span></span><br><span class="line">    <span class="comment">// 删除</span></span><br><span class="line">    <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title function_">deleteApi</span>(id);</span><br><span class="line">   <span class="comment">// 如果删除成功，就提示用户删除成功，并且将dept</span></span><br><span class="line">   <span class="keyword">if</span>(result.<span class="property">code</span>)&#123; <span class="comment">//如果删除成功给出信息，并且刷新页面</span></span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&#x27;删除成功&#x27;</span>);</span><br><span class="line">    <span class="title function_">search</span>();</span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;<span class="comment">//删除失败给出信息</span></span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(result.<span class="property">msg</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">  &#125;).<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123; <span class="comment">// 取消</span></span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">info</span>(<span class="string">&#x27;已取消删除&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>给删除按钮绑定点击事件，要通过scope获取这一行的id。</p><p>然后就是一些信息提示代码。仔细查看就会明白了，这里不再赘述</p><h2 id="七员工管理-员工查询">七、员工管理-员工查询</h2><h3 id="1页面原型">1.页面原型</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/01/683b9d7596e31.png" alt="image-20250601082308695"></p><h3 id="2-接口文档">2. 接口文档</h3><p>请求参数</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/01/683b9e74ce924.png" alt="image-20250601082731925"></p><p>响应数据</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/01/683b9e974e4bf.png" alt="image-20250601082806444"></p><h3 id="3-搜索栏制作">3. 搜索栏制作</h3><h4 id="1-基础页面设置">1. 基础页面设置</h4><details class="folding-tag" red><summary>遇到的错误: 性别不显示</summary><div class="content"><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/01/683c1b372cc1d.png" alt="image-20250601171950560"></p><p>当我第一次测试代码时我发现我的性别框无法显示</p><p>奶奶的，找了好长时间为啥，然后发现把官网下面的CSS代码拷过来就解决了</p><p>烤嫩羊！</p></div></details><div class="note info no-icon flat"><p>注意时间要规定格式 value-format=“YYYY-MM-DD”</p></div><p>整体流程就是抄代码</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 搜索表单对象-根据姓名，年龄，日期查询</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> searchEmp = <span class="title function_">ref</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>, <span class="attr">gender</span>: <span class="literal">undefined</span>, <span class="attr">date</span>: [] &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 查询员工列表的函数</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">search</span> = (<span class="params"></span>) =&gt;&#123;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 清空函数</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">clear</span> = (<span class="params"></span>) =&gt;&#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 将表单值置为空，然后再重新查询一次</span></span></span><br><span class="line"><span class="language-javascript">  searchEmp.<span class="property">value</span>=&#123;<span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>, <span class="attr">gender</span>: <span class="literal">undefined</span>, <span class="attr">date</span>: []&#125;;</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">search</span>();</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>员工管理<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 制作搜索表单 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 上栏搜索框 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:inline</span>=<span class="string">&quot;true&quot;</span> <span class="attr">:model</span>=<span class="string">&quot;searchEmp&quot;</span> <span class="attr">class</span>=<span class="string">&quot;demo-form-inline&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;searchEmp.name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入员工姓名&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;性别&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;searchEmp.gender&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请选择男女&quot;</span> &gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;男&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;女&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;入职时间&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-date-picker</span> <span class="attr">v-model</span>=<span class="string">&quot;searchEmp.date&quot;</span> <span class="attr">type</span>=<span class="string">&quot;daterange&quot;</span> <span class="attr">range-separator</span>=<span class="string">&quot;到&quot;</span> <span class="attr">start-placeholder</span>=<span class="string">&quot;开始日期&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">end-placeholder</span>=<span class="string">&quot;结束日期&quot;</span> <span class="attr">:size</span>=<span class="string">&quot;size&quot;</span> <span class="attr">value-format</span>=<span class="string">&quot;YYYY-MM-DD&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;search&quot;</span>&gt;</span>查询<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;clear&quot;</span>&gt;</span>清空<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.demo-form-inline</span> <span class="selector-class">.el-input</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attr">--el-input-width</span>: <span class="number">180px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.demo-form-inline</span> <span class="selector-class">.el-select</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attr">--el-select-width</span>: <span class="number">180px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">margin</span>: <span class="number">15px</span> <span class="number">0px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-优化data数据块事件监听">2. 优化data数据块（事件监听）</h4><p>上一模块中，我们完成了页面的基本功能。不过还有一个功能需要解决，就是我们接口文档中的开始时间结束时间为begin和end，而我们的对象中定义的为数组。我们该怎么把data中的数组中的值给变成begin和end</p><p><strong>方案一</strong>：当点击查询按钮时，获取数组中的值，将第一个赋值给begin，第二个赋值给end</p><p><strong>方案二</strong>：在对象中增加两个属性（begin，end）。如果data数组中的数值发生变化（初始为null）就将第一个值给begin，第二个给end</p><details class="folding-tag" blue><summary>知识点：Watch监听</summary><div class="content"><p>作用:侦听一个或多个响应式<strong>数据源</strong>，并在数据源变化时调用传入的<strong>回调函数</strong>。</p><p>用法:</p><ul><li>导入watch函数</li><li>执行watch函数，传入要侦听的响应式数据源（ref对象）和回调函数;</li></ul><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/01/683c284e2af5e.png" alt="image-20250601181541922"></p><p>第一个参数为数据源，第二个参数就是回调函数，回调函数可以传递两个值</p><p>第一个参数<code>newVal</code>代表响应式数据变化前的数据，第二个<code>oldVal</code>代表变化之后的值</p><p>那么这样我们就可以通过watch监听，来监听响应式数据a的变化。一旦a发生变化就会调用后面的函数</p><ul><li>2 监听所有属性变化</li></ul><p>当我们要监听对象的全部属性时可以使用深度监听在方法末尾添加,{deep:true}</p><p>表示对象的任意属性变化都会执行后面的函数</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/01/683c454fc9518.png" alt="image-20250601201926124"></p><ul><li>3 监听单个对象</li></ul><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/01/683c485f66cdf.png" alt="image-20250601203231403"></p></div></details><h5 id="使用watch监听函数监听日期">使用watch监听函数监听日期</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// -------------watch监听----------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听data属性</span></span><br><span class="line"><span class="title function_">watch</span>(<span class="function">()=&gt;</span>searchEmp.<span class="property">value</span>.<span class="property">date</span>,<span class="function">(<span class="params">newVal,oldVal</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(newVal.<span class="property">length</span> == <span class="number">2</span>)&#123;</span><br><span class="line">    searchEmp.<span class="property">value</span>.<span class="property">begin</span>=newVal[<span class="number">0</span>];</span><br><span class="line">    searchEmp.<span class="property">value</span>.<span class="property">end</span>=newVal[<span class="number">1</span>];</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    searchEmp.<span class="property">value</span>.<span class="property">begin</span>=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    searchEmp.<span class="property">value</span>.<span class="property">end</span>=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>监听单个对象：监听serchEmp的值里面的数据，当里面数据发生变化时newVal就会被调用</p><p>那么当日期发生变化时我们的newVal就会变化。那么就将newVal里面的第一个值给begin，第二个给newVal</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/01/683c4c46a591f.png" alt="image-20250601204910251"></p><p>这样我们的开始结束就获取到了值</p><h3 id="4表单制作详细版">4.表单制作（详细版）</h3><blockquote><p>为了让我下次写表单时有个参考，这里我会写的很详细</p></blockquote><ol type="1"><li>第一步：在官网找到表单项下载源码拷贝到代码里，最好包裹一个div里面</li></ol><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 表格区域 --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">&quot;tableData&quot;</span> <span class="attr">border</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;date&quot;</span> <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span> <span class="attr">width</span>=<span class="string">&quot;180&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span> <span class="attr">label</span>=<span class="string">&quot;&quot;</span> <span class="attr">width</span>=<span class="string">&quot;180&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;address&quot;</span> <span class="attr">label</span>=<span class="string">&quot;Address&quot;</span> <span class="attr">width</span>=<span class="string">&quot;180&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;address&quot;</span> <span class="attr">label</span>=<span class="string">&quot;Address&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>初始代码长这样</p><ol start="2" type="1"><li>第二步：table里面的data里面的<code>tableData</code>代表表格数据来源。那么我们这里就声明一个empList，代表表格的数据来源。那么这里就将data里面的数据改一改名字。然后去声明对象。这里要考虑：因为要传多个值，所以要声明数组，然后去查看接口文档看看具体是哪些的值</li></ol><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/01/683c56a16f2ad.png" alt="image-20250601213320967"></p><p>根据这个文档我们来定义数组函数，将需要的值作为参数(里面的值在后面要删除，这里只是示例用于测试的数据，后面查询时需要将里面替换为后端传入到数据)</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 员工列表数据</span></span><br><span class="line"><span class="keyword">const</span> empList=<span class="title function_">ref</span>([</span><br><span class="line">  &#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="string">&quot;username&quot;</span>: <span class="string">&quot;string&quot;</span>,</span><br><span class="line">        <span class="string">&quot;password&quot;</span>: <span class="string">&quot;string&quot;</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;string&quot;</span>,</span><br><span class="line">        <span class="string">&quot;gender&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="string">&quot;job&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="string">&quot;salary&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="string">&quot;image&quot;</span>: <span class="string">&quot;string&quot;</span>,</span><br><span class="line">        <span class="string">&quot;entryDate&quot;</span>: <span class="string">&quot;2019-08-24&quot;</span>,</span><br><span class="line">        <span class="string">&quot;deptId&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="string">&quot;deptName&quot;</span>: <span class="string">&quot;string&quot;</span>,</span><br><span class="line">        <span class="string">&quot;createTime&quot;</span>: <span class="string">&quot;2019-08-24T14:15:22.123Z&quot;</span>,</span><br><span class="line">        <span class="string">&quot;updateTime&quot;</span>: <span class="string">&quot;2019-08-24T14:15:22.123Z&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">])</span><br></pre></td></tr></table></figure><ol start="3" type="1"><li><p>然后根据参数我们去完善表格的列元素</p><p>prop是元素名称，label是表格名称。必要时要使用自定义表格。使用<code>align="center"</code>让元素居中显示。</p><p>删除修改按钮使用的是自定义列表</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 表格区域 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">&quot;empList&quot;</span> <span class="attr">border</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span> <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span> <span class="attr">width</span>=<span class="string">&quot;120&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">label</span>=<span class="string">&quot;性别&quot;</span> <span class="attr">width</span>=<span class="string">&quot;120&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;image&quot;</span> <span class="attr">label</span>=<span class="string">&quot;头像&quot;</span> <span class="attr">width</span>=<span class="string">&quot;120&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;deptName&quot;</span> <span class="attr">label</span>=<span class="string">&quot;所属部门&quot;</span> <span class="attr">width</span>=<span class="string">&quot;120&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;job&quot;</span> <span class="attr">label</span>=<span class="string">&quot;职位&quot;</span> <span class="attr">width</span>=<span class="string">&quot;120&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;entryDate&quot;</span> <span class="attr">label</span>=<span class="string">&quot;入职日期&quot;</span> <span class="attr">width</span>=<span class="string">&quot;180&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;updateTime&quot;</span> <span class="attr">label</span>=<span class="string">&quot;最后操作时间&quot;</span> <span class="attr">width</span>=<span class="string">&quot;200&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;操作&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Edit</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>编辑<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Delete</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>删除</span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/02/683d16469aa19.png" alt="image-20250602111053403"></p></li><li><p>在表头添加复选框</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">type</span>=<span class="string">&quot;selection&quot;</span> <span class="attr">width</span>=<span class="string">&quot;55&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>使用自定义列模板优化性别展示框</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span>  <span class="attr">label</span>=<span class="string">&quot;性别&quot;</span> <span class="attr">width</span>=<span class="string">&quot;120&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">       &#123;&#123; scope.row.gender ==1?&#x27;男&#x27;:&#x27;女&#x27;&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br></pre></td></tr></table></figure><p>使用<code>scope.row</code>获取一行中的性别，当等于1时显示男，否则显示女</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/02/683d1ca3acdd5.png" alt="image-20250602113810005"></p></li><li><p>使用自定义列模板完善图像处理</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span>  <span class="attr">label</span>=<span class="string">&quot;头像&quot;</span> <span class="attr">width</span>=<span class="string">&quot;120&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;scope.row.image&quot;</span> <span class="attr">height</span>=<span class="string">&quot;40px&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br></pre></td></tr></table></figure><p>使用<code>img</code>标签，然后别忘了添加高度，不然会很大</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/02/683d1e371394e.png" alt="image-20250602114453082"></p></li><li><p>使用自定义模板定义职位</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;job&quot;</span> <span class="attr">label</span>=<span class="string">&quot;职位&quot;</span> <span class="attr">width</span>=<span class="string">&quot;120&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">&quot;scope.row.job==1&quot;</span>&gt;</span>班主任<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else-if</span>=<span class="string">&quot;scope.row.job==2&quot;</span>&gt;</span>班主任<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else-if</span>=<span class="string">&quot;scope.row.job==3&quot;</span>&gt;</span>学工主管<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else-if</span>=<span class="string">&quot;scope.row.job==4&quot;</span>&gt;</span>教研主管<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else-if</span>=<span class="string">&quot;scope.row.job==5&quot;</span>&gt;</span>咨询师<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else</span>&gt;</span>其他<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/02/683d21a592998.png" alt="image-20250602115931820"></p></li></ol><h3 id="5-分页条制作">5. 分页条制作</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 下方分页条 --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-pagination</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model:current-page</span>=<span class="string">&quot;currentPage&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model:page-size</span>=<span class="string">&quot;pageSize&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:page-sizes</span>=<span class="string">&quot;[5,10, 20, 30, 50,75,100]&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:background</span>=<span class="string">&quot;background&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">layout</span>=<span class="string">&quot;total, sizes, prev, pager, next, jumper&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:total</span>=<span class="string">&quot;total&quot;</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">size-change</span>=<span class="string">&quot;handleSizeChange&quot;</span> </span></span><br><span class="line"><span class="tag">      @<span class="attr">current-change</span>=<span class="string">&quot;handleCurrentChange&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 分页操作相关数据模型</span></span><br><span class="line"><span class="keyword">const</span> currentPage = <span class="title function_">ref</span>(<span class="number">1</span>) <span class="comment">// 页码</span></span><br><span class="line"><span class="keyword">const</span> pageSize = <span class="title function_">ref</span>(<span class="number">10</span>) <span class="comment">// 默认每页展示的记录数</span></span><br><span class="line"><span class="keyword">const</span> background = <span class="title function_">ref</span>(<span class="literal">true</span>) <span class="comment">//背景色（是否）</span></span><br><span class="line"><span class="keyword">const</span> total =<span class="title function_">ref</span>(<span class="number">0</span>) <span class="comment">// 总记录数-后端传入的</span></span><br><span class="line"><span class="comment">// 每页展示记录数发生变化时会触发</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleSizeChange</span> = (<span class="params">val</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`每页展示<span class="subst">$&#123;val&#125;</span>条记录 `</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 页码发生变化时会触发</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleCurrentChange</span> = (<span class="params">val</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`当前页码: <span class="subst">$&#123;val&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这样我们的页面布局就完成了</p><h3 id="6-列表查询">6. 列表查询</h3><h4 id="1-查询功能页面分析">1. 查询功能页面分析</h4><p>我们要实现查询就要先分析有哪些功能需要查询</p><p>首先进入页面需要查询，根据条件进行查询，清空时需要查询，每页记录数时需要查询页码切换时需要查询</p><h4 id="2-功能书写">2. 功能书写</h4><ol type="1"><li><p>我们要写查询功能时是不是要向后端传输请求。那么我们就要定义api了是不是。那么打开api文件夹新建<code>emp.js</code>的api,在里面来写查询相关请求。根据请求参数模板来定义请求方式</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/02/683d375970655.png" alt="image-20250602133207916"></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 导入封装好的axios实例（包含基础配置和响应拦截器）</span></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&quot;@/utils/request&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 查询员工列表数据</span></span><br><span class="line"><span class="comment">// 定义分页查询-那么我们要传递条件以及分页参数</span></span><br><span class="line"><span class="comment">// 请求示例/emps?name=张&amp;gender=1&amp;begin=2007-09-e1&amp;end=2022-09-e1&amp;page=1&amp;pageSize=10</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">queryPageApi</span> =(<span class="params">name,gender,begin,end,page,pageSize</span>)=&gt; </span><br><span class="line">    request.<span class="title function_">get</span>(<span class="string">`/emps?name=<span class="subst">$&#123;name&#125;</span>&amp;gender=<span class="subst">$&#123;gender&#125;</span>&amp;begin=<span class="subst">$&#123;begin&#125;</span>&amp;end=<span class="subst">$&#123;end&#125;</span>&amp;page=<span class="subst">$&#123;page&#125;</span>&amp;pageSize=<span class="subst">$&#123;pageSize&#125;</span>`</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 新增员工</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 根据id查询部门信息</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  修改部门信息</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除部门信息</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>定义完请求之后需要在<code>index.vue</code>里面引用</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span>&#123;queryPageApi&#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/emp&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>查询员工方法</p><p>引用之后我们就要在声明search方法。在search方法里面声明一个result方法，使用await来修饰，并且将参数声明进去，将表单里面的数据传入请求路径中</p><p>当返回值结果为200时：我们要将返回值结果中的数据传入到表格对象的值里面去。并且我们还需要将分页相关的功能动态传入分页相关内容中去</p><p>最后将声明的empList里面的数据删除掉即可</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 查询员工列表的函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">search</span> = <span class="keyword">async</span>(<span class="params"></span>) =&gt; &#123;</span><br><span class="line">   <span class="keyword">const</span> result =<span class="keyword">await</span> <span class="title function_">queryPageApi</span>(searchEmp.<span class="property">value</span>.<span class="property">name</span>,searchEmp.<span class="property">value</span>.<span class="property">gender</span>,</span><br><span class="line">                         searchEmp.<span class="property">value</span>.<span class="property">begin</span>,searchEmp.<span class="property">value</span>.<span class="property">end</span>,currentPage.<span class="property">value</span>,pageSize.<span class="property">value</span>);</span><br><span class="line">  <span class="keyword">if</span>(result.<span class="property">code</span>)&#123;</span><br><span class="line">    empList.<span class="property">value</span>=result.<span class="property">data</span>.<span class="property">rows</span>;</span><br><span class="line">    total.<span class="property">value</span>=result.<span class="property">data</span>.<span class="property">total</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 员工列表数据</span></span><br><span class="line"><span class="keyword">const</span> empList = <span class="title function_">ref</span>([])</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/02/683d69b0a7df5.png" alt="image-20250602170654354"></p></li><li><p>声明钩子函数，这样在页面加载完毕时就会自动触发搜索</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 钩子函数</span></span><br><span class="line"><span class="title function_">onMounted</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="title function_">search</span>();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>在页面与记录数发生变化时查询数据</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 每页展示记录数发生变化时会触发</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleSizeChange</span> = (<span class="params">val</span>) =&gt; &#123;</span><br><span class="line">  <span class="title function_">search</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 页码发生变化时会触发</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleCurrentChange</span> = (<span class="params">val</span>) =&gt; &#123;</span><br><span class="line">  <span class="title function_">search</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这样查询功能基本没有问题了</p></li></ol><h2 id="八-员工管理-新增员工">八、 员工管理-新增员工</h2><h3 id="1-页面布局">1. 页面布局</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/02/683d6f2f72053.png" alt="image-20250602173022378"></p><h3 id="2-接口文档-1">2. 接口文档</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/02/683d6f785a45d.png" alt="image-20250602173133916"></p><p>请求方式为post，路径为<code>/emps</code></p><h3 id="3-dialog-对话框">3. Dialog 对话框</h3><h4 id="1-页面基本布局">1. 页面基本布局</h4><p>新增员工的对话框与修改员工的对话框可以共用</p><p>这里老师选择Copy准备好的代码，为了锻炼自己我决定自己敲一下</p><details class="folding-tag" green><summary>手敲对话框历程</summary><div class="content"><p>折磨自己干啥，我是大傻逼，我再也不装逼手敲了</p></div></details><p>我抄我抄我抄</p><p>完整代码示例</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//新增/修改表单</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> employee = <span class="title function_">ref</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">username</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">gender</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">phone</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">job</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">salary</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">deptId</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">entryDate</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">image</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">exprList</span>: []</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 控制弹窗</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> dialogVisible = <span class="title function_">ref</span>(<span class="literal">false</span>)</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> dialogTitle = <span class="title function_">ref</span>(<span class="string">&#x27;新增员工&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript"><span class="comment">//文件上传</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 图片上传成功后触发</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">handleAvatarSuccess</span> = (<span class="params">response</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 文件上传之前触发</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">beforeAvatarUpload</span> = (<span class="params">rawFile</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">if</span> (rawFile.<span class="property">type</span> !== <span class="string">&#x27;image/jpeg&#x27;</span> &amp;&amp; rawFile.<span class="property">type</span> !== <span class="string">&#x27;image/png&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&#x27;只支持上传图片&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (rawFile.<span class="property">size</span> / <span class="number">1024</span> / <span class="number">1024</span> &gt; <span class="number">10</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&#x27;只能上传10M以内图片&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">return</span> <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ...... 省略 ...... --&gt;</span></span><br><span class="line">   </span><br><span class="line">  <span class="comment">&lt;!-- 新增/修改员工的对话框 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-dialog</span> <span class="attr">v-model</span>=<span class="string">&quot;dialogVisible&quot;</span> <span class="attr">:title</span>=<span class="string">&quot;dialogTitle&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:model</span>=<span class="string">&quot;employee&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;80px&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 基本信息 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 第一行 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-row</span> <span class="attr">:gutter</span>=<span class="string">&quot;20&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;用户名&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;employee.username&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入员工用户名，2-20个字&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">           </span><br><span class="line">          <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;employee.name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入员工姓名，2-10个字&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">        <span class="comment">&lt;!-- 第二行 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-row</span> <span class="attr">:gutter</span>=<span class="string">&quot;20&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;性别&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;employee.gender&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请选择性别&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%;&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;男&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;女&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">          <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;手机号&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;employee.phone&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入员工手机号&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">        <span class="comment">&lt;!-- 第三行 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-row</span> <span class="attr">:gutter</span>=<span class="string">&quot;20&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;职位&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;employee.job&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请选择职位&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%;&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;班主任&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;讲师&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;学工主管&quot;</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;教研主管&quot;</span> <span class="attr">value</span>=<span class="string">&quot;4&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;咨询师&quot;</span> <span class="attr">value</span>=<span class="string">&quot;5&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;薪资&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;employee.salary&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入员工薪资&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">        <span class="comment">&lt;!-- 第四行 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-row</span> <span class="attr">:gutter</span>=<span class="string">&quot;20&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;所属部门&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;employee.deptId&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请选择部门&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%;&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;研发部&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;市场部&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;入职日期&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-date-picker</span> <span class="attr">v-model</span>=<span class="string">&quot;employee.entryDate&quot;</span> <span class="attr">type</span>=<span class="string">&quot;date&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%;&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;选择日期&quot;</span> <span class="attr">format</span>=<span class="string">&quot;YYYY-MM-DD&quot;</span> <span class="attr">value-format</span>=<span class="string">&quot;YYYY-MM-DD&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-date-picker</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">        <span class="comment">&lt;!-- 第五行 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-row</span> <span class="attr">:gutter</span>=<span class="string">&quot;20&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;24&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;头像&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-upload</span></span></span><br><span class="line"><span class="tag">                <span class="attr">class</span>=<span class="string">&quot;avatar-uploader&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">action</span>=<span class="string">&quot;/api/upload&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">:show-file-list</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">:on-success</span>=<span class="string">&quot;handleAvatarSuccess&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">:before-upload</span>=<span class="string">&quot;beforeAvatarUpload&quot;</span></span></span><br><span class="line"><span class="tag">                &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-if</span>=<span class="string">&quot;employee.image&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;employee.image&quot;</span> <span class="attr">class</span>=<span class="string">&quot;avatar&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-icon</span> <span class="attr">v-else</span> <span class="attr">class</span>=<span class="string">&quot;avatar-uploader-icon&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">Plus</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line">         </span><br><span class="line"> </span><br><span class="line">        <span class="comment">&lt;!-- 工作经历 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 第六行 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-row</span> <span class="attr">:gutter</span>=<span class="string">&quot;10&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;24&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;工作经历&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;&quot;</span>&gt;</span>+ 添加工作经历<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line">         </span><br><span class="line">        <span class="comment">&lt;!-- 第七行 ...  工作经历 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-row</span> <span class="attr">:gutter</span>=<span class="string">&quot;3&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;10&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">label</span>=<span class="string">&quot;时间&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;80px&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-date-picker</span> <span class="attr">type</span>=<span class="string">&quot;daterange&quot;</span> <span class="attr">range-separator</span>=<span class="string">&quot;至&quot;</span> <span class="attr">start-placeholder</span>=<span class="string">&quot;开始日期&quot;</span> <span class="attr">end-placeholder</span>=<span class="string">&quot;结束日期&quot;</span> <span class="attr">format</span>=<span class="string">&quot;YYYY-MM-DD&quot;</span> <span class="attr">value-format</span>=<span class="string">&quot;YYYY-MM-DD&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">el-date-picker</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">          <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;6&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">label</span>=<span class="string">&quot;公司&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;60px&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入公司名称&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">          <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;6&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">label</span>=<span class="string">&quot;职位&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;60px&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入职位&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">          <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;0px&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> &gt;</span>- 删除<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">       </span><br><span class="line">      <span class="comment">&lt;!-- 底部按钮 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">template</span> #<span class="attr">footer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;dialog-footer&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;dialogVisible = false&quot;</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;&quot;</span>&gt;</span>保存<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.avatar</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">height</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.avatar-uploader</span> <span class="selector-class">.avatar</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">width</span>: <span class="number">78px</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">height</span>: <span class="number">78px</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.avatar-uploader</span> <span class="selector-class">.el-upload</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">border</span>: <span class="number">1px</span> dashed <span class="built_in">var</span>(--el-border-color);</span></span><br><span class="line"><span class="language-css">  <span class="attribute">border-radius</span>: <span class="number">6px</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">transition</span>: <span class="built_in">var</span>(--el-transition-duration-fast);</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"> </span></span><br><span class="line"><span class="language-css"><span class="selector-class">.avatar-uploader</span> <span class="selector-class">.el-upload</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">border-color</span>: <span class="built_in">var</span>(--el-color-primary);</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"> </span></span><br><span class="line"><span class="language-css"><span class="selector-class">.el-icon</span><span class="selector-class">.avatar-uploader-icon</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">font-size</span>: <span class="number">28px</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">color</span>: <span class="number">#8c939d</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">width</span>: <span class="number">78px</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">height</span>: <span class="number">78px</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">  <span class="comment">/* 添加灰色的虚线边框 */</span></span></span><br><span class="line"><span class="language-css">  <span class="attribute">border</span>: <span class="number">1px</span> dashed <span class="built_in">var</span>(--el-border-color);</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>这样我们的对话框组件就完成了</p><h4 id="2-显示对话框">2. 显示对话框</h4><p>完成了我们的表单项目是不是要当点击添加员工时要显示对话框</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 声明添加员工的箭头函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">addEmp</span> =  (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">  dialogVisible.<span class="property">value</span>=<span class="literal">true</span>;</span><br><span class="line">  dialogTitle.<span class="property">value</span>=<span class="string">&#x27;新增员工&#x27;</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;el-button type=<span class="string">&quot;primary&quot;</span> @click=<span class="string">&quot;addEmp&quot;</span>&gt;+新增员工&lt;/el-button&gt;</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/03/683e5eb8024a0.png" alt="image-20250603103213889"></p><h4 id="3表单解析">3.表单解析</h4><blockquote><p>一行里面是怎么只显示两列的</p></blockquote><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 第一行 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-row</span> <span class="attr">:gutter</span>=<span class="string">&quot;20&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;用户名&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;employee.username&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入员工用户名，2-20个字&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;employee.name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入员工姓名，2-10个字&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br></pre></td></tr></table></figure><p>使用<code>el-row</code>布局方式，代表一行，里面有两个<code>el-col</code>代表有两列</p><p><code>el-col :span="12"</code>代表一行所占的宽度。总计为<code>24</code>块。这里的两个代表是一行2个</p><p><code>gutter="20"</code>代表分栏间隔</p><h3 id="4页面布局优化性别职位所属部门">4.页面布局优化（性别，职位，所属部门）</h3><blockquote><p>性别，职位，所属部门这些都不应该是页面写死的，性别与职位可以单独定义出来，所属部门由后端传入。</p><p>性别与职位是规定死的，而所属部门是动态的可以通过添加部门动态添加），因此部门相关要在后端处理</p></blockquote><h5 id="1-性别与职位">1. 性别与职位</h5><blockquote><p>在<code>index.vue</code>中定义性别与职位的元数据</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// --------元数据相关----------</span></span><br><span class="line"><span class="comment">//职位列表数据</span></span><br><span class="line"><span class="keyword">const</span> jobs = <span class="title function_">ref</span>([&#123; <span class="attr">name</span>: <span class="string">&#x27;班主任&#x27;</span>, <span class="attr">value</span>: <span class="number">1</span> &#125;,&#123; <span class="attr">name</span>: <span class="string">&#x27;讲师&#x27;</span>, <span class="attr">value</span>: <span class="number">2</span> &#125;,&#123; <span class="attr">name</span>: <span class="string">&#x27;学工主管&#x27;</span>, <span class="attr">value</span>: <span class="number">3</span> &#125;,&#123; <span class="attr">name</span>: <span class="string">&#x27;教研主管&#x27;</span>, <span class="attr">value</span>: <span class="number">4</span> &#125;,&#123; <span class="attr">name</span>: <span class="string">&#x27;咨询师&#x27;</span>, <span class="attr">value</span>: <span class="number">5</span> &#125;,&#123; <span class="attr">name</span>: <span class="string">&#x27;其他&#x27;</span>, <span class="attr">value</span>: <span class="number">6</span> &#125;])</span><br><span class="line"><span class="comment">//性别列表数据</span></span><br><span class="line"><span class="keyword">const</span> genders = <span class="title function_">ref</span>([&#123; <span class="attr">name</span>: <span class="string">&#x27;男&#x27;</span>, <span class="attr">value</span>: <span class="number">1</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">&#x27;女&#x27;</span>, <span class="attr">value</span>: <span class="number">2</span> &#125;])</span><br><span class="line"><span class="comment">// --------元数据结束--------</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/03/683e6fcf4a491.png" alt="image-20250603114516663"></p><blockquote><p>然后修改之前的定义，改为使用v-for进行动态查找。这样当我们需要添加性别与职位时就可以在表头进行修改了</p></blockquote><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 第二行 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-row</span> <span class="attr">:gutter</span>=<span class="string">&quot;20&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;性别&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;employee.gender&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请选择性别&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">v-for</span>=<span class="string">&quot;g in genders&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;g.value&quot;</span> <span class="attr">:label</span>=<span class="string">&quot;g.name&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;g.value&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;职位&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;employee.job&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请选择职位&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">v-for</span>=<span class="string">&quot;j in jobs&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;j.value&quot;</span> <span class="attr">:label</span>=<span class="string">&quot;j.name&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;j.value&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br></pre></td></tr></table></figure><p>使用v-for来遍历我们上面的对象</p><p><code>v-for="j in jobs"</code>: j就是变量名称 in jobs就是对象名称</p><p><code>:key="j.value"</code> 注意这里要加：号，进行动态绑定，将jobs的value作为唯一标识</p><p><code>:label="j.name"</code> 动态绑定具体是那个名字 。对应&lt;el-option label=“研发部” value=“1”&gt;</p><p><code>:value="j.value"</code> 动态绑定他们的值。 对应&lt;el-option label=“研发部” value=“1”&gt;</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/03/683e783d6251c.png" alt="image-20250603122112852"></p><p>正常回显，没有问题啦🐻‍❄️🐻‍❄️</p><h5 id="2-所属部门动态优化">2. 所属部门动态优化</h5><blockquote><p>部门与部门管理的部门内容会向关联，那么什么时候需要展示呢？ 当我们点击编辑和新增时都需要展示部门，因此可以在页面加载时就加载部门。那么就在钩子函数中定义查询部门数据</p></blockquote><ol type="1"><li><p>查询所有部门数据首先要声明一个部门数组，便于我们后面的引用</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 查询所有部门功能</span></span><br><span class="line"><span class="keyword">const</span> depts =<span class="title function_">ref</span>([]);</span><br></pre></td></tr></table></figure></li><li><p>既然要查询所有部门是不是要导入查询部门的API。这里的名称会与员工查询向混淆，所以起了别名</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import &#123; queryAllApi as queryAllDeptApi &#125; from &#x27;@/api/dept&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>导入进来了我们肯定要用啊是不是，那么就声明一个查询所有部门的函数方法。调用api查询出结果，然后将结果给我们上面声明函数</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 查询所有部门数据</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">queryAllDepts</span> = <span class="keyword">async</span>(<span class="params"></span>) =&gt;&#123;</span><br><span class="line">  <span class="keyword">const</span> result=<span class="keyword">await</span> <span class="title function_">queryAllDeptApi</span>();</span><br><span class="line">  <span class="keyword">if</span>(result.<span class="property">code</span>)&#123;</span><br><span class="line">    depts.<span class="property">value</span>=result.<span class="property">data</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>然后就要在钩子函数中引用</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 钩子函数</span></span><br><span class="line"><span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 查询员工列表数据</span></span><br><span class="line">  <span class="title function_">search</span>();</span><br><span class="line"></span><br><span class="line"> <span class="comment">// 查询所有部门数据</span></span><br><span class="line">  <span class="title function_">queryAllDepts</span>();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>最后使用for循环遍历</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;el-select v-model=<span class="string">&quot;employee.deptId&quot;</span> placeholder=<span class="string">&quot;请选择部门&quot;</span> style=<span class="string">&quot;width: 100%;&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">el-option</span> <span class="attr">v-for</span>=<span class="string">&quot;d in depts&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;d.id&quot;</span>  <span class="attr">:label</span>=<span class="string">&quot;d.name&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;d.id&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span></span><br><span class="line">&lt;/el-select&gt;</span><br></pre></td></tr></table></figure><p>这里的id和name参照接口文档</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/03/683e828dcff88.png" alt="image-20250603130515355"></p></li><li><p>最终页面显示</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/03/683e82a59518c.png" alt="image-20250603130538985"></p></li></ol><h3 id="5-图片上传相关">5. 图片上传相关</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;el-row :gutter=<span class="string">&quot;20&quot;</span>&gt;</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;24&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;头像&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">el-upload</span> <span class="attr">class</span>=<span class="string">&quot;avatar-uploader&quot;</span> <span class="attr">action</span>=<span class="string">&quot;/api/upload&quot;</span> <span class="attr">:show-file-list</span>=<span class="string">&quot;false&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">:on-success</span>=<span class="string">&quot;handleAvatarSuccess&quot;</span> <span class="attr">:before-upload</span>=<span class="string">&quot;beforeAvatarUpload&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-if</span>=<span class="string">&quot;employee.image&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;employee.image&quot;</span> <span class="attr">class</span>=<span class="string">&quot;avatar&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">el-icon</span> <span class="attr">v-else</span> <span class="attr">class</span>=<span class="string">&quot;avatar-uploader-icon&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">Plus</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line">      &lt;/el-row&gt;</span><br></pre></td></tr></table></figure><p><code>class="avatar-uploader"</code>给一个class属性，方便我们属性css的相关</p><p><code>action="/api/upload"</code> 我们在上传文件时要调用的那个接口，请求地址</p><p><code>:show-file-list="false"</code>是否展示已经上传的文件列表</p><p><code>:on-success="handleAvatarSuccess"</code> 文件上传成功调用的函数方法</p><p><code>:before-upload="beforeAvatarUpload"</code>文件上传之前要调用的函数（检查格式与大小是否符合要求）</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//文件上传</span></span><br><span class="line"><span class="comment">// 图片上传成功后触发</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleAvatarSuccess</span> = (<span class="params">response</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 文件上传之前触发</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">beforeAvatarUpload</span> = (<span class="params">rawFile</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (rawFile.<span class="property">type</span> !== <span class="string">&#x27;image/jpeg&#x27;</span> &amp;&amp; rawFile.<span class="property">type</span> !== <span class="string">&#x27;image/png&#x27;</span>) &#123;</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&#x27;只支持上传图片&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (rawFile.<span class="property">size</span> / <span class="number">1024</span> / <span class="number">1024</span> &gt; <span class="number">10</span>) &#123;</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&#x27;只能上传10M以内图片&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>校验了文件类型是不是图片，不是就返回错误信息。然后查看文件大小是否小于10M，然后阻止上传</p><h5 id="头像回显逻辑">头像回显逻辑</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;img v-<span class="keyword">if</span>=<span class="string">&quot;employee.image&quot;</span> :src=<span class="string">&quot;employee.image&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;avatar&quot;</span> /&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">el-icon</span> <span class="attr">v-else</span> <span class="attr">class</span>=<span class="string">&quot;avatar-uploader-icon&quot;</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>这里先做一个判断<code>v-if="employee.image"</code>里面有没有值呢？有就展示图片，没有就展示一个+号的图标</p><p>那么我们该如何回显图片呢？我们只需要将我们上传图片的URL传给image属性值就可以了</p><p>那么我们就在文件上传成功时把URL给image属性即可</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 图片上传成功后触发</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleAvatarSuccess</span> = (<span class="params">response</span>) =&gt; &#123;</span><br><span class="line">  employee.<span class="property">value</span>.<span class="property">image</span>=response.<span class="property">data</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里的<code>response.data;</code>为啥就是图像路径呢，可能与系统设计的有关。返回的就是一个URL</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/03/683eeb881ff4b.png" alt="image-20250603203300769"></p><h3 id="6-工作经历的页面交互">6. 工作经历的页面交互</h3><h4 id="1-页面原型-3">1. 页面原型</h4><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/03/683ef0bcbf818.png" alt="image-20250603205520481"></p><p>当点击新增按钮时会往<code>exprList[]</code>数组中新增一条数据。</p><p>当点击删除按钮时会在<code>exprList[]</code>数组中删除一条数据</p><p>vue是基于数据驱动视图展示的</p><h4 id="2-实现思路">2. 实现思路</h4><ol type="1"><li><p>既然我们要点击添加工作经历就新增一个表格那么我们是不是需要绑定一个点击事件</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;el-row :gutter=<span class="string">&quot;10&quot;</span>&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;24&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;工作经历&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;addExprItem&quot;</span>&gt;</span>+ 添加工作经历<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line">&lt;/el-row&gt;</span><br></pre></td></tr></table></figure></li><li><p>绑定完点击事件然后就要去声明</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// -------------添加工作经历相关-----------</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">addExprItem</span> =(<span class="params"></span>)=&gt;&#123;</span><br><span class="line">  <span class="comment">// 为数组添加元素数据</span></span><br><span class="line">  employee.<span class="property">value</span>.<span class="property">exprList</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">    <span class="attr">company</span>:<span class="string">&#x27;&#x27;</span>,<span class="attr">job</span>:<span class="string">&#x27;&#x27;</span>,<span class="attr">begin</span>:<span class="string">&#x27;&#x27;</span>,<span class="attr">end</span>:<span class="string">&#x27;&#x27;</span>,<span class="attr">exprDate</span>:[]</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>声明一个点击事件，点击新增按钮是就调用<code>employee</code>对象里面的值中的<code>exprList</code>然后使用<code>push</code>函数就可以新增数据了。</p><p>这里面要放公式，职位，开始时间，结束时间，以及一个时间数组</p><p>欸？这时候就要问了，这个时间数组是干嘛的？？</p><p>我们页面中的开始时间和结束时间使用的是一个范围日期选择器。所以这个返回时间会存放进那个时间数组。然后就要使用我们的<code>watch</code>监听事件去监听数组变化，在将数组中的值传入开始时间结束时间里面去</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/03/683ef5c364c07.png" alt="image-20250603211647019"></p><p>哇可以了耶。</p></li><li><p>页面新增添加工作经历表格</p><p>既然我们已经成功可以添加员工工作经历了，那么我们该如何让页面回显呢？</p><p>嘿嘿我们使用一个for循环不就好啦。循环遍历这个数组元素然后回显到页面上</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;!-- 第七行 ...  工作经历 --&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-row</span> <span class="attr">:gutter</span>=<span class="string">&quot;3&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;expr in employee.exprList&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;10&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">label</span>=<span class="string">&quot;时间&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;80px&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-date-picker</span> <span class="attr">type</span>=<span class="string">&quot;daterange&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;expr.exprDate&quot;</span> <span class="attr">range-separator</span>=<span class="string">&quot;至&quot;</span> <span class="attr">start-placeholder</span>=<span class="string">&quot;开始日期&quot;</span> <span class="attr">end-placeholder</span>=<span class="string">&quot;结束日期&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">format</span>=<span class="string">&quot;YYYY-MM-DD&quot;</span> <span class="attr">value-format</span>=<span class="string">&quot;YYYY-MM-DD&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-date-picker</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;6&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">label</span>=<span class="string">&quot;公司&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;60px&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入公司名称&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;expr.company&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;6&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">label</span>=<span class="string">&quot;职位&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;60px&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入职位&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;expr.job&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;0px&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span>&gt;</span>- 删除<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span></span><br><span class="line">&lt;/el-form&gt;</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/03/683ef942f2daf.png" alt="image-20250603213140053"></p><p>在工作经历上添加for循环，循环遍历数组。使用<code>v-model</code>来绑定数据</p></li><li><p>删除功能</p><p>当我们点击某一个按钮时就要删除某一条工作经历</p><p>所以我们要先往删除按钮上绑定点击事件</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;el-form-item size=<span class="string">&quot;small&quot;</span> label-width=<span class="string">&quot;0px&quot;</span>&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;delExprItem&quot;</span>&gt;</span>- 删除<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line">&lt;/el-form-item&gt;</span><br></pre></td></tr></table></figure><p>那我们怎么样才能指定某一条进行删除呢？</p><p>我们可以在调用这个函数时将当前的索引传递过去。那我们这么样才能获取到这个数据呢</p><p>我们可以根据v-for来获取当前索引，当我们遍历时拿到这个索引，在删除时将索引传递给删除按钮</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 第七行 ...  工作经历 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-row</span> <span class="attr">:gutter</span>=<span class="string">&quot;3&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;(expr,index) in employee.exprList&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;10&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">label</span>=<span class="string">&quot;时间&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;80px&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-date-picker</span> <span class="attr">type</span>=<span class="string">&quot;daterange&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;expr.exprDate&quot;</span> <span class="attr">range-separator</span>=<span class="string">&quot;至&quot;</span> <span class="attr">start-placeholder</span>=<span class="string">&quot;开始日期&quot;</span> <span class="attr">end-placeholder</span>=<span class="string">&quot;结束日期&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">format</span>=<span class="string">&quot;YYYY-MM-DD&quot;</span> <span class="attr">value-format</span>=<span class="string">&quot;YYYY-MM-DD&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-date-picker</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;6&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">label</span>=<span class="string">&quot;公司&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;60px&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入公司名称&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;expr.company&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;6&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">label</span>=<span class="string">&quot;职位&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;60px&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入职位&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;expr.job&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;0px&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;delExprItem(index)&quot;</span>&gt;</span>- 删除<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 底部按钮 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> #<span class="attr">footer</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;dialog-footer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;dialogVisible = false&quot;</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;&quot;</span>&gt;</span>保存<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span><br></pre></td></tr></table></figure><p>重点看绑定的<code>index</code></p><p>然后我们声明函数，根据索引进行删除</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 删除工作经历</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">delExprItem</span> = (<span class="params">index</span>) =&gt; &#123;</span><br><span class="line">  employee.<span class="property">value</span>.<span class="property">exprList</span>.<span class="title function_">splice</span>(index,<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后就能实现功能了，前端太麻烦了😫😫😫</p></li><li><p>使用Watch监听绑定开始与结束时间</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 监听employee员工对象中的工作经历信息将值传给开始与结束时间</span></span><br><span class="line"><span class="title function_">watch</span>(<span class="function">() =&gt;</span>employee.<span class="property">value</span>.<span class="property">exprList</span>,<span class="function">(<span class="params">newVal,oldVal</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(employee.<span class="property">value</span>.<span class="property">exprList</span> &amp;&amp; employee.<span class="property">value</span>.<span class="property">exprList</span>.<span class="property">length</span>&gt;<span class="number">0</span>)&#123;</span><br><span class="line">   employee.<span class="property">value</span>.<span class="property">exprList</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">expr</span>) =&gt;</span>&#123;</span><br><span class="line">    expr.<span class="property">begin</span>=expr.<span class="property">exprDate</span>[<span class="number">0</span>];</span><br><span class="line">    expr.<span class="property">end</span>=expr.<span class="property">exprDate</span>[<span class="number">1</span>];</span><br><span class="line">   &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,&#123;<span class="attr">deep</span>:<span class="literal">true</span>&#125;) <span class="comment">// 深度监听</span></span><br></pre></td></tr></table></figure><p>这里使用watch监听函数，首先要指明监听的是哪个对象，我们要监听employee的员工数组对象，然后声明数组变化时的值。</p><p>当我们的数组中有值，并且值大于1时我们需要监听数组</p><p>使用forEach循环遍历数组，定义变量名称，然后将数组里面的第一个值给开始时间，第二个给结束时间</p><p>这里最关键的是要使用深度监听，如果直接监听数组只有数组的引用发生变化才会生效，这里当数组里面内容发生变化都需要监听，因此要使用深度监听</p></li></ol><h3 id="7-保存员工">7. 保存员工</h3><h4 id="1-页面分析-1">1. 页面分析</h4><ol type="1"><li>当点击提交按钮时向后端发送异步请求，将参数传入后端来保存数据</li><li>保存成功要给出提示信息。然后关闭当前对话框</li><li>重新查询列表数据</li><li>保存失败给出对应的错误信息</li></ol><h4 id="2-功能开发">2. 功能开发</h4><ol type="1"><li><p>首先在<code>api/js</code>文件中说明添加操作的请求，然后在<code>index</code>中引用</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">addApi</span> = (<span class="params">emp</span>) =&gt; request.<span class="title function_">post</span>(<span class="string">&#x27;/emps&#x27;</span>, emp);</span><br></pre></td></tr></table></figure></li><li><p>在保存按钮上添加点击事件</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;span <span class="keyword">class</span>=<span class="string">&quot;dialog-footer&quot;</span>&gt;</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;dialogVisible = false&quot;</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;save&quot;</span>&gt;</span>保存<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line">      &lt;/span&gt;</span><br></pre></td></tr></table></figure></li><li><p>然后去声明这个按钮。调用api当返回值为200说明插入成功了，然后发送信息关闭对话框重新搜索</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//-------保存员工相关--------</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">save</span>= <span class="keyword">async</span>(<span class="params"></span>) =&gt;&#123;</span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title function_">addApi</span>(employee.<span class="property">value</span>);</span><br><span class="line">  <span class="keyword">if</span>(result.<span class="property">code</span>)&#123;</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&quot;保存成功&quot;</span>);</span><br><span class="line">    dialogVisible.<span class="property">value</span>=<span class="literal">false</span>;</span><br><span class="line">    <span class="title function_">search</span>();</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(result.<span class="property">msg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>插入成功</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/04/683f9b2ba28a7.png" alt="image-20250604090222231"></p></li><li><p>哎 这时候又有一个bug，当我们已经新增完毕用户了，但是用户的信息还在表单里面</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/04/683f9b9bd6db0.png" alt="image-20250604090421609"></p></li><li><p>解决</p><p>当点击新增员工时将之前的数据全部置为空</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 声明添加员工的箭头函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">addEmp</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  dialogVisible.<span class="property">value</span> = <span class="literal">true</span>;</span><br><span class="line">  dialogTitle.<span class="property">value</span> = <span class="string">&#x27;新增员工&#x27;</span>;</span><br><span class="line">  employee.<span class="property">value</span>=&#123;</span><br><span class="line">  <span class="attr">username</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">gender</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">phone</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">job</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">salary</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">deptId</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">entryDate</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">image</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">exprList</span>: []</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>添加表单验证规则</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/04/683fa31083c1a.png" alt="image-20250604093605566"></p><ul><li><p>首先在<code>el-form</code>表单项上添加<code>:rules="reles"</code>的表单绑定项，然后在具体的<code>el-form-item</code>使用<code>prop</code>绑定名称</p><p>示例：</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;el-form :model=<span class="string">&quot;employee&quot;</span> label-width=<span class="string">&quot;80px&quot;</span> :rules=<span class="string">&quot;rules&quot;</span> &gt;</span><br><span class="line">      &lt;!-- 基本信息 --&gt;</span><br><span class="line">      &lt;!-- 第一行 --&gt;</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">el-row</span> <span class="attr">:gutter</span>=<span class="string">&quot;20&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;用户名&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;employee.username&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入员工用户名，2-20个字&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li><li><p>然后去声明这个对象在里面添加校验规则</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//-------表单校验相关-------</span></span><br><span class="line"><span class="keyword">const</span> rules = <span class="title function_">ref</span>(&#123;</span><br><span class="line">  <span class="attr">username</span>: [</span><br><span class="line">    &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入用户名&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">min</span>: <span class="number">2</span>, <span class="attr">max</span>: <span class="number">20</span>, <span class="attr">message</span>: <span class="string">&#x27;用户名长度应在2到20个字符之间&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">name</span>: [</span><br><span class="line">    &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入姓名&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">min</span>: <span class="number">2</span>, <span class="attr">max</span>: <span class="number">10</span>, <span class="attr">message</span>: <span class="string">&#x27;姓名长度应在2到10个字符之间&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">gender</span>: [</span><br><span class="line">    &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请选择性别&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;change&#x27;</span> &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">phone</span>: [</span><br><span class="line">    &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入手机号&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">pattern</span>: <span class="regexp">/^1[3-9]\d&#123;9&#125;$/</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入有效的手机号&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>这时候会发现我们表单校验虽然校验了但是没有实现，因此还需要再提交表单时进行校验</p><p>声明一个表单引用对象</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 表单验证的响应式对象</span></span><br><span class="line"><span class="keyword">const</span> empFromRef =<span class="title function_">ref</span>();</span><br></pre></td></tr></table></figure><p>然后再<code>el-form</code>进行引用</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;el-form :model=<span class="string">&quot;employee&quot;</span> label-width=<span class="string">&quot;80px&quot;</span> :rules=<span class="string">&quot;rules&quot;</span> ref=<span class="string">&quot;empFromRef&quot;</span>&gt;</span><br></pre></td></tr></table></figure><p>这样我们就可以通过这个响应式对象来操作表单对象了</p></li><li><p>重新修改保存员工的代码，添加表单校验信息，校验通过才可以执行添加代码</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//-------保存员工相关--------</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">save</span>= <span class="keyword">async</span>(<span class="params"></span>) =&gt;&#123;</span><br><span class="line">  <span class="comment">// 表单校验-只有通过了才可以执行下面的代码</span></span><br><span class="line">  <span class="keyword">if</span>(!empFromRef.<span class="property">value</span>) <span class="keyword">return</span>;</span><br><span class="line">  empFromRef.<span class="property">value</span>.<span class="title function_">validate</span>(<span class="title function_">async</span> (valid) =&gt;&#123; <span class="comment">// valid标识是否通过：true通过/false不通过</span></span><br><span class="line">   <span class="keyword">if</span>(valid)&#123; <span class="comment">// 通过</span></span><br><span class="line">    <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title function_">addApi</span>(employee.<span class="property">value</span>);</span><br><span class="line">    <span class="keyword">if</span>(result.<span class="property">code</span>)&#123;</span><br><span class="line">      <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&quot;保存成功&quot;</span>);</span><br><span class="line">      dialogVisible.<span class="property">value</span>=<span class="literal">false</span>;</span><br><span class="line">      <span class="title function_">search</span>();</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(result.<span class="property">msg</span>);</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;<span class="keyword">else</span>&#123; <span class="comment">//不通过</span></span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&#x27;表单校验不通过&#x27;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>最后一步：当重新添加时需要清空表单校验规则</p><p>修改添加员工的相关代码，添加清空表单校验规则代码</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 声明添加员工的箭头函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">addEmp</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  dialogVisible.<span class="property">value</span> = <span class="literal">true</span>;</span><br><span class="line">  dialogTitle.<span class="property">value</span> = <span class="string">&#x27;新增员工&#x27;</span>;</span><br><span class="line">  employee.<span class="property">value</span>=&#123;</span><br><span class="line">  <span class="attr">username</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">gender</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">phone</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">job</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">salary</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">deptId</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">entryDate</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">image</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">exprList</span>: []</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 重置表单校验规则</span></span><br><span class="line"><span class="keyword">if</span>(empFromRef.<span class="property">value</span>)&#123;</span><br><span class="line">  empFromRef.<span class="property">value</span>.<span class="title function_">resetFields</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ol><h2 id="九修改员工">九、修改员工</h2><h3 id="1-页面原型-4">1. 页面原型</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/04/683fafa014d0a.png" alt="image-20250604102946823"></p><h3 id="2-查询回显功能">2. 查询回显功能</h3><blockquote><p>为编辑按钮绑定点击事件</p><p>发送异步请求，根据id查询员工的详细信息，页面进行回显</p></blockquote><ol type="1"><li><p>在<code>api/js</code>里面添加异步请求的相关数据，然后在<code>index</code>里面引用</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 根据id查询部门信息</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">queryInfoApi</span> = (<span class="params">id</span>) =&gt; request.<span class="title function_">get</span>(<span class="string">`/emps/<span class="subst">$&#123;id&#125;</span>`</span>);</span><br></pre></td></tr></table></figure></li><li><p>为编辑按钮绑定点击事件</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;edit(scope.row.id)&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Edit</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span>编辑<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>然后使用<code>scope.row.id</code>获取这一行的id，并且作为参数传入点击事件</p></li><li><p>声明这个点击函数</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ------根据id查询员工信息相关-----</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">edit</span> =<span class="keyword">async</span>(<span class="params">id</span>) =&gt;&#123;</span><br><span class="line"> <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title function_">queryInfoApi</span>(id);</span><br><span class="line"> <span class="keyword">if</span>(result.<span class="property">code</span>)&#123;</span><br><span class="line">  dialogVisible.<span class="property">value</span>=<span class="literal">true</span>;</span><br><span class="line">  dialogTitle.<span class="property">value</span>=<span class="string">&#x27;修改员工&#x27;</span>;</span><br><span class="line">  employee.<span class="property">value</span>=result.<span class="property">data</span>;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当我们点击按钮是将<code>id</code>作为参数，而后调用查询api，将结果封装在result结果里面。当返回值为200就打开对话框，将标题改为修改员工，然后将结果集中的数据作为参数进行回显</p></li><li><p>回显失败错误</p><details class="folding-tag"><summary>问题出现背景</summary><div class="content"><p>当我在页面点击编辑按钮时不会弹出对话框，反而报了错误 index.vue:161 Uncaught (in promise) TypeError: Cannot read properties of undefined (reading ‘0’) at index.vue:161:29 at watch.deep (index.vue:160:28)</p><p>但是前端可以正确发送请求，我的后端控制台也有正确的数据返回</p></div></details><details class="folding-tag" red><summary>问题解析</summary><div class="content"><ol type="1"><li><p>当点击“编辑”按钮时，会调用 edit 函数。</p></li><li><p>edit 函数从后端API (queryInfoApi) 获取员工数据，并将其赋值给 employee.value。</p></li><li><p>后端返回的员工数据中，工作经历 (exprList) 里的每个条目包含 begin 和 end 日期，但不包含前端日期选择器所绑定的 exprDate 数组。</p></li><li><p>将后端数据直接赋值给 employee.value 后，exprList 中的条目没有 exprDate 属性。</p></li><li><p>此时，侦听 employee.value.exprList 的 watch 回调被触发。</p></li><li><p>在这个 watch 回调中，代码尝试通过 expr.exprDate[0] 和 expr.exprDate[1] 来更新 expr.begin 和 expr.end。但由于此时 expr.exprDate 是 undefined，访问 expr.exprDate[0] 就会导致报错，对话框也因此无法弹出。</p></li></ol></div></details><details class="folding-tag" green><summary>问题修改</summary><div class="content"><ol type="1"><li><p>修改 edit 函数：在从后端获取到员工数据后，但在将其赋值给 employee.value 之前，我们需要遍历 exprList (如果存在)，并根据每个工作经历条目的 begin 和 end 属性来初始化其对应的 exprDate 数组。同时，要确保 exprList 本身如果从后端返回为 null 或 undefined，会被正确处理为一个空数组。</p></li><li><p>修改 exprList 的侦听器：使其更健壮，能处理 expr.exprDate 可能不是一个包含两个元素的数组的情况（例如，当用户清空日期选择器或新添加一条工作经历时，exprDate 可能是空数组 []）。</p></li></ol></div></details></li><li><p>解决完错误后的代码</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ------根据id查询员工信息相关-----</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">edit</span> =<span class="keyword">async</span>(<span class="params">id</span>) =&gt;&#123;</span><br><span class="line"> <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title function_">queryInfoApi</span>(id);</span><br><span class="line"> <span class="keyword">if</span>(result.<span class="property">code</span>)&#123;</span><br><span class="line">  dialogVisible.<span class="property">value</span>=<span class="literal">true</span>;</span><br><span class="line">  dialogTitle.<span class="property">value</span>=<span class="string">&#x27;修改员工&#x27;</span>;</span><br><span class="line">  employee.<span class="property">value</span>=result.<span class="property">data</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 对工作经历进行处理</span></span><br><span class="line">  <span class="keyword">let</span> exprList= employee.<span class="property">value</span>.<span class="property">exprList</span>;</span><br><span class="line">  <span class="keyword">if</span>(exprList &amp;&amp; exprList.<span class="property">length</span>&gt;<span class="number">0</span>)&#123;</span><br><span class="line">    exprList.<span class="title function_">forEach</span>(<span class="function">(<span class="params">expr</span>) =&gt;</span>&#123;</span><br><span class="line">      expr.<span class="property">exprDate</span>=[expr.<span class="property">begin</span>,expr.<span class="property">end</span>];</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>奶奶的，找了半个小时的错误结果老师后面又讲了。</p><p>这里对工作经历进行处理，获取到工作经历的值，然后进行遍历，将开始时间结束时间封装在<code>exprDate</code>里面去，这个时间段数据就可以在页面回显出来了</p></li><li><p>页面显示</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/04/683fbe1c2b386.png" alt="image-20250604113134418"></p></li></ol><h3 id="3-点击保存修改员工数据">3. 点击保存修改员工数据</h3><p>我们的新增员工与修改员工复用的是同一个对话框，那么当我们新增员工时或修改员工时怎么才能区分不同的操作呢？</p><p>当有员工id时就为修改，没有就新增</p><ol type="1"><li><p>在<code>api</code>中定义更新员工信息的异步请求</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  修改部门信息</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">updateApi</span> = (<span class="params">emp</span>) =&gt; request.<span class="title function_">put</span>(<span class="string">&#x27;/emps&#x27;</span>, emp);</span><br></pre></td></tr></table></figure><p>当将我们整个emp对象都要传入后端进行修改，然后在index里面引用</p></li><li><p>代码逻辑</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//-------保存员工相关--------</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">save</span>= <span class="keyword">async</span>(<span class="params"></span>) =&gt;&#123;</span><br><span class="line">  <span class="comment">// 表单校验-只有通过了才可以执行下面的代码</span></span><br><span class="line">  <span class="keyword">if</span>(!empFromRef.<span class="property">value</span>) <span class="keyword">return</span>;</span><br><span class="line">  empFromRef.<span class="property">value</span>.<span class="title function_">validate</span>(<span class="title function_">async</span> (valid) =&gt;&#123; <span class="comment">// valid标识是否通过：true通过/false不通过</span></span><br><span class="line">   <span class="keyword">if</span>(valid)&#123; <span class="comment">// 通过</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> result;</span><br><span class="line">    <span class="keyword">if</span>(employee.<span class="property">value</span>.<span class="property">id</span>)&#123;</span><br><span class="line">    result = <span class="keyword">await</span> <span class="title function_">updateApi</span>(employee.<span class="property">value</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    result = <span class="keyword">await</span> <span class="title function_">addApi</span>(employee.<span class="property">value</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(result.<span class="property">code</span>)&#123;</span><br><span class="line">      <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&quot;保存成功&quot;</span>);</span><br><span class="line">      dialogVisible.<span class="property">value</span>=<span class="literal">false</span>;</span><br><span class="line">      <span class="title function_">search</span>();</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(result.<span class="property">msg</span>);</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;<span class="keyword">else</span>&#123; <span class="comment">//不通过</span></span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&#x27;表单校验不通过&#x27;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当我们点击按钮时会去判断有没有id，如果有就执行更新，没有就执行添加。同时需要将<code>result</code>由变量变为常量</p></li></ol><h2 id="十删除功能">十、删除功能</h2><h3 id="1-删除单个员工">1. 删除单个员工</h3><h4 id="1-页面原型-5">1. 页面原型</h4><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/04/683fc9d845e31.png" alt="image-20250604122139036"></p><h4 id="2-api设计">2. api设计</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 删除部门信息</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">deleteApi</span> = (<span class="params">ids</span>) =&gt; request.<span class="title function_">delete</span>(<span class="string">`/emps?ids=<span class="subst">$&#123;ids&#125;</span>`</span>);</span><br></pre></td></tr></table></figure><h4 id="3-为删除按钮绑定点击事件">3. 为删除按钮绑定点击事件</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ------删除员工相关-----</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">deleteById</span> = <span class="keyword">async</span>(<span class="params">id</span>) =&gt;&#123;</span><br><span class="line">  <span class="title class_">ElMessageBox</span>.<span class="title function_">confirm</span>(<span class="string">&#x27;此操作将永久删除该员工, 是否继续?&#x27;</span>, <span class="string">&#x27;提示&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">confirmButtonText</span>: <span class="string">&#x27;确定&#x27;</span>,</span><br><span class="line">    <span class="attr">cancelButtonText</span>: <span class="string">&#x27;取消&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;warning&#x27;</span>,</span><br><span class="line">  &#125;).<span class="title function_">then</span>(<span class="title function_">async</span>() =&gt; &#123;</span><br><span class="line">    <span class="comment">// 删除</span></span><br><span class="line">    <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title function_">deleteApi</span>(id);</span><br><span class="line">    <span class="keyword">if</span> (result.<span class="property">code</span>) &#123;</span><br><span class="line">      <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&#x27;删除成功&#x27;</span>);</span><br><span class="line">      <span class="title function_">search</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(result.<span class="property">msg</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-批量删除">2. 批量删除</h3><h4 id="1-页面分析-2">1. 页面分析</h4><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/04/683fc9d845e31.png" alt="image-20250604122139036.png"></p><ul><li>为表格的复选框绑定事件，点击复选框之后，获取到目前选中的条件的id(多个id可以封装到数组中）。</li><li>为“批量删除”按钮绑定事件，发送异步请求到服务端，根据id批量删除员工信息。</li></ul><h4 id="2-代码设计">2. 代码设计</h4><ol type="1"><li>参照官方文档需要在<code>form</code> 表单上绑定</li></ol><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;el-table :data=<span class="string">&quot;empList&quot;</span> border style=<span class="string">&quot;width: 100%&quot;</span> @selection-change=<span class="string">&quot;handleSelectionChange&quot;</span>&gt;</span><br></pre></td></tr></table></figure><p>这个函数代表当复选框发生变化时就触发</p><ol start="2" type="1"><li><p>然后去声明这个函数</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 批量删除员工</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleSelectionChange</span> = (<span class="params">selection</span>) =&gt; &#123;<span class="comment">// selection代表当前选中的员工数据记录</span></span><br><span class="line">  selectedIds.<span class="property">value</span> = selection.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">id</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>为批量删除按钮绑定事件</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 记录勾选的员工id</span></span><br><span class="line"><span class="keyword">const</span> selectedIds = <span class="title function_">ref</span>([]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 批量删除员工</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleSelectionChange</span> = (<span class="params">selection</span>) =&gt; &#123;<span class="comment">// selection代表当前选中的员工数据记录</span></span><br><span class="line">  selectedIds.<span class="property">value</span> = selection.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">id</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 批量删除</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">deleteByIds</span>  = (<span class="params"></span>) =&gt;&#123; </span><br><span class="line"><span class="title class_">ElMessageBox</span>.<span class="title function_">confirm</span>(<span class="string">&#x27;此操作将永久删除该员工, 是否继续?&#x27;</span>, <span class="string">&#x27;提示&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">confirmButtonText</span>: <span class="string">&#x27;确定&#x27;</span>,</span><br><span class="line">    <span class="attr">cancelButtonText</span>: <span class="string">&#x27;取消&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;warning&#x27;</span>,</span><br><span class="line">  &#125;).<span class="title function_">then</span>(<span class="title function_">async</span>() =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(selectedIds.<span class="property">value</span> &amp;&amp; selectedIds.<span class="property">value</span>.<span class="property">length</span>&gt;<span class="number">0</span>)&#123;</span><br><span class="line">      <span class="comment">// 删除</span></span><br><span class="line">    <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title function_">deleteApi</span>(selectedIds.<span class="property">value</span>);</span><br><span class="line">    <span class="keyword">if</span> (result.<span class="property">code</span>) &#123;</span><br><span class="line">      <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&#x27;删除成功&#x27;</span>);</span><br><span class="line">      <span class="title function_">search</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(result.<span class="property">msg</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&quot;请选择要删除的员工&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">  &#125;).<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">info</span>(<span class="string">&#x27;已取消删除&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="十一-员工登录">十一、 员工登录</h2><h3 id="1-页面原型-6">1. 页面原型</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/04/683fdc264d83a.png" alt="image-20250604133945257"></p><h3 id="2-准备工作">2. 准备工作</h3><p>在<code>api/</code>目录下新建<code>login.js</code>里面存放与登录有关的请求</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 登录相关</span></span><br><span class="line"><span class="comment">// 导入封装好的axios实例（包含基础配置和响应拦截器）</span></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&quot;@/utils/request&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 登录接口</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">loginApi</span> = (<span class="params">data</span>) =&gt;request.<span class="title function_">post</span>(<span class="string">&quot;/login&quot;</span>,data);</span><br></pre></td></tr></table></figure><p>并且在index中引用</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; loginApi &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/login&#x27;</span></span></span><br><span class="line"><span class="language-javascript">  </span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> loginForm = <span class="title function_">ref</span>(&#123;<span class="attr">username</span>:<span class="string">&#x27;&#x27;</span>, <span class="attr">password</span>:<span class="string">&#x27;&#x27;</span>&#125;)</span></span><br><span class="line"><span class="language-javascript">  </span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;login-form&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">label-width</span>=<span class="string">&quot;80px&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>Tlias智能学习辅助系统<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;用户名&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;loginForm.username&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入用户名&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;密码&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;loginForm.password&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入密码&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;&quot;</span>&gt;</span>登 录<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;&quot;</span>&gt;</span>重 置<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-id">#container</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">padding</span>: <span class="number">10%</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">height</span>: <span class="number">410px</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;../../assets/bg1.jpg&#x27;</span>);</span></span><br><span class="line"><span class="language-css">  <span class="attribute">background-repeat</span>: no-repeat;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">background-size</span>: cover;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.login-form</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">max-width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">padding</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#e0e0e0</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span>);</span></span><br><span class="line"><span class="language-css">  <span class="attribute">background-color</span>: white;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.title</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">font-size</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">font-family</span>: <span class="string">&#x27;楷体&#x27;</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">margin-bottom</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">font-weight</span>: bold;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.button</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">margin-top</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">width</span>: <span class="number">120px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-初始登录功能">3. 初始登录功能</h3><p>当我们点击登录按钮时需要进行登录，点击重置按钮可以重置，因此首先要为他们绑定点击事件</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">  <span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line">  <span class="keyword">import</span> &#123; loginApi &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/login&#x27;</span></span><br><span class="line">  <span class="keyword">import</span> &#123; <span class="title class_">ElMessage</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span>;</span><br><span class="line">  <span class="keyword">import</span> &#123; useRouter &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> loginForm = <span class="title function_">ref</span>(&#123;<span class="attr">username</span>:<span class="string">&#x27;&#x27;</span>, <span class="attr">password</span>:<span class="string">&#x27;&#x27;</span>&#125;)</span><br><span class="line">  <span class="keyword">const</span> router = <span class="title function_">useRouter</span>();</span><br><span class="line">  <span class="comment">// 登录</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">login</span> = <span class="keyword">async</span>(<span class="params"></span>) =&gt;&#123; </span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title function_">loginApi</span>(loginForm.<span class="property">value</span>);</span><br><span class="line">  <span class="keyword">if</span>(result.<span class="property">code</span>)&#123;</span><br><span class="line">    <span class="comment">// 1. 提示登录成功</span></span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&quot;登录成功&quot;</span>);</span><br><span class="line">    <span class="comment">// 2. 跳转到首页</span></span><br><span class="line">    router.<span class="title function_">push</span>(<span class="string">&#x27;/index&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(result.<span class="property">msg</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">  <span class="comment">// 重置</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">clear</span> = (<span class="params"></span>) =&gt;&#123; </span><br><span class="line">    loginForm.<span class="property">value</span>.<span class="property">username</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    loginForm.<span class="property">value</span>.<span class="property">password</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>这里要使用<code>useRouter</code>进行跳转</p><h3 id="4存储登录token">4.存储登录token</h3><h4 id="1-localstorage">1. localStorage</h4><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/04/683fe223bb76c.png" alt="image-20250604140517700"></p><h4 id="2-将用户返回到token存储在浏览器中">2. 将用户返回到token存储在浏览器中</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;loginUser&#x27;</span>,<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(result.<span class="property">data</span>));</span><br></pre></td></tr></table></figure><p><code>JSON.stringify(result.data)</code>因为我们的<code>result.data</code>是一个对象，要转为字符串的形式，因此要使用<code>JSON.stringify</code></p><h3 id="5-用户携带令牌登录">5. 用户携带令牌登录</h3><h4 id="1-功能引入">1. 功能引入</h4><p>现在我们打开久违的idea，开启拦截器的相关功能这时登录会发现</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/04/683fe5637e884.png" alt="image-20250604141909896"></p><p>咦我明明登了呀 怎么会没有数据。后端就显示没有令牌了。</p><p>也就是说我们在后序的所有请求中没有将token令牌到服务器端</p><h4 id="2-axios的拦截器">2. axios的拦截器</h4><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/04/683fec84ac0c5.png" alt="image-20250604144935575"></p><p>使用<code>axios</code>的拦截器拦截请求，并在请求中添加token</p><p>在<code>request.js</code>中添加如下代码</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 请求拦截器-获取localStorage中的token数据，在请求头中增加token</span></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">config</span>) =&gt;</span> &#123; <span class="comment">// 请求成功时的回调函数</span></span><br><span class="line">    <span class="comment">// 获取localStorage中的token数据</span></span><br><span class="line">   <span class="keyword">const</span> loginUser= <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;loginUser&#x27;</span>));</span><br><span class="line">    <span class="comment">// 判断token是否存在，如果存在则将其添加到请求头中</span></span><br><span class="line">    <span class="keyword">if</span> (loginUser&amp;&amp;loginUser.<span class="property">token</span>) &#123;</span><br><span class="line">      config.<span class="property">headers</span>.<span class="property">token</span>=loginUser.<span class="property">token</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">error</span>) =&gt;</span> &#123; <span class="comment">// 请求失败时的回调函数</span></span><br><span class="line">&#125;</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>注意这里的<code>loginUser</code> 要与<code>index</code>里面的存入token的键保持一致</p><h4 id="3-解决文件上传问题">3. 解决文件上传问题</h4><p>在上一节代码中我们解决了token问题，不过我们的文件上传功能却不能实现了，原因是文件上传组件不是发送的异步请求，而是我们自定义的vue进行发送的。因此不能携带令牌也就不能进行文件上传了</p><p>怎么说不好说</p><p>参照官方文档我们需要在<code>el-update</code>标签里面声明一个<code>:headers="&#123;'token':token&#125;"</code>用于存放的token。这里的token不能写死因此用了动态绑定</p><p>写了token我们就要声明一个token函数</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 声明token的响应式数据</span></span><br><span class="line"><span class="keyword">const</span> token = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><p>那我们是什么时候加载这个请求呢？要在页面加载时就要携带请求头，因此要在钩子函数中声明</p><p>要在钩子函数中声明就要先来获取token</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 获取token</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getToken</span> = <span class="keyword">async</span>(<span class="params"></span>) =&gt;&#123;</span><br><span class="line">  <span class="keyword">const</span> loginUser=<span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;loginUser&#x27;</span>))</span><br><span class="line">  <span class="keyword">if</span>(loginUser &amp;&amp; loginUser.<span class="property">token</span>)&#123;</span><br><span class="line">    token.<span class="property">value</span> = loginUser.<span class="property">token</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>因为localStorage里面放的是字符串，我们要将其转化为对象</p><p>获取成功后将里面的token赋值给token里面去，这时候就会动态绑定到upload里面去。最后在钩子函数中应用</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 钩子函数</span></span><br><span class="line"><span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 查询员工列表数据</span></span><br><span class="line">  <span class="title function_">search</span>();</span><br><span class="line"></span><br><span class="line"> <span class="comment">// 查询所有部门数据</span></span><br><span class="line">  <span class="title function_">queryAllDepts</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 获取token</span></span><br><span class="line">  <span class="title function_">getToken</span>();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>携带令牌登录功能完成</p><h3 id="6未登录显示401跳转到登录页面">6.未登录显示401跳转到登录页面</h3><p>使用axios的拦截器的响应拦截器进行拦截，然后进行判断，如果返回的状态码是401就跳转到登陆页面</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/06/04/683ff96d89fe2.png" alt="image-20250604154440344"></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">request.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">response</span>) =&gt;</span> &#123; <span class="comment">// 响应成功时的回调函数</span></span><br><span class="line">    <span class="comment">// 这里默认返回response中的data字段，通常后端返回的结构为&#123;code: xxx, data: xxx, message: xxx&#125;</span></span><br><span class="line">    <span class="comment">// 可根据实际需求进一步处理（如统一错误码判断、数据格式化等）</span></span><br><span class="line">    <span class="keyword">return</span> response.<span class="property">data</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">error</span>) =&gt;</span> &#123; <span class="comment">// 响应失败时的回调函数</span></span><br><span class="line">     <span class="keyword">if</span> (error.<span class="property">response</span>.<span class="property">status</span> === <span class="number">401</span>) &#123; <span class="comment">// 全等-类型与值相同</span></span><br><span class="line">      <span class="comment">// 提示信息</span></span><br><span class="line">      <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&#x27;登录超时，请重新登录&#x27;</span>);</span><br><span class="line">      <span class="comment">// 跳转到登陆页面</span></span><br><span class="line">      router.<span class="title function_">push</span>(<span class="string">&#x27;/login&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 对请求错误进行统一处理（如记录错误日志、提示用户、重试机制等）</span></span><br><span class="line">    <span class="comment">// 此处直接返回 rejected 状态的Promise，以便调用方通过.catch()捕获错误</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="7-退出登录">7. 退出登录</h3><h4 id="1-页面显示当前用户姓名">1. 页面显示当前用户姓名</h4><p>我们该如何获取当前登录的用户名呢，当我们登录时员工信息已经封装在了localStorage里面了,只要从里面获取就可以了</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line"><span class="keyword">import</span> &#123;ref,onMounted&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">// 当前登录员工</span></span><br><span class="line"><span class="keyword">const</span> loginName = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line"><span class="comment">// 定义钩子函数</span></span><br><span class="line"><span class="title function_">onMounted</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="comment">// 获取当前登录用户名</span></span><br><span class="line">  <span class="keyword">const</span> loginUser = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;loginUser&#x27;</span>));</span><br><span class="line">  <span class="keyword">if</span>(loginUser&amp;&amp;loginUser.<span class="property">name</span>)&#123;</span><br><span class="line">    loginName.<span class="property">value</span> = loginUser.<span class="property">name</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>从本地中获取用户名</p><h4 id="2-退出登录">2. 退出登录</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;a href=<span class="string">&quot;javascript:;&quot;</span> @click=<span class="string">&quot;logout&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">SwitchButton</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span> 退出登录【&#123;&#123;loginName&#125;&#125;】</span><br><span class="line">  &lt;/a&gt;</span><br></pre></td></tr></table></figure><p>退出登录需要绑定一个退出按钮，同时需要将超链接变为死链接</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 定义路由实例</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">useRouter</span>();</span><br><span class="line"><span class="comment">// 退出登录</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">logout</span> = (<span class="params"></span>) =&gt;&#123;</span><br><span class="line"><span class="comment">// 弹框提示用户是否删除</span></span><br><span class="line">   <span class="title class_">ElMessageBox</span>.<span class="title function_">confirm</span>(<span class="string">&#x27;您确定要退出登录吗？&#x27;</span>, <span class="string">&#x27;提示&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">confirmButtonText</span>: <span class="string">&#x27;确定&#x27;</span>,</span><br><span class="line">    <span class="attr">cancelButtonText</span>: <span class="string">&#x27;取消&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;warning&#x27;</span>,</span><br><span class="line">  &#125;).<span class="title function_">then</span>(<span class="title function_">async</span>() =&gt; &#123; <span class="comment">// 确认</span></span><br><span class="line">   <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&#x27;已退出登录&#x27;</span>);</span><br><span class="line">   <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;loginUser&#x27;</span>);</span><br><span class="line">   router.<span class="title function_">push</span>(<span class="string">&#x27;/login&#x27;</span>);</span><br><span class="line">   </span><br><span class="line">  &#125;).<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123; <span class="comment">// 取消</span></span><br><span class="line">    <span class="title class_">ElMessage</span>.<span class="title function_">info</span>(<span class="string">&#x27;已取消退出&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>退出时给出提示信息，然后删除本地用户信息，最后进行跳转</p><h2 id="十一项目打包">十一、项目打包</h2><ol type="1"><li><p>在vscode中运行<code>build</code>脚本命令，这样会生成<code>dish</code>文件夹代表打包成功</p></li><li><p>将项目部署在<code>Nginx</code>上</p></li></ol></article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/03/01/67c2609b7c10b.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/03/01/67c2609b7c10b.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">李阳</div><div class="post-copyright__author_desc"></div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://blog.baskly.fun/posts/49515/">原创</a><a class="post-copyright-title"><span onclick='rm.copyPageUrl("https://blog.baskly.fun/posts/49515/")'>前端学习（tlias为例）</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://blog.baskly.fun/posts/49515/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=前端学习（tlias为例）&amp;url=https://blog.baskly.fun/posts/49515/&amp;pic=https://bu.dusays.com/2024/11/24/674340e151d6a.png?_r_=90fa1921-0a69-b602-3178-9ee5211c46f1" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl(){var e=window.location.href,t=document.createElement("input");t.setAttribute("value",e),document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t)}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.baskly.fun" target="_blank">李阳的秘密小屋</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__category-list"><a class="post-meta__box__categoryes" href="/categories/java/"><span class="categoryes-punctuation"><i class="anzhiyufont anzhiyu-icon-inbox"></i></span> java<span class="categoryesPageCount">8</span></a></div><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/javaweb/"><span class="tags-punctuation"><i class="anzhiyufont anzhiyu-icon-tag"></i></span> javaweb<span class="tagsPageCount">8</span></a></div></div><div class="post_share"><div class="social-share" data-image="https://bu.dusays.com/2024/11/24/674340e0cd15e.png?_r_=320ac6a6-3bf5-9cc8-180a-c9c4b73ea680" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/37847/"><img class="prev-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2024/11/24/674340e362114.png?_r_=2740eacc-5213-f130-b94e-e88d2cdbffba" onerror='onerror=null,src="https://bu.dusays.com/2025/05/30/68398ca86a127.gif"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">tlias 智能管理系统</div></div></a></div><div class="next-post pull-right"><a href="/posts/42622/"><img class="next-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2024/11/24/674340e0cd15e.png?_r_=320ac6a6-3bf5-9cc8-180a-c9c4b73ea680" onerror='onerror=null,src="https://bu.dusays.com/2025/05/30/68398ca86a127.gif"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">SpringCloud</div></div></a></div></nav><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i> <span>评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left:4px">隐私政策</a></div><div class="comment-tips" id="comment-tips"><span>✅ 你无需删除空行，直接评论以获取最佳展示效果</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/03/01/67c2609b7c10b.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"><div class="author-status"><img class="g-status" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2021/01/15/805daa7195f2c.gif" alt="status"></div></div><div class="author-info__description"><div style="line-height:1.38;margin:.6rem 0;text-align:justify;color:rgba(255,255,255,.8)">这有描绘<b style="color:#fff">我的痕迹</b></div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/about"><h1 class="author-info__name">李阳</h1><div class="author-info__desc"></div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/lyay23" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#talis%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91"><span class="toc-number">1.</span> <span class="toc-text">talis前端开发</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-vue%E9%A1%B9%E7%9B%AE%E5%85%A5%E9%97%A8"><span class="toc-number">1.1.</span> <span class="toc-text">一、 Vue项目入门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%96%B0%E5%BB%BAvue%E5%B7%A5%E7%A8%8B%E5%8C%96%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.1.1.</span> <span class="toc-text">1. 新建vue工程化项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E9%A1%B9%E7%9B%AE%E6%96%87%E4%BB%B6%E7%AE%80%E4%BB%8B"><span class="toc-number">1.1.2.</span> <span class="toc-text">2. 项目文件简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-vue%E9%A1%B9%E7%9B%AE%E7%9A%84%E5%BC%80%E5%8F%91%E8%AE%BF%E9%97%AE%E6%B5%81%E7%A8%8B"><span class="toc-number">1.1.3.</span> <span class="toc-text">3. vue项目的开发访问流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-vue%E7%9A%84api%E9%A3%8E%E6%A0%BC"><span class="toc-number">1.1.4.</span> <span class="toc-text">4. Vue的API风格</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E9%80%89%E9%A1%B9%E5%BC%8Fapi"><span class="toc-number">1.1.4.1.</span> <span class="toc-text">1. 选项式API</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%BB%84%E5%90%88%E5%BC%8Fapi"><span class="toc-number">1.1.4.2.</span> <span class="toc-text">2. 组合式API</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E7%BB%84%E5%90%88%E5%BC%8Fapi%E5%B0%8F%E6%A1%88%E4%BE%8B"><span class="toc-number">1.1.5.</span> <span class="toc-text">5. 组合式API小案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-elementplus"><span class="toc-number">1.1.6.</span> <span class="toc-text">6. ElementPlus</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%AF%BC%E5%85%A5%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.1.6.1.</span> <span class="toc-text">1. 导入步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E8%A1%A8%E6%A0%BC%E7%BB%84%E4%BB%B6"><span class="toc-number">1.1.6.2.</span> <span class="toc-text">2. 表格组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%88%86%E9%A1%B5%E6%9D%A1%E7%BB%84%E4%BB%B6"><span class="toc-number">1.1.6.3.</span> <span class="toc-text">3. 分页条组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%AF%B9%E8%AF%9D%E6%A1%86%E7%BB%84%E4%BB%B6"><span class="toc-number">1.1.6.4.</span> <span class="toc-text">4. 对话框组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6"><span class="toc-number">1.1.6.5.</span> <span class="toc-text">5. 表单组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-elementplus%E7%9A%84%E5%B0%8F%E6%A1%88%E4%BE%8B"><span class="toc-number">1.1.6.6.</span> <span class="toc-text">6. ElementPlus的小案例</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E5%AE%9A%E4%B9%89%E8%A1%A8%E5%8D%95%E5%86%85%E5%AE%B9"><span class="toc-number">1.1.6.6.1.</span> <span class="toc-text">1.定义表单内容</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%AE%8C%E6%88%90%E8%A1%A8%E6%A0%BC%E5%86%85%E5%AE%B9"><span class="toc-number">1.1.6.6.2.</span> <span class="toc-text">2. 完成表格内容</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%A0%BC%E7%BB%91%E5%AE%9A%E5%86%85%E5%AE%B9"><span class="toc-number">1.1.6.6.3.</span> <span class="toc-text">3. 修改表格绑定内容</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E6%9B%B4%E6%94%B9%E5%9B%BE%E7%89%87%E5%B1%9E%E6%80%A7"><span class="toc-number">1.1.6.6.4.</span> <span class="toc-text">4. 更改图片属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-%E6%9C%80%E7%BB%88%E6%95%88%E6%9E%9C"><span class="toc-number">1.1.6.6.5.</span> <span class="toc-text">5. 最终效果</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8Ctlias%E4%BE%A7%E8%BE%B9%E6%A0%8F%E5%BC%80%E5%8F%91"><span class="toc-number">1.2.</span> <span class="toc-text">二、tlias侧边栏开发</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%B7%A6%E4%BE%A7%E4%BE%A7%E8%BE%B9%E6%A0%8F"><span class="toc-number">1.2.1.</span> <span class="toc-text">1. 左侧侧边栏</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%B7%A6%E4%BE%A7%E8%8F%9C%E5%8D%95%E5%9F%BA%E6%9C%AC%E5%AE%9A%E4%B9%89"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">1. 左侧菜单基本定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%8A%A8%E6%80%81%E8%8F%9C%E5%8D%95router%E8%B7%AF%E7%94%B1"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">2. 动态菜单（Router路由）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E5%BC%80%E5%90%AFrouter"><span class="toc-number">1.2.1.2.1.</span> <span class="toc-text">1. 开启router</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E9%85%8D%E7%BD%AE%E8%B7%AF%E7%94%B1index"><span class="toc-number">1.2.1.2.2.</span> <span class="toc-text">2.配置路由index</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%9C%A8%E9%9C%80%E8%A6%81%E5%B1%95%E7%A4%BA%E7%9A%84%E5%9C%B0%E6%96%B9%E5%AF%BC%E5%85%A5%E8%A7%86%E5%9B%BE"><span class="toc-number">1.2.1.2.3.</span> <span class="toc-text">3. 在需要展示的地方导入视图</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E9%A1%B5%E9%9D%A2%E5%B1%95%E7%A4%BA"><span class="toc-number">1.2.1.2.4.</span> <span class="toc-text">4.页面展示</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1"><span class="toc-number">1.2.1.3.</span> <span class="toc-text">3. 嵌套路由</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6"><span class="toc-number">1.2.1.3.1.</span> <span class="toc-text">1. 动态路由组件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E8%B7%AF%E7%94%B1%E5%B5%8C%E5%A5%97"><span class="toc-number">1.2.1.3.2.</span> <span class="toc-text">2. 路由嵌套</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E9%83%A8%E9%97%A8%E7%AE%A1%E7%90%86-%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.3.</span> <span class="toc-text">三、部门管理-查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%A1%B5%E9%9D%A2%E5%88%86%E6%9E%90"><span class="toc-number">1.3.1.</span> <span class="toc-text">1. 页面分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80%E5%BC%80%E5%8F%91"><span class="toc-number">1.3.2.</span> <span class="toc-text">2. 页面布局开发</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%88%97%E8%A1%A8%E6%9F%A5%E8%AF%A2-%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE"><span class="toc-number">1.3.3.</span> <span class="toc-text">3. 列表查询-加载数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%A8%8B%E5%BA%8F%E4%BC%98%E5%8C%96"><span class="toc-number">1.3.4.</span> <span class="toc-text">4. 程序优化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90"><span class="toc-number">1.3.4.1.</span> <span class="toc-text">1. 代码分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%85%B7%E4%BD%93%E4%BB%A3%E7%A0%81"><span class="toc-number">1.3.4.2.</span> <span class="toc-text">2. 具体代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86"><span class="toc-number">1.3.4.3.</span> <span class="toc-text">3. 反向代理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E9%83%A8%E9%97%A8%E7%AE%A1%E7%90%86-%E6%96%B0%E5%A2%9E"><span class="toc-number">1.4.</span> <span class="toc-text">四、部门管理-新增</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%A1%B5%E9%9D%A2%E5%8E%9F%E5%9E%8B"><span class="toc-number">1.4.1.</span> <span class="toc-text">1. 页面原型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%96%B0%E5%A2%9E%E9%83%A8%E9%97%A8"><span class="toc-number">1.4.2.</span> <span class="toc-text">2. 新增部门</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%AE%9A%E4%B9%89dialog"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">1. 定义dialog</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%AF%BC%E5%85%A5%E6%B6%88%E6%81%AF%E7%BB%84%E4%BB%B6"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">2. 导入消息组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%88%9D%E5%A7%8B%E4%BB%A3%E7%A0%81%E5%8A%9F%E8%83%BD%E5%AE%8C%E6%88%90%E6%9C%AA%E5%AE%8C%E6%88%90%E8%A1%A8%E5%8D%95%E6%A0%A1%E9%AA%8C%E5%8A%9F%E8%83%BD"><span class="toc-number">1.4.2.3.</span> <span class="toc-text">3. 初始代码功能完成(未完成表单校验功能)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E6%96%B0%E5%A2%9E%E4%BC%98%E5%8C%96"><span class="toc-number">1.4.2.4.</span> <span class="toc-text">4. 新增优化</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA"><span class="toc-number">1.4.2.4.1.</span> <span class="toc-text">1. 效果展示</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E8%A1%A8%E5%8D%95%E8%A7%84%E5%88%99%E6%A0%A1%E9%AA%8C%E6%8B%A6%E6%88%AA"><span class="toc-number">1.4.2.4.2.</span> <span class="toc-text">2. 表单规则校验拦截</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E9%83%A8%E9%97%A8%E7%AE%A1%E7%90%86-%E4%BF%AE%E6%94%B9%E9%83%A8%E9%97%A8"><span class="toc-number">1.5.</span> <span class="toc-text">五、部门管理-修改部门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%A1%B5%E9%9D%A2%E5%8E%9F%E5%9E%8B-1"><span class="toc-number">1.5.1.</span> <span class="toc-text">1. 页面原型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%88%86%E6%9E%90-%E6%9F%A5%E8%AF%A2%E5%9B%9E%E6%98%BE"><span class="toc-number">1.5.2.</span> <span class="toc-text">2. 分析-查询回显</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%88%86%E6%9E%90-%E4%BF%AE%E6%94%B9"><span class="toc-number">1.5.3.</span> <span class="toc-text">3. 分析-修改</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E9%83%A8%E9%97%A8%E7%AE%A1%E7%90%86-%E5%88%A0%E9%99%A4%E9%83%A8%E9%97%A8"><span class="toc-number">1.6.</span> <span class="toc-text">六、部门管理-删除部门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%A1%B5%E9%9D%A2%E5%8E%9F%E5%9E%8B-2"><span class="toc-number">1.6.1.</span> <span class="toc-text">1. 页面原型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%85%B7%E4%BD%93%E6%80%9D%E8%B7%AF%E4%BB%A3%E7%A0%81"><span class="toc-number">1.6.2.</span> <span class="toc-text">2. 具体思路代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E5%91%98%E5%B7%A5%E7%AE%A1%E7%90%86-%E5%91%98%E5%B7%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.7.</span> <span class="toc-text">七、员工管理-员工查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E9%A1%B5%E9%9D%A2%E5%8E%9F%E5%9E%8B"><span class="toc-number">1.7.1.</span> <span class="toc-text">1.页面原型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3"><span class="toc-number">1.7.2.</span> <span class="toc-text">2. 接口文档</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%90%9C%E7%B4%A2%E6%A0%8F%E5%88%B6%E4%BD%9C"><span class="toc-number">1.7.3.</span> <span class="toc-text">3. 搜索栏制作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%9F%BA%E7%A1%80%E9%A1%B5%E9%9D%A2%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.7.3.1.</span> <span class="toc-text">1. 基础页面设置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E4%BC%98%E5%8C%96data%E6%95%B0%E6%8D%AE%E5%9D%97%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC"><span class="toc-number">1.7.3.2.</span> <span class="toc-text">2. 优化data数据块（事件监听）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8watch%E7%9B%91%E5%90%AC%E5%87%BD%E6%95%B0%E7%9B%91%E5%90%AC%E6%97%A5%E6%9C%9F"><span class="toc-number">1.7.3.2.1.</span> <span class="toc-text">使用watch监听函数监听日期</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E8%A1%A8%E5%8D%95%E5%88%B6%E4%BD%9C%E8%AF%A6%E7%BB%86%E7%89%88"><span class="toc-number">1.7.4.</span> <span class="toc-text">4.表单制作（详细版）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%88%86%E9%A1%B5%E6%9D%A1%E5%88%B6%E4%BD%9C"><span class="toc-number">1.7.5.</span> <span class="toc-text">5. 分页条制作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%88%97%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.7.6.</span> <span class="toc-text">6. 列表查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%9F%A5%E8%AF%A2%E5%8A%9F%E8%83%BD%E9%A1%B5%E9%9D%A2%E5%88%86%E6%9E%90"><span class="toc-number">1.7.6.1.</span> <span class="toc-text">1. 查询功能页面分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%8A%9F%E8%83%BD%E4%B9%A6%E5%86%99"><span class="toc-number">1.7.6.2.</span> <span class="toc-text">2. 功能书写</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB-%E5%91%98%E5%B7%A5%E7%AE%A1%E7%90%86-%E6%96%B0%E5%A2%9E%E5%91%98%E5%B7%A5"><span class="toc-number">1.8.</span> <span class="toc-text">八、 员工管理-新增员工</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80"><span class="toc-number">1.8.1.</span> <span class="toc-text">1. 页面布局</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3-1"><span class="toc-number">1.8.2.</span> <span class="toc-text">2. 接口文档</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-dialog-%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-number">1.8.3.</span> <span class="toc-text">3. Dialog 对话框</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E9%A1%B5%E9%9D%A2%E5%9F%BA%E6%9C%AC%E5%B8%83%E5%B1%80"><span class="toc-number">1.8.3.1.</span> <span class="toc-text">1. 页面基本布局</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%98%BE%E7%A4%BA%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-number">1.8.3.2.</span> <span class="toc-text">2. 显示对话框</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E8%A1%A8%E5%8D%95%E8%A7%A3%E6%9E%90"><span class="toc-number">1.8.3.3.</span> <span class="toc-text">3.表单解析</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80%E4%BC%98%E5%8C%96%E6%80%A7%E5%88%AB%E8%81%8C%E4%BD%8D%E6%89%80%E5%B1%9E%E9%83%A8%E9%97%A8"><span class="toc-number">1.8.4.</span> <span class="toc-text">4.页面布局优化（性别，职位，所属部门）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E6%80%A7%E5%88%AB%E4%B8%8E%E8%81%8C%E4%BD%8D"><span class="toc-number">1.8.4.0.1.</span> <span class="toc-text">1. 性别与职位</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E6%89%80%E5%B1%9E%E9%83%A8%E9%97%A8%E5%8A%A8%E6%80%81%E4%BC%98%E5%8C%96"><span class="toc-number">1.8.4.0.2.</span> <span class="toc-text">2. 所属部门动态优化</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E7%9B%B8%E5%85%B3"><span class="toc-number">1.8.5.</span> <span class="toc-text">5. 图片上传相关</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%B4%E5%83%8F%E5%9B%9E%E6%98%BE%E9%80%BB%E8%BE%91"><span class="toc-number">1.8.5.0.1.</span> <span class="toc-text">头像回显逻辑</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%B7%A5%E4%BD%9C%E7%BB%8F%E5%8E%86%E7%9A%84%E9%A1%B5%E9%9D%A2%E4%BA%A4%E4%BA%92"><span class="toc-number">1.8.6.</span> <span class="toc-text">6. 工作经历的页面交互</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E9%A1%B5%E9%9D%A2%E5%8E%9F%E5%9E%8B-3"><span class="toc-number">1.8.6.1.</span> <span class="toc-text">1. 页面原型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%AE%9E%E7%8E%B0%E6%80%9D%E8%B7%AF"><span class="toc-number">1.8.6.2.</span> <span class="toc-text">2. 实现思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E4%BF%9D%E5%AD%98%E5%91%98%E5%B7%A5"><span class="toc-number">1.8.7.</span> <span class="toc-text">7. 保存员工</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E9%A1%B5%E9%9D%A2%E5%88%86%E6%9E%90-1"><span class="toc-number">1.8.7.1.</span> <span class="toc-text">1. 页面分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%8A%9F%E8%83%BD%E5%BC%80%E5%8F%91"><span class="toc-number">1.8.7.2.</span> <span class="toc-text">2. 功能开发</span></a></li></ol></li></ol><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D%E4%BF%AE%E6%94%B9%E5%91%98%E5%B7%A5"><span class="toc-number">1.9.</span> <span class="toc-text">九、修改员工</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%A1%B5%E9%9D%A2%E5%8E%9F%E5%9E%8B-4"><span class="toc-number">1.9.1.</span> <span class="toc-text">1. 页面原型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%9F%A5%E8%AF%A2%E5%9B%9E%E6%98%BE%E5%8A%9F%E8%83%BD"><span class="toc-number">1.9.2.</span> <span class="toc-text">2. 查询回显功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%82%B9%E5%87%BB%E4%BF%9D%E5%AD%98%E4%BF%AE%E6%94%B9%E5%91%98%E5%B7%A5%E6%95%B0%E6%8D%AE"><span class="toc-number">1.9.3.</span> <span class="toc-text">3. 点击保存修改员工数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E5%88%A0%E9%99%A4%E5%8A%9F%E8%83%BD"><span class="toc-number">1.10.</span> <span class="toc-text">十、删除功能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%A0%E9%99%A4%E5%8D%95%E4%B8%AA%E5%91%98%E5%B7%A5"><span class="toc-number">1.10.1.</span> <span class="toc-text">1. 删除单个员工</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E9%A1%B5%E9%9D%A2%E5%8E%9F%E5%9E%8B-5"><span class="toc-number">1.10.1.1.</span> <span class="toc-text">1. 页面原型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-api%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.10.1.2.</span> <span class="toc-text">2. api设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E4%B8%BA%E5%88%A0%E9%99%A4%E6%8C%89%E9%92%AE%E7%BB%91%E5%AE%9A%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6"><span class="toc-number">1.10.1.3.</span> <span class="toc-text">3. 为删除按钮绑定点击事件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%89%B9%E9%87%8F%E5%88%A0%E9%99%A4"><span class="toc-number">1.10.2.</span> <span class="toc-text">2. 批量删除</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E9%A1%B5%E9%9D%A2%E5%88%86%E6%9E%90-2"><span class="toc-number">1.10.2.1.</span> <span class="toc-text">1. 页面分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E4%BB%A3%E7%A0%81%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.10.2.2.</span> <span class="toc-text">2. 代码设计</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%B8%80-%E5%91%98%E5%B7%A5%E7%99%BB%E5%BD%95"><span class="toc-number">1.11.</span> <span class="toc-text">十一、 员工登录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%A1%B5%E9%9D%A2%E5%8E%9F%E5%9E%8B-6"><span class="toc-number">1.11.1.</span> <span class="toc-text">1. 页面原型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="toc-number">1.11.2.</span> <span class="toc-text">2. 准备工作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%88%9D%E5%A7%8B%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD"><span class="toc-number">1.11.3.</span> <span class="toc-text">3. 初始登录功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E5%AD%98%E5%82%A8%E7%99%BB%E5%BD%95token"><span class="toc-number">1.11.4.</span> <span class="toc-text">4.存储登录token</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-localstorage"><span class="toc-number">1.11.4.1.</span> <span class="toc-text">1. localStorage</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%B0%86%E7%94%A8%E6%88%B7%E8%BF%94%E5%9B%9E%E5%88%B0token%E5%AD%98%E5%82%A8%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD"><span class="toc-number">1.11.4.2.</span> <span class="toc-text">2. 将用户返回到token存储在浏览器中</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E7%94%A8%E6%88%B7%E6%90%BA%E5%B8%A6%E4%BB%A4%E7%89%8C%E7%99%BB%E5%BD%95"><span class="toc-number">1.11.5.</span> <span class="toc-text">5. 用户携带令牌登录</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%8A%9F%E8%83%BD%E5%BC%95%E5%85%A5"><span class="toc-number">1.11.5.1.</span> <span class="toc-text">1. 功能引入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-axios%E7%9A%84%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="toc-number">1.11.5.2.</span> <span class="toc-text">2. axios的拦截器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E8%A7%A3%E5%86%B3%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E9%97%AE%E9%A2%98"><span class="toc-number">1.11.5.3.</span> <span class="toc-text">3. 解决文件上传问题</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E6%9C%AA%E7%99%BB%E5%BD%95%E6%98%BE%E7%A4%BA401%E8%B7%B3%E8%BD%AC%E5%88%B0%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2"><span class="toc-number">1.11.6.</span> <span class="toc-text">6.未登录显示401跳转到登录页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E9%80%80%E5%87%BA%E7%99%BB%E5%BD%95"><span class="toc-number">1.11.7.</span> <span class="toc-text">7. 退出登录</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E9%A1%B5%E9%9D%A2%E6%98%BE%E7%A4%BA%E5%BD%93%E5%89%8D%E7%94%A8%E6%88%B7%E5%A7%93%E5%90%8D"><span class="toc-number">1.11.7.1.</span> <span class="toc-text">1. 页面显示当前用户姓名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E9%80%80%E5%87%BA%E7%99%BB%E5%BD%95"><span class="toc-number">1.11.7.2.</span> <span class="toc-text">2. 退出登录</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%B8%80%E9%A1%B9%E7%9B%AE%E6%89%93%E5%8C%85"><span class="toc-number">1.12.</span> <span class="toc-text">十一、项目打包</span></a></li></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/3860/" title="黑马学成在线"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2024/12/24/676a8d8bc7d9f.png?_r_=12d2250b-bfb2-7ebd-93d6-e17c454f21c3" onerror='this.onerror=null,this.src="https://bu.dusays.com/2025/05/30/68398ca86a127.gif"' alt="黑马学成在线"></a><div class="content"><a class="title" href="/posts/3860/" title="黑马学成在线">黑马学成在线</a><time datetime="2025-08-04T02:34:21.000Z" title="发表于 2025-08-04 10:34:21">2025-08-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/33676/" title="战痘日记"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2024/11/24/674340e56737a.png?_r_=592630e6-0989-96ae-3b16-042679aa63e5" onerror='this.onerror=null,this.src="https://bu.dusays.com/2025/05/30/68398ca86a127.gif"' alt="战痘日记"></a><div class="content"><a class="title" href="/posts/33676/" title="战痘日记">战痘日记</a><time datetime="2025-07-21T10:34:21.000Z" title="发表于 2025-07-21 18:34:21">2025-07-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/42622/" title="SpringCloud"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2024/11/24/674340e0cd15e.png?_r_=320ac6a6-3bf5-9cc8-180a-c9c4b73ea680" onerror='this.onerror=null,this.src="https://bu.dusays.com/2025/05/30/68398ca86a127.gif"' alt="SpringCloud"></a><div class="content"><a class="title" href="/posts/42622/" title="SpringCloud">SpringCloud</a><time datetime="2025-07-13T00:34:21.000Z" title="发表于 2025-07-13 08:34:21">2025-07-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/49515/" title="前端学习（tlias为例）"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2024/11/24/674340e151d6a.png?_r_=90fa1921-0a69-b602-3178-9ee5211c46f1" onerror='this.onerror=null,this.src="https://bu.dusays.com/2025/05/30/68398ca86a127.gif"' alt="前端学习（tlias为例）"></a><div class="content"><a class="title" href="/posts/49515/" title="前端学习（tlias为例）">前端学习（tlias为例）</a><time datetime="2025-05-25T03:34:21.000Z" title="发表于 2025-05-25 11:34:21">2025-05-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/37847/" title="tlias 智能管理系统"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/05/30/68398ca86a127.gif&quot;" data-lazy-src="https://bu.dusays.com/2024/11/24/674340e362114.png?_r_=2740eacc-5213-f130-b94e-e88d2cdbffba" onerror='this.onerror=null,this.src="https://bu.dusays.com/2025/05/30/68398ca86a127.gif"' alt="tlias 智能管理系统"></a><div class="content"><a class="title" href="/posts/37847/" title="tlias 智能管理系统">tlias 智能管理系统</a><time datetime="2025-04-07T03:34:21.000Z" title="发表于 2025-04-07 11:34:21">2025-04-07</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By 李阳</div><div class="footer_custom_text">下次再见！</div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">19</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">10</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">6</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size:.9em"></i> <span>隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size:.9em"></i> <span>分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size:.9em"></i> <span>标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/charts/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-tongji1"></use></svg> <span>统计</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=12781955100&amp;server=netease"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size:.9em"></i> <span>耳机分你一半</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size:.9em"></i> <span>留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/todolist/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-zuji"></use></svg> <span>脚步</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/essay/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-taiyang"></use></svg> <span>小太阳</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-a-xiaoyangyang_huaban1"></use></svg> <span>了解我</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/408/" style="font-size:.88rem">408<sup>1</sup></a><a href="/tags/C%E8%AF%AD%E8%A8%80/" style="font-size:.88rem">C语言<sup>1</sup></a><a href="/tags/javaweb/" style="font-size:.88rem">javaweb<sup>8</sup></a><a href="/tags/%E5%8A%9B%E6%89%A3%E5%88%B7%E9%A2%98/" style="font-size:.88rem">力扣刷题<sup>1</sup></a><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size:.88rem">操作系统<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size:.88rem">数据结构<sup>1</sup></a><a href="/tags/%E6%97%A5%E5%B8%B8/" style="font-size:.88rem">日常<sup>1</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" style="font-size:.88rem">计算机组成原理<sup>1</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size:.88rem">计算机网络<sup>2</sup></a><a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" style="font-size:.88rem">软件工程<sup>1</sup></a></div></div><hr></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button><button id="go-down" type="button" title="直达底部" onclick="anzhiyu.scrollToDest(document.body.scrollHeight,500)"><i class="anzhiyufont anzhiyu-icon-arrow-down"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="12781955100" server="netease" type="playlist" mutex="true" preload="none" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i> <span>数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size:1rem"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://music.163.com/#/playlist?id=12781955100&quot;, &quot;_blank&quot;);" style="display:none"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://cdn.cbd.int/pangu@4.0.7/dist/browser/pangu.min.js").then((()=>{pangu.autoSpacingPage()}))}function panguInit(){GLOBAL_CONFIG_SITE.isPost&&panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>var HoldLog=console.log;console.log=function(){};let now1=new Date;queueMicrotask((()=>{const o=function(){HoldLog.apply(console,arguments)},n=new Date("04/01/2021 00:00:00");now1.setTime(now1.getTime()+250);const c=(now1-n)/1e3/60/60/24,e=["欢迎使用安知鱼!","生活明朗, 万物可爱","\n        \n       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗\n      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║\n      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║\n      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║\n      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝\n      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝\n        \n        ","已上线",Math.floor(c),"天","©2024 By 安知鱼 V1.6.14"],t=["NCC2-036","调用前置摄像头拍照成功，识别为【小笨蛋】.","Photo captured: ","🤪"];setTimeout(o.bind(console,`\n%c${e[0]} %c ${e[1]} %c ${e[2]} %c${e[3]}%c ${e[4]}%c ${e[5]}\n\n%c ${e[6]}\n`,"color:#425AEF","","color:#425AEF","color:#425AEF","","color:#425AEF","")),setTimeout(o.bind(console,`%c ${t[0]} %c ${t[1]} %c \n${t[2]} %c\n${t[3]}\n`,"color:white; background-color:#4fd953","","",'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%')),setTimeout(o.bind(console,"%c WELCOME %c 你好，小笨蛋.","color:white; background-color:#4f90d9","")),setTimeout(console.warn.bind(console,"%c ⚡ Powered by 安知鱼 %c 你正在访问 李阳 的博客.","color:white; background-color:#f0ad4e","")),setTimeout(o.bind(console,"%c W23-12 %c 你已打开控制台.","color:white; background-color:#4f90d9","")),setTimeout(console.warn.bind(console,"%c S013-782 %c 你现在正处于监控中.","color:white; background-color:#d9534f",""))}))</script><script async src="/anzhiyu/random.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><link rel="stylesheet" href="https://cdn.cbd.int/katex@0.16.0/dist/katex.min.css"><script src="https://cdn.cbd.int/katex@0.16.0/dist/contrib/copy-tex.min.js"></script><script>document.querySelectorAll("#article-container span.katex-display").forEach((a=>{anzhiyu.wrap(a,"div",{class:"katex-wrap"})}))</script><script>(()=>{const e=document.querySelectorAll("#article-container .mermaid-wrap");if(0===e.length)return;const t=()=>{window.loadMermaid=!0;const t="dark"===document.documentElement.getAttribute("data-theme")?"dark":"default";Array.from(e).forEach(((e,n)=>{const d=e.firstElementChild,r="mermaid-"+n,a="%%{init:{ 'theme':'"+t+"'}}%%\n"+d.textContent,i=mermaid.render(r,a);var m;"string"==typeof i?(m=i,d.insertAdjacentHTML("afterend",m)):i.then((({svg:e})=>{d.insertAdjacentHTML("afterend",e)}))}))},n=()=>{window.loadMermaid?t():getScript("https://cdn.cbd.int/mermaid@10.2.4/dist/mermaid.min.js").then(t)};anzhiyu.addGlobalFn("themeChange",t,"mermaid"),window.pjax?n():document.addEventListener("DOMContentLoaded",n)})()</script><script>(()=>{const t=()=>{"object"==typeof twikoo?setTimeout(o,0):getScript("https://cdn.cbd.int/twikoo@1.6.39/dist/twikoo.all.min.js").then(o)},o=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo.baskly.fun",region:"",onCommentLoaded:()=>{anzhiyu.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null)),GLOBAL_CONFIG_SITE.isPost&&(()=>{const t=document.getElementById("twikoo-count");t&&twikoo.getCommentsCount({envId:"https://twikoo.baskly.fun",region:"",urls:[window.location.pathname],includeReply:!1}).then((o=>{t.textContent=o[0].count})).catch((t=>{console.error(t)}))})()};t()})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>window.addEventListener("load",(()=>{const e=e=>{let t="";if(e.length)for(let n=0;n<e.length;n++){t+="<div class='aside-list-item'>";{const a="data-lazy-src";t+=`<a href='${e[n].url}' class='thumbnail'><img ${a}='${e[n].avatar}' alt='${e[n].nick}'><div class='name'><span>${e[n].nick} </span></div></a>`}t+=`<div class='content'>\n        <a class='comment' href='${e[n].url}' title='${e[n].content}'>${e[n].content}</a>\n        <time datetime="${e[n].date}">${anzhiyu.diffDate(e[n].date,!0)}</time></div>\n        </div>`}else t+="没有评论";let n=document.querySelector("#card-newest-comments .aside-list");n&&(n.innerHTML=t),window.lazyLoadInstance&&window.lazyLoadInstance.update(),window.pjax&&window.pjax.refresh(n)},t=()=>{if(document.querySelector("#card-newest-comments .aside-list")){const t=saveToLocal.get("twikoo-newest-comments");t?e(JSON.parse(t)):(()=>{const t=()=>{twikoo.getRecentComments({envId:"https://twikoo.baskly.fun",region:"",pageSize:6,includeReply:!0}).then((function(t){const n=t.map((e=>{return{content:(t=e.comment,""===t||(t=(t=(t=(t=t.replace(/<img.*?src="(.*?)"?[^\>]+>/gi,"[图片]")).replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi,"[链接]")).replace(/<pre><code>.*?<\/pre>/gi,"[代码]")).replace(/<[^>]+>/g,"")).length>150&&(t=t.substring(0,150)+"..."),t),avatar:e.avatar,nick:e.nick,url:e.url+"#"+e.id,date:new Date(e.created).toISOString()};var t}));saveToLocal.set("twikoo-newest-comments",JSON.stringify(n),10/1440),e(n)})).catch((function(e){document.querySelector("#card-newest-comments .aside-list").textContent="无法获取评论，请确认相关配置是否正确"}))};"object"==typeof twikoo?t():getScript("https://cdn.cbd.int/twikoo@1.6.39/dist/twikoo.all.min.js").then(t)})()}};t(),document.addEventListener("pjax:complete",t)}))</script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail="yang@li.com"</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><script async src="//at.alicdn.com/t/c/font_4782341_g014uvnbwk6.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/echarts/4.9.0-rc.1/echarts.min.js"></script><script src="https://lib.baomitu.com/echarts/4.9.0-rc.1/echarts.min.js"></script><script src="https://jsd-proxy.ygxz.in/gh/lyay23/blogstatic@v1.0.0/static/imgloaded.min.js"></script><script src="https://jsd-proxy.ygxz.in/gh/lyay23/blogstatic@v1.0.0/static/countdown.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors=['meta[property="og:image"]','meta[property="og:title"]','meta[property="og:url"]','meta[property="og:type"]','meta[property="og:site_name"]','meta[property="og:description"]',"head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"]):not([href="/music/"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(anzhiyu.removeGlobalFnEvent("pjax"),anzhiyu.removeGlobalFnEvent("themeChange"),document.getElementById("rightside").classList.remove("rightside-show"),window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode")})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach((e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)})),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()})),document.addEventListener("pjax:error",(e=>{404===e.request.status&&pjax.loadUrl("/404.html")}))</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>